import{c as _,j as l,r as C,R as mt}from"./react-B2RL9x2s.js";import{c as _t}from"./react-dom-BizTJEze.js";import{T as Ct,t as at}from"./sonner-BTnuTZt4.js";import{c as ut}from"./zustand-B_-DjuRk.js";import{l as rt}from"./lodash-BkzDGCz7.js";import{I as Et,C as Tt,a as It,S as Lt,M as zt,D as he,b as $t,G as kt,c as Rt,d as Dt,T as At,H as Pt,e as Ot,f as Mt,K as Ft,g as Bt,h as Be,i as ft,j as Ut,k as Qt,l as Ht,m as Vt,n as Gt,o as Wt,p as Kt,F as Ze,L as ht,P as Fe,q as Ne,r as nt,s as qt,t as xt,A as Xt,u as Yt,v as Jt,w as Zt,x as es,y as et,z as Me,B as ts,X as ss,E as ls}from"./lucide-react-BgJ_tp0O.js";import{R as as,T as rs,C as ns,L as is,S as os,P as cs,a as ds,I as ms,V as us,b as fs,c as hs,d as xs,e as ps,f as bs,g as gs,h as js,i as Ns,j as ys,k as vs,l as ws,m as Ss,n as _s}from"./@radix-ui-BVJlWgqc.js";import{c as Cs}from"./clsx-B-dksMZM.js";import{t as Es}from"./tailwind-merge-BJOqOzcM.js";import{c as Ts}from"./class-variance-authority-Dp3B9jqt.js";import{P as Is,a as Ls,b as zs}from"./react-resizable-panels-CRWyJmDH.js";import{R as $s,d as ks}from"./@uiw-CUzkTaq_.js";import{G as Rs,I as Ds,r as As}from"./@codemirror-BjKk2IdN.js";import{F as Ps}from"./react-window-DS7bPhEA.js";import{A as Os}from"./react-virtualized-auto-sizer-Dc1p5HBS.js";import"./scheduler-SPyfQU6S.js";import"./aria-hidden-DQ5UC2Eg.js";import"./react-remove-scroll-DWlXkXzq.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-DpNLLOLX.js";import"./react-style-singleton-D7c23Nxa.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-BS8h9NSd.js";import"./use-callback-ref-hrg4jhP2.js";import"./@floating-ui-CMvgovlv.js";import"./@babel-BTbEZfjA.js";import"./@lezer-E7PapBHi.js";import"./crelt-C8TCjufn.js";import"./@marijn-DXwl3gUT.js";import"./style-mod-Bc2inJdb.js";import"./w3c-keyname-Vcq4gwWv.js";import"./memoize-one-CcMeOnPo.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}})();function Ms(){const t=_.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=l.jsx(Ct,{position:"bottom-center",toastOptions:{className:"custom-toast",duration:2e3,style:{fontFamily:"Lexend, sans-serif",borderRadius:"0.5rem",fontSize:"0.875rem",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:"1px solid var(--border)",background:"var(--background)",color:"var(--foreground)"}}}),t[0]=e):e=t[0],e}const Fs={theme:"system",setTheme:()=>null},pt=C.createContext(Fs);function Bs(t){const e=_.c(20);let s,a,r,n;e[0]!==t?({children:s,defaultTheme:r,storageKey:n,...a}=t,e[0]=t,e[1]=s,e[2]=a,e[3]=r,e[4]=n):(s=e[1],a=e[2],r=e[3],n=e[4]);const i=r===void 0?"system":r,o=n===void 0?"vite-ui-theme":n;let c;e[5]!==i||e[6]!==o?(c=()=>localStorage.getItem(o)||i,e[5]=i,e[6]=o,e[7]=c):c=e[7];const[m,d]=C.useState(c);let f;e[8]!==o?(f=N=>{localStorage.setItem(o,N),d(N)},e[8]=o,e[9]=f):f=e[9];const u=f;let h,x;e[10]!==m?(h=()=>{const N=document.documentElement;if(N.classList.remove("light","dark"),m==="system"){const v=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";N.classList.add(v)}else N.classList.add(m)},x=[m],e[10]=m,e[11]=h,e[12]=x):(h=e[11],x=e[12]),C.useEffect(h,x);let b,p;e[13]!==u||e[14]!==m?(p={theme:m,setTheme:u},e[13]=u,e[14]=m,e[15]=p):p=e[15],b=p;const j=b;let g;return e[16]!==s||e[17]!==a||e[18]!==j?(g=l.jsx(pt.Provider,{...a,value:j,children:s}),e[16]=s,e[17]=a,e[18]=j,e[19]=g):g=e[19],g}const se=(t,e,s)=>{const a=_.c(5),r=s===void 0?!1:s;let n,i;a[0]!==e||a[1]!==r||a[2]!==t?(n=()=>{const o=c=>{const m=t.split("+"),d=m.includes("ctrl");let f;f=c.key,r||(f=f.toLowerCase());const u=c.ctrlKey||!d,h=m.some(x=>x==="ctrl"?!1:r?x===c.key:x.toLowerCase()===f);u&&h&&(c.preventDefault(),c.stopPropagation(),e())};return window.addEventListener("keydown",o),()=>{window.removeEventListener("keydown",o)}},i=[t,e,r],a[0]=e,a[1]=r,a[2]=t,a[3]=n,a[4]=i):(n=a[3],i=a[4]),C.useEffect(n,i)},y=ut(t=>({tablesSchema:{},indexesSchema:[],currentTable:null,data:null,columns:null,maxSize:1,isDatabaseLoading:!1,isDataLoading:!1,errorMessage:null,filters:null,sorters:null,limit:50,offset:0,customQuery:void 0,customQueryObject:null,setTablesSchema:e=>t({tablesSchema:e}),setIndexesSchema:e=>t({indexesSchema:e}),setCurrentTable:e=>t({currentTable:e}),setData:e=>t({data:e}),setColumns:e=>t({columns:e}),setMaxSize:e=>t({maxSize:e}),setIsDatabaseLoading:e=>t({isDatabaseLoading:e}),setIsDataLoading:e=>t({isDataLoading:e}),setErrorMessage:e=>t({errorMessage:e}),setFilters:e=>t({filters:e}),setSorters:e=>t({sorters:e}),setLimit:e=>t({limit:e}),setOffset:e=>t({offset:e}),setCustomQuery:e=>t({customQuery:e}),setCustomQueryObject:e=>t({customQueryObject:e}),resetPagination:()=>t({offset:0})})),ee=ut(t=>{const e=rt.debounce(a=>{t({schemaPanelSize:a})},200),s=rt.debounce(a=>{t({dataPanelSize:a})},200);return{schemaPanelSize:25,dataPanelSize:75,editValues:[],isInserting:!1,setSchemaPanelSize:e,setDataPanelSize:s,setEditValues:a=>t({editValues:a}),setIsInserting:a=>t({isInserting:a})}}),bt=C.createContext(void 0),xe=()=>{const t=C.useContext(bt);if(t===void 0)throw new Error("usePanelManager must be used within a PanelProvider");return t},it={success:"#22c55e",error:"#ef4444",info:"#3b82f6"};function H(t,e="info",s={}){if(typeof t=="string"){const a={success:l.jsx(It,{className:"h-5 w-5 text-green-500"}),error:l.jsx(Tt,{className:"h-5 w-5 text-red-500"}),info:l.jsx(Et,{className:"h-5 w-5 text-blue-500"})};return at(l.jsxs("div",{className:"flex items-center gap-2",children:[a[e],l.jsx("div",{className:"flex-1 capitalize",children:t})]}),{style:{borderLeft:`4px solid ${it[e]}`,background:"var(--background)"},...s})}else return at(t,{style:{borderLeft:`4px solid ${it[e]}`,background:"var(--background)"},...s})}const gt=C.createContext(void 0),Us=t=>{const e=_.c(102),{children:s}=t,a=C.useRef(null),r=y(Qs),n=y(Hs),i=y(Vs),o=y(Gs),c=y(Ws),m=y(Ks),d=y(qs),f=y(Xs),u=y(Ys),h=y(Js),x=y(Zs),b=y(el),p=y(tl),j=y(sl),g=y(ll),N=y(al),v=y(rl),w=y(nl),S=y(il),$=y(ol),L=y(cl),I=y(dl),z=y(ml),R=y(ul),{selectedRowObject:E,setSelectedRowObject:k,setIsInserting:T,handleCloseEdit:A}=xe(),[P,U]=C.useState(!0);let G,te;e[0]!==A||e[1]!==m||e[2]!==i||e[3]!==c||e[4]!==I||e[5]!==o||e[6]!==h||e[7]!==w||e[8]!==n||e[9]!==u||e[10]!==f||e[11]!==T||e[12]!==d||e[13]!==v||e[14]!==k||e[15]!==S||e[16]!==r?(G=()=>(a.current=new Worker(new URL("/assets/sqliteWorker-X0eEZDYl.js",import.meta.url),{type:"module"}),a.current.onmessage=D=>{var K,Z,ge;const B=D.data,{action:O}=B;if(O==="initComplete"){const{payload:M}=B;r(M.tableSchema),n(M.indexSchema),i(M.currentTable),m(M.tableSchema[M.currentTable].schema.map(fl)),w(null),S(null),k(null),T(!1),I(null),c(""),v(0),f(!1)}else if(O==="queryComplete"){const{payload:M}=B;d(M.maxSize);const Y=M.results;if(!Y)o(null);else{const ae=((K=Y[0])==null?void 0:K.values)||[];ae.length!==0?o(ae):o(null)}u(!1)}else if(O==="customQueryComplete"){const{payload:M}=B,Y=M.results;if(!Y)o(null);else{const ae=((Z=Y[0])==null?void 0:Z.values)||[];ae.length!==0?I({data:ae,columns:((ge=Y[0])==null?void 0:ge.columns)||[]}):I(null)}u(!1),h(null)}else if(O==="updateInstance"){const{payload:M}=B;r(M.tableSchema),n(M.indexSchema),u(!1),h(null),H("Database schema updated successfully","success")}else if(O==="updateComplete"){const{payload:M}=B;h(null),A(),H(`Row ${M.type} successfully`,"success")}else if(O==="insertComplete")h(null),A(),H("Row inserted successfully","success");else if(O==="downloadComplete"){const{payload:M}=B,Y=new Blob([M.bytes],{type:"application/octet-stream"}),ae=URL.createObjectURL(Y),de=document.createElement("a");de.href=ae,de.download="database.sqlite",de.click(),H("Database downloaded successfully","success")}else if(O==="exportComplete"){const{payload:M}=B,Y=new Blob([M.results],{type:"text/csv"}),ae=URL.createObjectURL(Y),de=document.createElement("a");de.href=ae,de.download="export.csv",de.click(),H("Database exported successfully","success")}else if(O==="queryError"){const{payload:M}=B;console.error("Worker error:",M.error),u(!1),M.error.isCustomQueryError&&h(M.error.message),H(M.error.message,"error")}else console.warn("Unknown action:",O)},f(!0),a.current.postMessage({action:"init"}),()=>{var D;(D=a.current)==null||D.terminate()}),te=[m,v,f,r,i,n,I,o,d,u,h,w,S,k,A,T,c],e[0]=A,e[1]=m,e[2]=i,e[3]=c,e[4]=I,e[5]=o,e[6]=h,e[7]=w,e[8]=n,e[9]=u,e[10]=f,e[11]=T,e[12]=d,e[13]=v,e[14]=k,e[15]=S,e[16]=r,e[17]=G,e[18]=te):(G=e[17],te=e[18]),C.useEffect(G,te);let q,V;e[19]!==g||e[20]!==x||e[21]!==P||e[22]!==j||e[23]!==u||e[24]!==$||e[25]!==b?(q=()=>{if(!g)return;const D=setTimeout(()=>{var ge,M,Y;if(!a.current){H("Worker is not initialized","error");return}u(!0);let B=50;const O=(ge=document.getElementById("tableHeader"))==null?void 0:ge.getBoundingClientRect().height,K=(M=document.getElementById("dataSection"))==null?void 0:M.getBoundingClientRect().height,Z=(Y=document.getElementById("paginationControls"))==null?void 0:Y.getBoundingClientRect().height;P?(U(!1),K&&Z&&(B=Math.floor((K-Z-47.5)/33))):O&&K&&Z&&(B=Math.floor((K-O-Z)/33)),$(B),a.current.postMessage({action:"getTableData",payload:{currentTable:g,filters:x,sorters:b,limit:B,offset:j}})},100);return()=>clearTimeout(D)},V=[g,x,b,P,j,$,u],e[19]=g,e[20]=x,e[21]=P,e[22]=j,e[23]=u,e[24]=$,e[25]=b,e[26]=q,e[27]=V):(q=e[26],V=e[27]),C.useEffect(q,V);let re;e[28]===Symbol.for("react.memo_cache_sentinel")?(re=D=>{H("Opening database","info");const B=new FileReader;B.onload=O=>{var Z;const K=(Z=O.target)==null?void 0:Z.result;if(!a.current){H("Worker is not initialized","error");return}a.current.postMessage({action:"openFile",payload:{file:K}})},B.readAsArrayBuffer(D)},e[28]=re):re=e[28];const pe=re;let ne;e[29]===Symbol.for("react.memo_cache_sentinel")?(ne=D=>{var O;const B=(O=D.target.files)==null?void 0:O[0];if(!B){H("No file selected","error");return}pe(B)},e[29]=ne):ne=e[29];const ye=ne;let ie;e[30]===Symbol.for("react.memo_cache_sentinel")?(ie=()=>{if(!a.current){H("Worker is not initialized","error");return}a.current.postMessage({action:"download"})},e[30]=ie):ie=e[30];const be=ie;let oe;e[31]!==L||e[32]!==m||e[33]!==i||e[34]!==w||e[35]!==T||e[36]!==d||e[37]!==k||e[38]!==S||e[39]!==R?(oe=D=>{w(null),S(null),L(),d(0),k(null),T(!1),i(D),m(R[D].schema.map(hl))},e[31]=L,e[32]=m,e[33]=i,e[34]=w,e[35]=T,e[36]=d,e[37]=k,e[38]=S,e[39]=R,e[40]=oe):oe=e[40];const ce=oe;let ve;e[41]!==L||e[42]!==w?(ve=(D,B)=>{const K={...y.getState().filters||{},[D]:B};w(K),L()},e[41]=L,e[42]=w,e[43]=ve):ve=e[43];const Qe=ve;let we;e[44]!==S?(we=D=>{const K=((y.getState().sorters||{})[D]||"asc")==="asc"?"desc":"asc",Z={[D]:K};S(Z)},e[44]=S,e[45]=we):we=e[45];const He=we;let Se;e[46]!==p||e[47]!==N||e[48]!==v||e[49]!==k?(Se=D=>{const B=y.getState().offset;if(N){if(typeof D=="number")v(D);else if(D==="next"){const O=B+p;O>=N?N-p<0&&v(0):v(O)}else if(D==="prev"){const O=B-p;O<0?v(0):v(O)}else D==="first"?v(0):D==="last"&&(N-p<0?v(0):v(N-p));k(null)}},e[46]=p,e[47]=N,e[48]=v,e[49]=k,e[50]=Se):Se=e[50];const W=Se;let _e;e[51]!==g||e[52]!==z||e[53]!==x||e[54]!==p||e[55]!==j||e[56]!==b?(_e=D=>{if(!a.current){H("Worker is not initialized","error");return}a.current.postMessage({action:"export",payload:{table:g,offset:j,limit:p,filters:x,sorters:b,customQuery:z,exportType:D}})},e[51]=g,e[52]=z,e[53]=x,e[54]=p,e[55]=j,e[56]=b,e[57]=_e):_e=e[57];const Ve=_e;let Ce;e[58]!==g||e[59]!==z||e[60]!==x||e[61]!==p||e[62]!==j||e[63]!==u||e[64]!==b?(Ce=()=>{if(!a.current){H("Worker is not initialized","error");return}const D=z;if(!D)return;const O=D.replace(/--.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"").split(";").map(xl).filter(pl);for(const K of O)u(!0),a.current.postMessage({action:"exec",payload:{query:K,currentTable:g,filters:x,sorters:b,limit:p,offset:j}})},e[58]=g,e[59]=z,e[60]=x,e[61]=p,e[62]=j,e[63]=u,e[64]=b,e[65]=Ce):Ce=e[65];const ue=Ce;let Ee;e[66]!==g||e[67]!==x||e[68]!==p||e[69]!==j||e[70]!==(E==null?void 0:E.primaryValue)||e[71]!==u||e[72]!==b?(Ee=D=>{if(!a.current){H("Worker is not initialized","error");return}if(!(E!=null&&E.primaryValue)&&D!=="insert"){H(D==="delete"?"No row selected to delete":`No values provided to ${D}`,"error");return}u(!0),a.current.postMessage({action:D,payload:{table:g,columns:y.getState().columns,values:ee.getState().editValues,primaryValue:E==null?void 0:E.primaryValue}}),a.current.postMessage({action:"refresh",payload:{currentTable:g,offset:j,limit:p,filters:x,sorters:b}})},e[66]=g,e[67]=x,e[68]=p,e[69]=j,e[70]=E==null?void 0:E.primaryValue,e[71]=u,e[72]=b,e[73]=Ee):Ee=e[73];const J=Ee;let Te;e[74]===Symbol.for("react.memo_cache_sentinel")?(Te=()=>be(),e[74]=Te):Te=e[74],se("ctrl+s",Te);let Ie;e[75]!==J?(Ie=()=>J("insert"),e[75]=J,e[76]=Ie):Ie=e[76],se("ctrl+I",Ie,!0);let Le;e[77]!==J?(Le=()=>J("update"),e[77]=J,e[78]=Le):Le=e[78],se("ctrl+u",Le);let ze;e[79]!==J?(ze=()=>J("delete"),e[79]=J,e[80]=ze):ze=e[80],se("ctrl+d",ze);let $e;e[81]!==ue?($e=()=>ue(),e[81]=ue,e[82]=$e):$e=e[82],se("ctrl+q",$e);let ke;e[83]!==W?(ke=()=>W("next"),e[83]=W,e[84]=ke):ke=e[84],se("ctrl+ArrowRight",ke);let Re;e[85]!==W?(Re=()=>W("first"),e[85]=W,e[86]=Re):Re=e[86],se("ctrl+ArrowUp",Re);let De;e[87]!==W?(De=()=>W("last"),e[87]=W,e[88]=De):De=e[88],se("ctrl+ArrowDown",De);let Ae;e[89]!==W?(Ae=()=>W("prev"),e[89]=W,e[90]=Ae):Ae=e[90],se("ctrl+ArrowLeft",Ae);let lt,Pe;e[91]!==J||e[92]!==Ve||e[93]!==W||e[94]!==ue||e[95]!==Qe||e[96]!==He||e[97]!==ce?(Pe={workerRef:a,handleFileUpload:pe,handleFileChange:ye,handleDownload:be,handleTableChange:ce,handleQueryFilter:Qe,handleQuerySorter:He,handlePageChange:W,handleExport:Ve,handleQueryExecute:ue,handleEditSubmit:J},e[91]=J,e[92]=Ve,e[93]=W,e[94]=ue,e[95]=Qe,e[96]=He,e[97]=ce,e[98]=Pe):Pe=e[98],lt=Pe;const Ge=lt;let Oe;return e[99]!==s||e[100]!==Ge?(Oe=l.jsx(gt.Provider,{value:Ge,children:s}),e[99]=s,e[100]=Ge,e[101]=Oe):Oe=e[101],Oe};function Qs(t){return t.setTablesSchema}function Hs(t){return t.setIndexesSchema}function Vs(t){return t.setCurrentTable}function Gs(t){return t.setData}function Ws(t){return t.setCustomQuery}function Ks(t){return t.setColumns}function qs(t){return t.setMaxSize}function Xs(t){return t.setIsDatabaseLoading}function Ys(t){return t.setIsDataLoading}function Js(t){return t.setErrorMessage}function Zs(t){return t.filters}function el(t){return t.sorters}function tl(t){return t.limit}function sl(t){return t.offset}function ll(t){return t.currentTable}function al(t){return t.maxSize}function rl(t){return t.setOffset}function nl(t){return t.setFilters}function il(t){return t.setSorters}function ol(t){return t.setLimit}function cl(t){return t.resetPagination}function dl(t){return t.setCustomQueryObject}function ml(t){return t.customQuery}function ul(t){return t.tablesSchema}function fl(t){return t.name}function hl(t){return t.name}function xl(t){return t.trim()}function pl(t){return t!==""}const bl=t=>{const e=_.c(10),{children:s}=t,[a,r]=C.useState(null),[n,i]=C.useState(!1),o=a!==null||n;let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=(g,N,v)=>{i(!1),r({data:g,index:N,primaryValue:v})},e[0]=c):c=e[0];const m=c;let d;e[1]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{r(null),i(!0)},e[1]=d):d=e[1];const f=d;let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{i(!1),r(null)},e[2]=u):u=e[2];const h=u;se("ctrl+i",f,!0),se("ctrl+`",h,!0);let x,b;e[3]!==o||e[4]!==n||e[5]!==a?(b={handleRowClick:m,handleInsert:f,handleCloseEdit:h,isEditing:o,selectedRowObject:a,isInserting:n,setIsInserting:i,setSelectedRowObject:r},e[3]=o,e[4]=n,e[5]=a,e[6]=b):b=e[6],x=b;const p=x;let j;return e[7]!==s||e[8]!==p?(j=l.jsx(bt.Provider,{value:p,children:s}),e[7]=s,e[8]=p,e[9]=j):j=e[9],j};function Q(...t){return Es(Cs(t))}const gl=C.memo(function(e){const s=_.c(8);let a,r;s[0]!==e?({className:a,...r}=e,s[0]=e,s[1]=a,s[2]=r):(a=s[1],r=s[2]);let n;s[3]!==a?(n=Q("flex flex-col",a),s[3]=a,s[4]=n):n=s[4];let i;return s[5]!==r||s[6]!==n?(i=l.jsx(as,{"data-slot":"tabs",className:n,...r}),s[5]=r,s[6]=n,s[7]=i):i=s[7],i});function jl(t){const e=_.c(8);let s,a;e[0]!==t?({className:s,...a}=t,e[0]=t,e[1]=s,e[2]=a):(s=e[1],a=e[2]);let r;e[3]!==s?(r=Q("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center p-1",s),e[3]=s,e[4]=r):r=e[4];let n;return e[5]!==a||e[6]!==r?(n=l.jsx(is,{"data-slot":"tabs-list",className:r,...a}),e[5]=a,e[6]=r,e[7]=n):n=e[7],n}const We=mt.memo(function(e){const s=_.c(8);let a,r;s[0]!==e?({className:a,...r}=e,s[0]=e,s[1]=a,s[2]=r):(a=s[1],r=s[2]);let n;s[3]!==a?(n=Q("inline-flex flex-1 cursor-pointer items-center justify-center gap-1.5 rounded-md! px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow]","data-[state=active]:bg-white data-[state=active]:text-black","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring focus-visible:ring-[3px] focus-visible:outline-1","disabled:pointer-events-none disabled:opacity-50","[&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),s[3]=a,s[4]=n):n=s[4];let i;return s[5]!==r||s[6]!==n?(i=l.jsx(rs,{"data-slot":"tabs-trigger",className:n,...r}),s[5]=r,s[6]=n,s[7]=i):i=s[7],i}),Ke=mt.memo(function(e){const s=_.c(8);let a,r;s[0]!==e?({className:a,...r}=e,s[0]=e,s[1]=a,s[2]=r):(a=s[1],r=s[2]);let n;s[3]!==a?(n=Q("flex-1 outline-none",a),s[3]=a,s[4]=n):n=s[4];let i;return s[5]!==r||s[6]!==n?(i=l.jsx(ns,{"data-slot":"tabs-content",className:n,...r}),s[5]=r,s[6]=n,s[7]=i):i=s[7],i}),le=()=>{const t=C.useContext(gt);if(t===void 0)throw new Error("useDatabaseWorker must be used within a DatabaseWorkerProvider");return t},Nl=Ts("inline-flex cursor-pointer items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}}),yl=t=>{const e=_.c(18);let s,a,r,n,i,o;e[0]!==t?({className:s,variant:o,size:n,asChild:i,onClick:a,...r}=t,e[0]=t,e[1]=s,e[2]=a,e[3]=r,e[4]=n,e[5]=i,e[6]=o):(s=e[1],a=e[2],r=e[3],n=e[4],i=e[5],o=e[6]);const m=(i===void 0?!1:i)?os:"button";let d;e[7]!==a?(d=p=>{a&&a(p)},e[7]=a,e[8]=d):d=e[8];const f=d;let u,h;e[9]!==s||e[10]!==n||e[11]!==o?(h=Q(Nl({variant:o,size:n,className:s})),e[9]=s,e[10]=n,e[11]=o,e[12]=h):h=e[12],u=h;const x=u;let b;return e[13]!==m||e[14]!==x||e[15]!==f||e[16]!==r?(b=l.jsx(m,{"data-slot":"button",className:x,onClick:f,...r}),e[13]=m,e[14]=x,e[15]=f,e[16]=r,e[17]=b):b=e[17],b},F=yl,vl=t=>{const e=_.c(10);let s,a,r;e[0]!==t?({className:s,type:r,...a}=t,e[0]=t,e[1]=s,e[2]=a,e[3]=r):(s=e[1],a=e[2],r=e[3]);let n;e[4]!==s?(n=Q("border-input file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground flex h-5 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),e[4]=s,e[5]=n):n=e[5];let i;return e[6]!==a||e[7]!==n||e[8]!==r?(i=l.jsx("input",{type:r,"data-slot":"input",className:n,...a}),e[6]=a,e[7]=n,e[8]=r,e[9]=i):i=e[9],i},Ue=vl,jt=()=>{const t=C.useContext(pt);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function wl(){const t=_.c(10),{theme:e,setTheme:s}=jt();let a;t[0]!==s||t[1]!==e?(a=()=>s(e==="dark"?"light":"dark"),t[0]=s,t[1]=e,t[2]=a):a=t[2];const r=e==="dark"?"Switch to light mode":"Switch to dark mode",n=e==="dark"?"Switch to light mode":"Switch to dark mode";let i;t[3]!==e?(i=e==="dark"?l.jsx(Lt,{className:"h-[1.2rem] w-[1.2rem]"}):l.jsx(zt,{className:"h-[1.2rem] w-[1.2rem]"}),t[3]=e,t[4]=i):i=t[4];let o;return t[5]!==a||t[6]!==r||t[7]!==n||t[8]!==i?(o=l.jsx(F,{variant:"outline",size:"sm",onClick:a,"aria-label":r,title:n,className:"border-foreground/25 relative flex items-center justify-center transition-transform duration-300",children:i}),t[5]=a,t[6]=r,t[7]=n,t[8]=i,t[9]=o):o=t[9],o}const Sl=()=>{const t=_.c(14),{handleFileChange:e,handleDownload:s}=le();let a;t[0]!==e?(a=l.jsx(Ue,{id:"file-upload",type:"file",className:"absolute inset-0 cursor-pointer opacity-0",onChange:e}),t[0]=e,t[1]=a):a=t[1];let r;t[2]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsxs(F,{size:"sm",variant:"outline",className:"border-foreground/25 pointer-events-none h-8 cursor-pointer px-3 text-xs font-medium sm:w-[200px]",children:[l.jsx(he,{className:"mr-1.5 h-3.5 w-3.5"}),"Open Database"]}),t[2]=r):r=t[2];let n;t[3]!==a?(n=l.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer transition-opacity hover:opacity-80",children:[a,r]}),t[3]=a,t[4]=n):n=t[4];let i;t[5]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx($t,{className:"mr-1.5 h-3.5 w-3.5"}),t[5]=i):i=t[5];let o;t[6]!==s?(o=l.jsxs(F,{size:"sm",variant:"outline",className:"border-foreground/25 h-8 px-3 text-xs font-medium",onClick:s,title:"Save the database",children:[i,"Save Database"]}),t[6]=s,t[7]=o):o=t[7];let c;t[8]!==n||t[9]!==o?(c=l.jsxs("div",{className:"flex items-center gap-1",children:[n,o]}),t[8]=n,t[9]=o,t[10]=c):c=t[10];let m;t[11]===Symbol.for("react.memo_cache_sentinel")?(m=l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("a",{href:"https://github.com/vwh/sqlite-online",target:"_blank",rel:"noreferrer",className:"transition-opacity hover:opacity-80",children:l.jsx(F,{size:"icon",variant:"ghost",className:"hidden h-8 w-8 sm:flex",title:"View Source Code on GitHub",children:l.jsx(kt,{className:"h-4 w-4"})})}),l.jsx(wl,{})]}),t[11]=m):m=t[11];let d;return t[12]!==c?(d=l.jsxs("header",{className:"flex items-center justify-between gap-2 border-b px-1 py-1.5",children:[c,m]}),t[12]=c,t[13]=d):d=t[13],d},X=C.memo(function(e){const s=_.c(3),{children:a,className:r}=e,n=`block max-w-80 overflow-hidden text-ellipsis ${r??""}`;let i;return s[0]!==a||s[1]!==n?(i=l.jsx("span",{className:n,children:a}),s[0]=a,s[1]=n,s[2]=i):i=s[2],i}),_l={DATE:/DATE|TIMESTAMP/i,BLOB:/^BLOB$/i,TEXT:/CHAR|TEXT|CLOB|VARCHAR/i,INTEGER:/INT/i,REAL:/REAL|FLOAT|DOUBLE|DECIMAL/i,NUMERIC:/NUMERIC/i,BOOLEAN:/BOOL/i},me=(t,e)=>_l[e].test(t),Nt=t=>me(t,"DATE"),Cl=t=>me(t,"BLOB"),yt=t=>me(t,"TEXT"),El=t=>me(t,"NUMERIC"),Tl=t=>me(t,"BOOLEAN"),Il=t=>me(t,"INTEGER"),Ll=t=>me(t,"REAL"),vt=t=>Il(t)||Ll(t)||El(t),tt=t=>{const e=_.c(12),{columnSchema:s}=t;if(!s)return null;const{type:a,isPrimaryKey:r,isForeignKey:n}=s;let i;e[0]!==a?(i=()=>a?Cl(a)?l.jsx(Rt,{className:"h-4 w-4 text-green-500"}):Nt(a)?l.jsx(Dt,{className:"h-4 w-4 text-blue-500"}):yt(a)?l.jsx(At,{className:"h-4 w-4 text-indigo-500"}):vt(a)?l.jsx(Pt,{className:"h-4 w-4 text-red-500"}):Tl(a)?l.jsx(Ot,{className:"h-4 w-4 text-pink-500"}):l.jsx(Mt,{className:"h-4 w-4 text-gray-500"}):null,e[0]=a,e[1]=i):i=e[1];const o=i;let c;e[2]!==o?(c=o(),e[2]=o,e[3]=c):c=e[3];const m=c;let d;e[4]!==r?(d=r&&l.jsx(Ft,{className:"h-4 w-4 text-yellow-500"}),e[4]=r,e[5]=d):d=e[5];let f;e[6]!==n?(f=n&&l.jsx(Bt,{className:"h-4 w-4 text-purple-500"}),e[6]=n,e[7]=f):f=e[7];let u;return e[8]!==d||e[9]!==f||e[10]!==m?(u=l.jsxs("div",{className:"flex items-center gap-[2px]",children:[d,f,m]}),e[8]=d,e[9]=f,e[10]=m,e[11]=u):u=e[11],u},zl=C.memo(t=>{const e=_.c(12),{columnSchema:s}=t;let a;e[0]!==s?(a=l.jsx(tt,{columnSchema:s}),e[0]=s,e[1]=a):a=e[1];let r;e[2]!==s.name?(r=l.jsx("span",{className:"text-primary/60 ml-1 text-xs",children:s.name}),e[2]=s.name,e[3]=r):r=e[3];let n;e[4]!==a||e[5]!==r?(n=l.jsxs("div",{className:"flex items-center",children:[a,r]}),e[4]=a,e[5]=r,e[6]=n):n=e[6];let i;e[7]!==s.type?(i=l.jsx(X,{className:"text-primary/60 text-xs whitespace-nowrap",children:l.jsx("span",{className:"text-primary/50 bg-primary/5 rounded-full px-2 py-0.5 text-xs",children:s.type})}),e[7]=s.type,e[8]=i):i=e[8];let o;return e[9]!==n||e[10]!==i?(o=l.jsxs("div",{className:"flex items-center justify-between gap-1",children:[n,i]}),e[9]=n,e[10]=i,e[11]=o):o=e[11],o}),$l=C.memo(Be),kl=C.memo(ft),wt=C.memo(t=>{const e=_.c(3),{expanded:s,size:a}=t,r=a===void 0?4:a;let n;return e[0]!==s||e[1]!==r?(n=s?l.jsx($l,{className:`h-${r} w-${r}`}):l.jsx(kl,{className:`h-${r} w-${r}`}),e[0]=s,e[1]=r,e[2]=n):n=e[2],n}),Rl=C.memo(t=>{const e=_.c(30),{name:s,table:a,expanded:r,toggleTable:n}=t;let i;e[0]!==s||e[1]!==n?(i=()=>n(s),e[0]=s,e[1]=n,e[2]=i):i=e[2];const o=i;let c;e[3]!==s||e[4]!==n?(c=N=>{(N.key==="Enter"||N.key===" ")&&(N.preventDefault(),n(s))},e[3]=s,e[4]=n,e[5]=c):c=e[5];const m=c,d=r&&"ml-1";let f;e[6]!==d?(f=Q("flex cursor-pointer items-center rounded px-1.5 py-1 transition-all hover:ml-2",d),e[6]=d,e[7]=f):f=e[7];let u;e[8]!==r?(u=l.jsx("div",{className:"flex h-5 w-5 items-center justify-center",children:l.jsx(wt,{expanded:r})}),e[8]=r,e[9]=u):u=e[9];let h;e[10]!==s?(h=l.jsx("span",{className:"text-sm",children:s}),e[10]=s,e[11]=h):h=e[11];let x;e[12]!==a.schema.length?(x=l.jsxs("span",{className:"text-primary/50 text-xs",children:["(",a.schema.length,")"]}),e[12]=a.schema.length,e[13]=x):x=e[13];let b;e[14]!==h||e[15]!==x?(b=l.jsxs("span",{className:"flex items-center gap-1 capitalize",children:[h,x]}),e[14]=h,e[15]=x,e[16]=b):b=e[16];let p;e[17]!==r||e[18]!==m||e[19]!==o||e[20]!==f||e[21]!==u||e[22]!==b?(p=l.jsxs("div",{className:f,onClick:o,onKeyDown:m,"aria-expanded":r,children:[u,b]}),e[17]=r,e[18]=m,e[19]=o,e[20]=f,e[21]=u,e[22]=b,e[23]=p):p=e[23];let j;e[24]!==r||e[25]!==a.schema?(j=r&&l.jsx("div",{className:"border-primary/20 mt-1 mb-2 ml-4 flex flex-col gap-1 space-y-0.5 border-l-2 pl-2",children:a.schema.map(Dl)}),e[24]=r,e[25]=a.schema,e[26]=j):j=e[26];let g;return e[27]!==j||e[28]!==p?(g=l.jsxs("article",{children:[p,j]}),e[27]=j,e[28]=p,e[29]=g):g=e[29],g});function Dl(t){return l.jsx(zl,{columnSchema:t},t.cid)}const St=C.memo(t=>{const e=_.c(17),{title:s,expanded:a,icon:r,onToggle:n,children:i}=t;let o;e[0]!==n?(o=x=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),n())},e[0]=n,e[1]=o):o=e[1];const c=o,m=!a&&"mb-0";let d;e[2]!==m?(d=Q("hover:bg-primary/5 bg-primary/7 flex cursor-pointer items-center px-2 py-2 transition-colors",m),e[2]=m,e[3]=d):d=e[3];let f;e[4]!==a?(f=l.jsx("div",{className:"flex h-5 w-5 items-center justify-center",children:l.jsx(wt,{expanded:a,size:5})}),e[4]=a,e[5]=f):f=e[5];let u;e[6]!==s?(u=l.jsx(X,{className:"flex items-center gap-1",children:s}),e[6]=s,e[7]=u):u=e[7];let h;return e[8]!==i||e[9]!==a||e[10]!==c||e[11]!==r||e[12]!==n||e[13]!==d||e[14]!==f||e[15]!==u?(h=l.jsxs("header",{className:d,onClick:n,onKeyDown:c,"aria-expanded":a,children:[f,r,u,i]}),e[8]=i,e[9]=a,e[10]=c,e[11]=r,e[12]=n,e[13]=d,e[14]=f,e[15]=u,e[16]=h):h=e[16],h}),Al=C.memo(t=>{const e=_.c(23),{tablesSchema:s,expandAllTables:a,collapseAllTables:r,expandedTableSection:n,toggleTableSection:i,expandedTables:o,toggleTable:c}=t,[m,d]=C.useState(!1);let f;e[0]!==a||e[1]!==s?(f=w=>{w.stopPropagation(),a(s),d(!0)},e[0]=a,e[1]=s,e[2]=f):f=e[2];const u=f;let h;e[3]!==r?(h=w=>{w.stopPropagation(),r(),d(!1)},e[3]=r,e[4]=h):h=e[4];const x=h;let b;e[5]!==n||e[6]!==x||e[7]!==u||e[8]!==m?(b=n&&l.jsx("div",{className:"ml-auto flex",children:m?l.jsx(F,{className:"text-primary hover:bg-primary/5 h-7 rounded px-2 py-0.5 text-xs transition-colors",variant:"ghost",size:"icon",onClick:x,"aria-label":"Collapse all tables",children:l.jsx(Ut,{className:"h-4 w-4"})}):l.jsx(F,{className:"text-primary hover:bg-primary/5 h-7 rounded px-2 py-0.5 text-xs transition-colors",variant:"ghost",size:"icon",onClick:u,"aria-label":"Expand all tables",children:l.jsx(Qt,{className:"h-4 w-4"})})}),e[5]=n,e[6]=x,e[7]=u,e[8]=m,e[9]=b):b=e[9];const p=b;let j;e[10]===Symbol.for("react.memo_cache_sentinel")?(j=l.jsx(he,{className:"mr-2 h-4 w-4"}),e[10]=j):j=e[10];let g;e[11]!==p||e[12]!==n||e[13]!==i?(g=l.jsx(St,{title:"Tables",expanded:n,icon:j,onToggle:i,children:p}),e[11]=p,e[12]=n,e[13]=i,e[14]=g):g=e[14];let N;e[15]!==n||e[16]!==o||e[17]!==s||e[18]!==c?(N=n&&l.jsx("div",{className:"space-y-0.5 overflow-y-auto pr-1 pl-2",children:Object.entries(s).map(w=>{const[S,$]=w;return l.jsx(Rl,{name:S,table:$,expanded:o.includes(S),toggleTable:c},S)})}),e[15]=n,e[16]=o,e[17]=s,e[18]=c,e[19]=N):N=e[19];let v;return e[20]!==g||e[21]!==N?(v=l.jsxs("section",{children:[g,N]}),e[20]=g,e[21]=N,e[22]=v):v=e[22],v}),Pl=C.memo(t=>{const e=_.c(7),{index:s}=t;let a;e[0]!==s.name?(a=l.jsx("span",{className:"text-sm",children:s.name}),e[0]=s.name,e[1]=a):a=e[1];let r;e[2]!==s.tableName?(r=l.jsx(X,{className:"text-primary/60 text-xs font-medium whitespace-nowrap",children:l.jsx("span",{className:"text-primary/50 bg-primary/5 rounded-full px-2 py-0.5 text-xs",children:s.tableName})}),e[2]=s.tableName,e[3]=r):r=e[3];let n;return e[4]!==a||e[5]!==r?(n=l.jsx("article",{children:l.jsx("div",{className:"flex cursor-pointer items-center rounded px-1.5 py-1 transition-all hover:ml-2",children:l.jsxs("div",{className:"flex w-full items-center justify-between gap-1",children:[a,r]})})}),e[4]=a,e[5]=r,e[6]=n):n=e[6],n}),Ol=C.memo(t=>{const e=_.c(10),{indexes:s,expandedIndexSection:a,toggleIndexSection:r}=t;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=l.jsx(Ht,{className:"mr-2 h-4 w-4"}),e[0]=n):n=e[0];let i;e[1]!==a||e[2]!==r?(i=l.jsx(St,{title:"Indexes",expanded:a,icon:n,onToggle:r}),e[1]=a,e[2]=r,e[3]=i):i=e[3];let o;e[4]!==a||e[5]!==s?(o=a&&l.jsx("div",{className:"space-y-0.5 overflow-y-auto pr-1 pl-2",children:s.map(Ml)}),e[4]=a,e[5]=s,e[6]=o):o=e[6];let c;return e[7]!==i||e[8]!==o?(c=l.jsxs("section",{children:[i,o]}),e[7]=i,e[8]=o,e[9]=c):c=e[9],c});function Ml(t){return l.jsx(Pl,{index:t},t.name)}const Fl=C.memo(t=>{const e=_.c(3),{onFilterChange:s}=t;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsx(Vt,{className:"text-primary/40 absolute top-1/2 left-2 h-4 w-4 -translate-y-1/2 transform"}),e[0]=a):a=e[0];let r;return e[1]!==s?(r=l.jsxs("div",{className:"relative",children:[a,l.jsx(Ue,{placeholder:"Search tables and indexes",className:"border-primary/20 h-8 w-full pl-8 text-sm text-[0.8rem]!",onChange:n=>s(n.target.value),"aria-label":"Search tables and indexes"})]}),e[1]=s,e[2]=r):r=e[2],r}),st=()=>{const t=_.c(26),[e,s]=C.useState(""),a=y(Bl),r=y(Ul);let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=[],t[0]=n):n=t[0];const[i,o]=C.useState(n),[c,m]=C.useState(!0),[d,f]=C.useState(!0);let u;t[1]===Symbol.for("react.memo_cache_sentinel")?(u=T=>{o(A=>A.includes(T)?A.filter(P=>P!==T):[...A,T])},t[1]=u):u=t[1];const h=u;let x;t[2]===Symbol.for("react.memo_cache_sentinel")?(x=()=>{m(Ql)},t[2]=x):x=t[2];const b=x;let p;t[3]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{f(Hl)},t[3]=p):p=t[3];const j=p;let g;t[4]===Symbol.for("react.memo_cache_sentinel")?(g=T=>{o(Object.keys(T)),m(!0)},t[4]=g):g=t[4];const N=g;let v;t[5]===Symbol.for("react.memo_cache_sentinel")?(v=()=>{o([]),m(!1)},t[5]=v):v=t[5];const w=v;let S;e:{if(!e){S=a;break e}let T;if(t[6]!==e||t[7]!==a){T={};for(const[A,P]of Object.entries(a))A.toLowerCase().includes(e.toLowerCase())&&(T[A]=P);t[6]=e,t[7]=a,t[8]=T}else T=t[8];S=T}const $=S;let L;e:{if(!e){L=r;break e}let T;if(t[9]!==e||t[10]!==r){let A;t[12]!==e?(A=P=>P.name.toLowerCase().includes(e.toLowerCase())||P.tableName.toLowerCase().includes(e.toLowerCase()),t[12]=e,t[13]=A):A=t[13],T=r.filter(A),t[9]=e,t[10]=r,t[11]=T}else T=t[11];L=T}const I=L;let z;t[14]===Symbol.for("react.memo_cache_sentinel")?(z=l.jsx("div",{className:"bg-primary/5 border-b p-2",children:l.jsx(Fl,{onFilterChange:s})}),t[14]=z):z=t[14];let R;t[15]!==c||t[16]!==i||t[17]!==$?(R=l.jsx(Al,{tablesSchema:$,expandedTableSection:c,toggleTableSection:b,expandAllTables:N,collapseAllTables:w,expandedTables:i,toggleTable:h}),t[15]=c,t[16]=i,t[17]=$,t[18]=R):R=t[18];let E;t[19]!==d||t[20]!==I||t[21]!==r.length?(E=r.length>0&&l.jsx(Ol,{indexes:I,expandedIndexSection:d,toggleIndexSection:j}),t[19]=d,t[20]=I,t[21]=r.length,t[22]=E):E=t[22];let k;return t[23]!==E||t[24]!==R?(k=l.jsxs("section",{className:"flex h-full w-full flex-col overflow-hidden",children:[z,l.jsxs("nav",{className:"flex-1 overflow-auto",children:[R,E]})]}),t[23]=E,t[24]=R,t[25]=k):k=t[25],k};function Bl(t){return t.tablesSchema}function Ul(t){return t.indexesSchema}function Ql(t){return!t}function Hl(t){return!t}const Vl=()=>{const t=_.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=l.jsx("div",{className:"flex h-full flex-col",children:l.jsx("div",{className:"flex-1 overflow-hidden",children:l.jsx("div",{className:"h-full overflow-y-auto",children:l.jsx(st,{})})})}),t[0]=e):e=t[0],e};function Xe(t){const e=_.c(8);let s,a;e[0]!==t?({className:s,...a}=t,e[0]=t,e[1]=s,e[2]=a):(s=e[1],a=e[2]);let r;e[3]!==s?(r=Q("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",s),e[3]=s,e[4]=r):r=e[4];let n;return e[5]!==a||e[6]!==r?(n=l.jsx(zs,{"data-slot":"resizable-panel-group",className:r,...a}),e[5]=a,e[6]=r,e[7]=n):n=e[7],n}function fe(t){const e=_.c(2);let s;return e[0]!==t?(s=l.jsx(Is,{"data-slot":"resizable-panel",...t}),e[0]=t,e[1]=s):s=e[1],s}function Ye(t){const e=_.c(12);let s,a,r;e[0]!==t?({withHandle:r,className:s,...a}=t,e[0]=t,e[1]=s,e[2]=a,e[3]=r):(s=e[1],a=e[2],r=e[3]);let n;e[4]!==s?(n=Q("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",s),e[4]=s,e[5]=n):n=e[5];let i;e[6]!==r?(i=r&&l.jsx("div",{className:"bg-border border-primary/20 z-50 flex h-9 w-4 items-center justify-center rounded-xs border",children:l.jsx(Gt,{className:"size-2.5"})}),e[6]=r,e[7]=i):i=e[7];let o;return e[8]!==a||e[9]!==n||e[10]!==i?(o=l.jsx(Ls,{"data-slot":"resizable-handle",className:n,...a,children:i}),e[8]=a,e[9]=n,e[10]=i,e[11]=o):o=e[11],o}function Gl(t){const e=_.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let a;return e[2]!==s?(a=l.jsx(js,{"data-slot":"select",...s}),e[2]=s,e[3]=a):a=e[3],a}function Wl(t){const e=_.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let a;return e[2]!==s?(a=l.jsx(gs,{"data-slot":"select-value",...s}),e[2]=s,e[3]=a):a=e[3],a}function Kl(t){const e=_.c(11);let s,a,r;e[0]!==t?({className:a,children:s,...r}=t,e[0]=t,e[1]=s,e[2]=a,e[3]=r):(s=e[1],a=e[2],r=e[3]);let n;e[4]!==a?(n=Q("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive flex h-9 w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),e[4]=a,e[5]=n):n=e[5];let i;e[6]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx(Ns,{asChild:!0,children:l.jsx(Be,{className:"size-4 opacity-50"})}),e[6]=i):i=e[6];let o;return e[7]!==s||e[8]!==r||e[9]!==n?(o=l.jsxs(bs,{"data-slot":"select-trigger",className:n,...r,children:[s,i]}),e[7]=s,e[8]=r,e[9]=n,e[10]=o):o=e[10],o}function ql(t){const e=_.c(20);let s,a,r,n;e[0]!==t?({className:a,children:s,position:n,...r}=t,e[0]=t,e[1]=s,e[2]=a,e[3]=r,e[4]=n):(s=e[1],a=e[2],r=e[3],n=e[4]);const i=n===void 0?"popper":n,o=i==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1";let c;e[5]!==a||e[6]!==o?(c=Q("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border shadow-md",o,a),e[5]=a,e[6]=o,e[7]=c):c=e[7];let m;e[8]===Symbol.for("react.memo_cache_sentinel")?(m=l.jsx(Yl,{}),e[8]=m):m=e[8];const d=i==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1";let f;e[9]!==d?(f=Q("p-1",d),e[9]=d,e[10]=f):f=e[10];let u;e[11]!==s||e[12]!==f?(u=l.jsx(us,{className:f,children:s}),e[11]=s,e[12]=f,e[13]=u):u=e[13];let h;e[14]===Symbol.for("react.memo_cache_sentinel")?(h=l.jsx(Jl,{}),e[14]=h):h=e[14];let x;return e[15]!==i||e[16]!==r||e[17]!==c||e[18]!==u?(x=l.jsx(cs,{children:l.jsxs(ds,{"data-slot":"select-content",className:c,position:i,...r,children:[m,u,h]})}),e[15]=i,e[16]=r,e[17]=c,e[18]=u,e[19]=x):x=e[19],x}function Xl(t){const e=_.c(13);let s,a,r;e[0]!==t?({className:a,children:s,...r}=t,e[0]=t,e[1]=s,e[2]=a,e[3]=r):(s=e[1],a=e[2],r=e[3]);let n;e[4]!==a?(n=Q("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",a),e[4]=a,e[5]=n):n=e[5];let i;e[6]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:l.jsx(fs,{children:l.jsx(Wt,{className:"size-4"})})}),e[6]=i):i=e[6];let o;e[7]!==s?(o=l.jsx(hs,{children:s}),e[7]=s,e[8]=o):o=e[8];let c;return e[9]!==r||e[10]!==n||e[11]!==o?(c=l.jsxs(ms,{"data-slot":"select-item",className:n,...r,children:[i,o]}),e[9]=r,e[10]=n,e[11]=o,e[12]=c):c=e[12],c}const Yl=function(e){const s=_.c(9);let a,r;s[0]!==e?({className:a,...r}=e,s[0]=e,s[1]=a,s[2]=r):(a=s[1],r=s[2]);let n;s[3]!==a?(n=Q("flex cursor-default items-center justify-center py-1",a),s[3]=a,s[4]=n):n=s[4];let i;s[5]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx(Kt,{className:"size-4"}),s[5]=i):i=s[5];let o;return s[6]!==r||s[7]!==n?(o=l.jsx(xs,{"data-slot":"select-scroll-up-button",className:n,...r,children:i}),s[6]=r,s[7]=n,s[8]=o):o=s[8],o};function Jl(t){const e=_.c(9);let s,a;e[0]!==t?({className:s,...a}=t,e[0]=t,e[1]=s,e[2]=a):(s=e[1],a=e[2]);let r;e[3]!==s?(r=Q("flex cursor-default items-center justify-center py-1",s),e[3]=s,e[4]=r):r=e[4];let n;e[5]===Symbol.for("react.memo_cache_sentinel")?(n=l.jsx(Be,{className:"size-4"}),e[5]=n):n=e[5];let i;return e[6]!==a||e[7]!==r?(i=l.jsx(ps,{"data-slot":"select-scroll-down-button",className:r,...a,children:n}),e[6]=a,e[7]=r,e[8]=i):i=e[8],i}const Zl=()=>{const t=_.c(7),{handleTableChange:e}=le(),s=y(ea),r=y(ta)??void 0;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=l.jsx(Kl,{className:"border-primary/20 h-8 w-30 border text-sm sm:w-48",children:l.jsx(Wl,{placeholder:"Select Table"})}),t[0]=n):n=t[0];let i;t[1]!==s?(i=l.jsx(ql,{children:Object.keys(s).map(sa)}),t[1]=s,t[2]=i):i=t[2];let o;return t[3]!==e||t[4]!==r||t[5]!==i?(o=l.jsxs(Gl,{onValueChange:e,value:r,children:[n,i]}),t[3]=e,t[4]=r,t[5]=i,t[6]=o):o=t[6],o};function ea(t){return t.tablesSchema}function ta(t){return t.currentTable}function sa(t){return l.jsx(Xl,{value:t,children:l.jsx(X,{className:"text-[0.8rem]! capitalize",children:t})},t)}function la(t){const e=_.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let a;return e[2]!==s?(a=l.jsx(ws,{"data-slot":"dropdown-menu",...s}),e[2]=s,e[3]=a):a=e[3],a}function aa(t){const e=_.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let a;return e[2]!==s?(a=l.jsx(ys,{"data-slot":"dropdown-menu-trigger",...s}),e[2]=s,e[3]=a):a=e[3],a}function ra(t){const e=_.c(10);let s,a,r;e[0]!==t?({className:s,sideOffset:r,...a}=t,e[0]=t,e[1]=s,e[2]=a,e[3]=r):(s=e[1],a=e[2],r=e[3]);const n=r===void 0?4:r;let i;e[4]!==s?(i=Q("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",s),e[4]=s,e[5]=i):i=e[5];let o;return e[6]!==a||e[7]!==n||e[8]!==i?(o=l.jsx(Ss,{children:l.jsx(_s,{"data-slot":"dropdown-menu-content",sideOffset:n,className:i,...a})}),e[6]=a,e[7]=n,e[8]=i,e[9]=o):o=e[9],o}function je(t){const e=_.c(12);let s,a,r,n;e[0]!==t?({className:s,inset:a,variant:n,...r}=t,e[0]=t,e[1]=s,e[2]=a,e[3]=r,e[4]=n):(s=e[1],a=e[2],r=e[3],n=e[4]);const i=n===void 0?"default":n;let o;e[5]!==s?(o=Q("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),e[5]=s,e[6]=o):o=e[6];let c;return e[7]!==a||e[8]!==r||e[9]!==o||e[10]!==i?(c=l.jsx(vs,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":i,className:o,...r}),e[7]=a,e[8]=r,e[9]=o,e[10]=i,e[11]=c):c=e[11],c}const na=()=>{const t=_.c(33),{handleExport:e}=le(),{isInserting:s,handleInsert:a}=xe(),r=y(ia),n=y(oa),i=y(ca),o=y(da);let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx(aa,{asChild:!0,children:l.jsxs(F,{variant:"outline",size:"sm",className:"h-8 text-xs",children:["Actions ",l.jsx(Be,{className:"ml-1 h-3 w-3"})]})}),t[0]=c):c=t[0];let m;t[1]!==n?(m=()=>n(null),t[1]=n,t[2]=m):m=t[2];const d=r==null;let f;t[3]===Symbol.for("react.memo_cache_sentinel")?(f=l.jsx(Ze,{className:"mr-1 h-3 w-3"}),t[3]=f):f=t[3];let u;t[4]!==m||t[5]!==d?(u=l.jsx(je,{asChild:!0,children:l.jsxs(F,{variant:"ghost",size:"sm",className:"h-8 w-full justify-start text-xs",onClick:m,disabled:d,title:"Clear applied filters",children:[f,"Clear filters"]})}),t[4]=m,t[5]=d,t[6]=u):u=t[6];let h;t[7]!==o?(h=()=>o(null),t[7]=o,t[8]=h):h=t[8];const x=i==null;let b;t[9]===Symbol.for("react.memo_cache_sentinel")?(b=l.jsx(ht,{className:"mr-1 h-3 w-3"}),t[9]=b):b=t[9];let p;t[10]!==h||t[11]!==x?(p=l.jsx(je,{asChild:!0,children:l.jsxs(F,{variant:"ghost",size:"sm",className:"h-8 w-full justify-start text-xs",onClick:h,disabled:x,title:"Reset sorting",children:[b,"Reset sorting"]})}),t[10]=h,t[11]=x,t[12]=p):p=t[12];let j;t[13]===Symbol.for("react.memo_cache_sentinel")?(j=l.jsx(Fe,{className:"mr-1 h-3 w-3"}),t[13]=j):j=t[13];let g;t[14]!==a||t[15]!==s?(g=l.jsx(je,{asChild:!0,children:l.jsxs(F,{variant:"ghost",size:"sm",className:"h-8 w-full justify-start text-xs",onClick:a,disabled:s,title:"Insert a new row",children:[j,"Insert row"]})}),t[14]=a,t[15]=s,t[16]=g):g=t[16];let N;t[17]!==e?(N=()=>e("table"),t[17]=e,t[18]=N):N=t[18];let v;t[19]===Symbol.for("react.memo_cache_sentinel")?(v=l.jsx(Ne,{className:"mr-1 h-3 w-3"}),t[19]=v):v=t[19];let w;t[20]!==N?(w=l.jsx(je,{asChild:!0,children:l.jsxs(F,{variant:"ghost",size:"sm",className:"h-8 w-full justify-start text-xs",onClick:N,title:"Export the current table as CSV",children:[v,"Export table"]})}),t[20]=N,t[21]=w):w=t[21];let S;t[22]!==e?(S=()=>e("current"),t[22]=e,t[23]=S):S=t[23];let $;t[24]===Symbol.for("react.memo_cache_sentinel")?($=l.jsx(Ne,{className:"mr-1 h-3 w-3"}),t[24]=$):$=t[24];let L;t[25]!==S?(L=l.jsx(je,{asChild:!0,children:l.jsxs(F,{variant:"ghost",size:"sm",className:"h-8 w-full justify-start text-xs",onClick:S,title:"Export the current data as CSV",children:[$,"Export data"]})}),t[25]=S,t[26]=L):L=t[26];let I;return t[27]!==g||t[28]!==w||t[29]!==L||t[30]!==u||t[31]!==p?(I=l.jsxs(la,{children:[c,l.jsxs(ra,{className:"w-40",children:[u,p,g,w,L]})]}),t[27]=g,t[28]=w,t[29]=L,t[30]=u,t[31]=p,t[32]=I):I=t[32],I};function ia(t){return t.filters}function oa(t){return t.setFilters}function ca(t){return t.sorters}function da(t){return t.setSorters}function ma(t){const e=_.c(8);let s,a;e[0]!==t?({className:s,...a}=t,e[0]=t,e[1]=s,e[2]=a):(s=e[1],a=e[2]);let r;e[3]!==s?(r=Q("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),e[3]=s,e[4]=r):r=e[4];let n;return e[5]!==a||e[6]!==r?(n=l.jsx("textarea",{"data-slot":"textarea",className:r,...a}),e[5]=a,e[6]=r,e[7]=n):n=e[7],n}const ua=()=>{var P;const t=_.c(50),{handleEditSubmit:e}=le(),{selectedRowObject:s,isInserting:a,handleCloseEdit:r}=xe(),n=ee(fa),i=ee(ha),o=y(xa),c=y(pa),m=y(ba);let d,f;t[0]!==m||t[1]!==a||t[2]!==s||t[3]!==i?(d=()=>{a?i((m==null?void 0:m.map(ga))||[]):s&&i(s.data.map(ja))},f=[a,s,m,i],t[0]=m,t[1]=a,t[2]=s,t[3]=i,t[4]=d,t[5]=f):(d=t[4],f=t[5]),C.useEffect(d,f);let u;t[6]!==i?(u=(U,G)=>{const te=ee.getState().editValues;i(te.map((q,V)=>V===U?G:q))},t[6]=i,t[7]=u):u=t[7];const h=u;let x;e:{if(!m||!c||!o[c]){x=null;break e}const U=(P=o[c])==null?void 0:P.schema;let G;if(t[8]!==m||t[9]!==c||t[10]!==n||t[11]!==h||t[12]!==U||t[13]!==o){let te;t[15]!==c||t[16]!==n||t[17]!==h||t[18]!==U||t[19]!==o?(te=(q,V)=>{var re,pe,ne,ye,ie,be,oe;return l.jsxs("div",{className:"border-primary/10 border shadow-sm",children:[l.jsx("label",{htmlFor:q,className:"bg-primary/5 border-primary/10 flex items-center gap-1 border-b p-1.5",children:l.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(tt,{columnSchema:U[V]}),l.jsx(X,{className:"text-xs font-medium capitalize",children:q})]}),U[V].IsNullable&&l.jsx("span",{className:"text-primary/50 bg-primary/5 rounded-full px-2 py-0.5 text-xs",children:"Nullable"})]})}),l.jsx("div",{className:"p-1",children:yt(((re=U[V])==null?void 0:re.type)??"")?l.jsx(ma,{id:q,name:q,className:"border-primary/20 focus:ring-primary/30 focus:border-primary/40 rounded border text-sm text-[0.8rem]! focus:ring-1",value:n[V]||"",onChange:ce=>h(V,ce.target.value),placeholder:((ne=(pe=o[c])==null?void 0:pe.schema[V])==null?void 0:ne.dflt_value)||"Null"}):l.jsx(Ue,{id:q,name:q,type:vt(((ye=U[V])==null?void 0:ye.type)??"")?"number":Nt(((ie=U[V])==null?void 0:ie.type)||"")?"date":"text",className:"border-primary/20 focus:ring-primary/30 focus:border-primary/40 h-9 rounded border text-[0.8rem]! focus:ring-1",value:n[V]||"",onChange:ce=>h(V,ce.target.value),placeholder:((oe=(be=o[c])==null?void 0:be.schema[V])==null?void 0:oe.dflt_value)||"Null"})})]},q)},t[15]=c,t[16]=n,t[17]=h,t[18]=U,t[19]=o,t[20]=te):te=t[20],G=m.map(te),t[8]=m,t[9]=c,t[10]=n,t[11]=h,t[12]=U,t[13]=o,t[14]=G}else G=t[14];x=G}const b=x;let p,j;t[21]!==e||t[22]!==a?(j=()=>e(a?"insert":"update"),t[21]=e,t[22]=a,t[23]=j):j=t[23];const g=a?"Insert row":"Apply changes";let N;t[24]!==a?(N=a?l.jsxs(l.Fragment,{children:[l.jsx(Fe,{className:"mr-2 h-3.5 w-3.5"}),"Insert row"]}):l.jsxs(l.Fragment,{children:[l.jsx(nt,{className:"mr-2 h-3.5 w-3.5"}),"Apply changes"]}),t[24]=a,t[25]=N):N=t[25];let v;t[26]!==j||t[27]!==g||t[28]!==N?(v=l.jsx(F,{size:"sm",variant:"outline",className:"w-full py-2 text-xs font-medium",onClick:j,"aria-label":g,children:N}),t[26]=j,t[27]=g,t[28]=N,t[29]=v):v=t[29];let w;t[30]!==e||t[31]!==a?(w=!a&&l.jsx(F,{size:"sm",variant:"destructive",className:"hover:bg-destructive/50 rounded text-xs",onClick:()=>e("delete"),"aria-label":"Delete row",children:l.jsx(qt,{className:"h-3.5 w-3.5"})}),t[30]=e,t[31]=a,t[32]=w):w=t[32];let S;t[33]!==v||t[34]!==w?(S=l.jsxs("div",{className:"bg-primary/5 border-primary/10 flex w-full gap-1 border-t p-2 shadow-inner",children:[v,w]}),t[33]=v,t[34]=w,t[35]=S):S=t[35],p=S;const $=p;let L,I;t[36]!==a?(I=l.jsx("div",{className:"flex items-center gap-2",children:a?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"bg-primary/10 rounded p-1.5",children:l.jsx(Fe,{className:"h-4 w-4"})}),l.jsx(X,{className:"text-sm font-medium whitespace-nowrap",children:"Inserting new row"})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"bg-primary/10 rounded p-1.5",children:l.jsx(nt,{className:"h-4 w-4"})}),l.jsx(X,{className:"text-sm font-medium whitespace-nowrap",children:"Updating row"})]})}),t[36]=a,t[37]=I):I=t[37];let z;t[38]===Symbol.for("react.memo_cache_sentinel")?(z=l.jsx(xt,{className:"mr-1 h-3 w-3"}),t[38]=z):z=t[38];let R;t[39]!==r?(R=l.jsxs(F,{size:"sm",variant:"outline",className:"text-xs",onClick:r,title:"Go back to data","aria-label":"Go back to data",children:[z,"Back"]}),t[39]=r,t[40]=R):R=t[40];let E;t[41]!==I||t[42]!==R?(E=l.jsxs("div",{className:"bg-primary/5 sticky top-0 z-10 flex w-full items-center justify-between gap-1 border-b p-2 shadow-sm",children:[I,R]}),t[41]=I,t[42]=R,t[43]=E):E=t[43],L=E;const k=L;let T;t[44]!==b?(T=l.jsx("div",{className:"flex-1 overflow-auto",children:b}),t[44]=b,t[45]=T):T=t[45];let A;return t[46]!==$||t[47]!==k||t[48]!==T?(A=l.jsxs("section",{className:"flex h-full flex-col",children:[k,T,$]}),t[46]=$,t[47]=k,t[48]=T,t[49]=A):A=t[49],A};function fa(t){return t.editValues}function ha(t){return t.setEditValues}function xa(t){return t.tablesSchema}function pa(t){return t.currentTable}function ba(t){return t.columns}function ga(){return""}function ja(t){return(t==null?void 0:t.toString())??""}const Na=function(e){const s=_.c(8);let a,r;s[0]!==e?({className:a,...r}=e,s[0]=e,s[1]=a,s[2]=r):(a=s[1],r=s[2]);let n;s[3]!==a?(n=Q("w-full caption-bottom text-sm",a),s[3]=a,s[4]=n):n=s[4];let i;return s[5]!==r||s[6]!==n?(i=l.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:l.jsx("table",{"data-slot":"table",className:n,...r})}),s[5]=r,s[6]=n,s[7]=i):i=s[7],i},ya=function(e){const s=_.c(8);let a,r;s[0]!==e?({className:a,...r}=e,s[0]=e,s[1]=a,s[2]=r):(a=s[1],r=s[2]);let n;s[3]!==a?(n=Q("[&_tr]:border-b",a),s[3]=a,s[4]=n):n=s[4];let i;return s[5]!==r||s[6]!==n?(i=l.jsx("thead",{"data-slot":"table-header",id:"tableHeader",className:n,...r}),s[5]=r,s[6]=n,s[7]=i):i=s[7],i},va=function(e){const s=_.c(8);let a,r;s[0]!==e?({className:a,...r}=e,s[0]=e,s[1]=a,s[2]=r):(a=s[1],r=s[2]);let n;s[3]!==a?(n=Q("[&_tr:last-child]:border-0",a),s[3]=a,s[4]=n):n=s[4];let i;return s[5]!==r||s[6]!==n?(i=l.jsx("tbody",{"data-slot":"table-body",className:n,...r}),s[5]=r,s[6]=n,s[7]=i):i=s[7],i},qe=function(e){const s=_.c(8);let a,r;s[0]!==e?({className:a,...r}=e,s[0]=e,s[1]=a,s[2]=r):(a=s[1],r=s[2]);let n;s[3]!==a?(n=Q("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),s[3]=a,s[4]=n):n=s[4];let i;return s[5]!==r||s[6]!==n?(i=l.jsx("tr",{"data-slot":"table-row",className:n,...r}),s[5]=r,s[6]=n,s[7]=i):i=s[7],i},ot=function(e){const s=_.c(8);let a,r;s[0]!==e?({className:a,...r}=e,s[0]=e,s[1]=a,s[2]=r):(a=s[1],r=s[2]);let n;s[3]!==a?(n=Q("text-muted-foreground min-h-6 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),s[3]=a,s[4]=n):n=s[4];let i;return s[5]!==r||s[6]!==n?(i=l.jsx("th",{"data-slot":"table-head",className:n,...r}),s[5]=r,s[6]=n,s[7]=i):i=s[7],i},ct=function(e){const s=_.c(8);let a,r;s[0]!==e?({className:a,...r}=e,s[0]=e,s[1]=a,s[2]=r):(a=s[1],r=s[2]);let n;s[3]!==a?(n=Q("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),s[3]=a,s[4]=n):n=s[4];let i;return s[5]!==r||s[6]!==n?(i=l.jsx("td",{"data-slot":"table-cell",id:"tableCell",className:n,...r}),s[5]=r,s[6]=n,s[7]=i):i=s[7],i},wa=t=>{const e=_.c(6),{column:s,value:a,onChange:r}=t;let n;e[0]!==s||e[1]!==r?(n=c=>r(s,c.target.value),e[0]=s,e[1]=r,e[2]=n):n=e[2];const i=n;let o;return e[3]!==i||e[4]!==a?(o=l.jsx(Ue,{type:"text",className:"border-primary/20 max-h-6 w-full rounded px-2 py-1 text-[0.8rem]!",value:a,onChange:i,placeholder:"Filter"}),e[3]=i,e[4]=a,e[5]=o):o=e[5],o},Sa=C.memo(t=>{const e=_.c(18),{column:s}=t,a=y(_a),{handleQuerySorter:r}=le();if(a!=null&&a[s])if(a[s]==="asc"){let c;e[0]!==s||e[1]!==r?(c=()=>r(s),e[0]=s,e[1]=r,e[2]=c):c=e[2];let m;e[3]===Symbol.for("react.memo_cache_sentinel")?(m=l.jsx(Xt,{className:"h-3 w-3"}),e[3]=m):m=e[3];let d;return e[4]!==c?(d=l.jsx("button",{title:"Sort column in descending order",type:"button","aria-label":"Sort descending",className:"cursor-pointer",onClick:c,children:m}),e[4]=c,e[5]=d):d=e[5],d}else{let c;e[6]!==s||e[7]!==r?(c=()=>r(s),e[6]=s,e[7]=r,e[8]=c):c=e[8];let m;e[9]===Symbol.for("react.memo_cache_sentinel")?(m=l.jsx(Yt,{className:"h-3 w-3"}),e[9]=m):m=e[9];let d;return e[10]!==c?(d=l.jsx("button",{title:"Sort column in ascending order",type:"button","aria-label":"Sort ascending",className:"cursor-pointer",onClick:c,children:m}),e[10]=c,e[11]=d):d=e[11],d}let n;e[12]!==s||e[13]!==r?(n=()=>r(s),e[12]=s,e[13]=r,e[14]=n):n=e[14];let i;e[15]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx(Jt,{className:"h-3 w-3"}),e[15]=i):i=e[15];let o;return e[16]!==n?(o=l.jsx("button",{title:"Sort column in ascending order",type:"button","aria-label":"Sort column",className:"cursor-pointer",onClick:n,children:i}),e[16]=n,e[17]=o):o=e[17],o});function _a(t){return t.sorters}function Je(t){const e=_.c(2),{children:s}=t;let a;return e[0]!==s?(a=l.jsx("span",{className:"text-muted-foreground bg-primary/5 rounded px-2 py-0.5 text-xs italic",children:s}),e[0]=s,e[1]=a):a=e[1],a}const Ca=()=>{const t=_.c(31),e=y(Ea),s=y(Ta),a=y(Ia),r=y(La),n=y(za),i=y($a),{handleQueryFilter:o}=le(),{handleRowClick:c}=xe();let m,d;t[0]!==n||t[1]!==i?(d=l.jsx("div",{className:"flex h-full flex-col items-center justify-center gap-1 px-4",children:n?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"mb-1 font-medium",children:"No Data To Show"}),l.jsx("p",{className:"text-muted-foreground max-w-md text-sm",children:"The current filters did not return any results"})]}),l.jsxs(F,{size:"sm",variant:"outline",className:"text-xs",onClick:()=>i(null),children:[l.jsx(Ze,{className:"mr-1 h-3 w-3"}),"Clear filters"]})]}):l.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-4 p-8",children:[l.jsx("div",{className:"bg-primary/10 rounded-full p-4",children:l.jsx(he,{className:"text-primary/70 h-8 w-8"})}),l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"mb-1 font-medium",children:"No Data To Show"}),l.jsx("p",{className:"text-muted-foreground max-w-md text-sm",children:"This table does not have any data to display"})]})]})}),t[0]=n,t[1]=i,t[2]=d):d=t[2],m=d;const f=m;let u,h;t[3]!==s?(h=s||[],t[3]=s,t[4]=h):h=t[4];let x;if(t[5]!==n||t[6]!==o||t[7]!==h){let w;t[9]!==n||t[10]!==o?(w=S=>l.jsx(wa,{column:S,value:(n==null?void 0:n[S])??"",onChange:o},S),t[9]=n,t[10]=o,t[11]=w):w=t[11],x=h.map(w),t[5]=n,t[6]=o,t[7]=h,t[8]=x}else x=t[8];u=x;const b=u;let p;t[12]!==s||t[13]!==a||t[14]!==b||t[15]!==r?(p=s&&a?s.map((w,S)=>l.jsxs(ot,{className:"p-1 text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1 py-[1.5px]",children:[l.jsx(Sa,{column:w}),l.jsx(X,{className:"text-foreground font-medium capitalize",children:w}),l.jsx(tt,{columnSchema:r[a].schema[S]})]}),b==null?void 0:b[S]]},w)):l.jsx(ot,{children:l.jsx("p",{className:"text-xs",children:"No columns found"})}),t[12]=s,t[13]=a,t[14]=b,t[15]=r,t[16]=p):p=t[16];let j;t[17]!==p?(j=l.jsx(ya,{children:l.jsx(qe,{className:"bg-primary/5",children:p})}),t[17]=p,t[18]=j):j=t[18];let g;t[19]!==(s==null?void 0:s.length)||t[20]!==a||t[21]!==e||t[22]!==f||t[23]!==c||t[24]!==r?(g=e&&e.length>0?e.map((w,S)=>{const $=w.slice(1);return l.jsx(qe,{onClick:()=>c($,S,w[0]),className:"hover:bg-primary/5 focus:bg-primary/5 cursor-pointer text-xs",children:$.map((L,I)=>{var z;return l.jsx(ct,{className:"border-primary/5 border-t p-2",children:L===null?l.jsx(Je,{children:L===null?"NULL":JSON.stringify(L)}):l.jsx(l.Fragment,{children:((z=r[a].schema[I])==null?void 0:z.type)==="BLOB"?l.jsx(Je,{children:"BLOB"}):l.jsx(X,{className:"text-xs",children:L})})},I)})},S)}):l.jsx(qe,{children:l.jsx(ct,{colSpan:(s==null?void 0:s.length)??1,className:"h-32 text-center",children:f})}),t[19]=s==null?void 0:s.length,t[20]=a,t[21]=e,t[22]=f,t[23]=c,t[24]=r,t[25]=g):g=t[25];let N;t[26]!==g?(N=l.jsx(va,{children:g}),t[26]=g,t[27]=N):N=t[27];let v;return t[28]!==j||t[29]!==N?(v=l.jsxs(Na,{children:[j,N]}),t[28]=j,t[29]=N,t[30]=v):v=t[30],v};function Ea(t){return t.data}function Ta(t){return t.columns}function Ia(t){return t.currentTable}function La(t){return t.tablesSchema}function za(t){return t.filters}function $a(t){return t.setFilters}const ka=()=>{const t=_.c(49),{handlePageChange:e,handleExport:s}=le(),{isInserting:a,handleInsert:r}=xe(),n=y(Ra),i=y(Da),o=y(Aa),c=y(Pa);let m;t[0]!==e?(m=()=>e("first"),t[0]=e,t[1]=m):m=t[1];const d=n===0||c||!o;let f;t[2]===Symbol.for("react.memo_cache_sentinel")?(f=l.jsx(Zt,{className:"h-4 w-4"}),t[2]=f):f=t[2];let u;t[3]!==m||t[4]!==d?(u=l.jsx(F,{onClick:m,disabled:d,size:"icon",variant:"ghost",className:"h-8 w-8 rounded-l-md rounded-r-none border-r",title:"Go to first page",children:f}),t[3]=m,t[4]=d,t[5]=u):u=t[5];let h;t[6]!==e?(h=()=>e("prev"),t[6]=e,t[7]=h):h=t[7];const x=n===0||c||!o;let b;t[8]===Symbol.for("react.memo_cache_sentinel")?(b=l.jsx(xt,{className:"h-4 w-4"}),t[8]=b):b=t[8];let p;t[9]!==h||t[10]!==x?(p=l.jsx(F,{onClick:h,disabled:x,size:"icon",variant:"ghost",className:"h-8 w-8 rounded-none border-r",title:"Go to previous page",children:b}),t[9]=h,t[10]=x,t[11]=p):p=t[11];let j;t[12]!==i||t[13]!==o||t[14]!==n?(j=l.jsx("div",{className:"flex items-center justify-center px-3 text-xs font-medium",children:o?l.jsxs("span",{children:[n+1,l.jsx("span",{className:"text-primary/50 mx-1",children:"-"}),n+i>o?o:n+i,l.jsx("span",{className:"text-primary/50 mx-1",children:"of"}),o]}):l.jsx("span",{children:"No data"})}),t[12]=i,t[13]=o,t[14]=n,t[15]=j):j=t[15];let g;t[16]!==e?(g=()=>e("next"),t[16]=e,t[17]=g):g=t[17];const N=n+i>=o||c||!o;let v;t[18]===Symbol.for("react.memo_cache_sentinel")?(v=l.jsx(ft,{className:"h-4 w-4"}),t[18]=v):v=t[18];let w;t[19]!==N||t[20]!==g?(w=l.jsx(F,{onClick:g,disabled:N,size:"icon",variant:"ghost",className:"h-8 w-8 rounded-none border-l",title:"Go to next page",children:v}),t[19]=N,t[20]=g,t[21]=w):w=t[21];let S;t[22]!==e?(S=()=>e("last"),t[22]=e,t[23]=S):S=t[23];const $=n+i>=o||c||!o;let L;t[24]===Symbol.for("react.memo_cache_sentinel")?(L=l.jsx(es,{className:"h-4 w-4"}),t[24]=L):L=t[24];let I;t[25]!==S||t[26]!==$?(I=l.jsx(F,{onClick:S,disabled:$,size:"icon",variant:"ghost",className:"h-8 w-8 rounded-l-none rounded-r-md border-l",title:"Go to last page",children:L}),t[25]=S,t[26]=$,t[27]=I):I=t[27];let z;t[28]!==w||t[29]!==I||t[30]!==u||t[31]!==p||t[32]!==j?(z=l.jsx("section",{className:"bg-primary/10 flex h-full grow items-center gap-2 p-1",children:l.jsxs("div",{className:"flex items-center rounded-md border shadow-sm",children:[u,p,j,w,I]})}),t[28]=w,t[29]=I,t[30]=u,t[31]=p,t[32]=j,t[33]=z):z=t[33];const R=a||!o;let E;t[34]===Symbol.for("react.memo_cache_sentinel")?(E=l.jsx(Fe,{className:"mr-2 h-3.5 w-3.5"}),t[34]=E):E=t[34];let k;t[35]!==r||t[36]!==R?(k=l.jsxs(F,{size:"sm",variant:"outline",className:"h-8 text-xs font-medium shadow-sm",onClick:r,disabled:R,children:[E,"Insert row"]}),t[35]=r,t[36]=R,t[37]=k):k=t[37];let T;t[38]!==s?(T=()=>s("current"),t[38]=s,t[39]=T):T=t[39];let A;t[40]===Symbol.for("react.memo_cache_sentinel")?(A=l.jsx(Ne,{className:"mr-2 h-3.5 w-3.5"}),t[40]=A):A=t[40];let P;t[41]!==T?(P=l.jsxs(F,{onClick:T,size:"sm",variant:"outline",className:"h-8 text-xs font-medium shadow-sm",title:"Export current data as CSV",children:[A,"Export data"]}),t[41]=T,t[42]=P):P=t[42];let U;t[43]!==k||t[44]!==P?(U=l.jsxs("section",{className:"bg-primary/10 hidden h-full items-center gap-1 p-2 md:flex",children:[k,P]}),t[43]=k,t[44]=P,t[45]=U):U=t[45];let G;return t[46]!==z||t[47]!==U?(G=l.jsxs("footer",{className:"bg-background flex w-full items-center justify-between border-t shadow-sm",id:"paginationControls",children:[z,U]}),t[46]=z,t[47]=U,t[48]=G):G=t[48],G};function Ra(t){return t.offset}function Da(t){return t.limit}function Aa(t){return t.maxSize}function Pa(t){return t.isDataLoading}const Oa=()=>{const t=_.c(35),e=y(Ma),s=y(Fa),a=y(Ba),r=y(Ua),n=y(Qa),i=y(Ha),o=ee(Va),c=ee(Ga),m=ee(Wa),d=ee(Ka),{handleExport:f}=le(),{isEditing:u}=xe();let h;t[0]!==e||t[1]!==f||t[2]!==a||t[3]!==r||t[4]!==s?(h=()=>l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"hidden items-center gap-1 md:flex",children:[l.jsxs(F,{size:"sm",variant:"outline",className:"h-8 text-xs",onClick:()=>a(null),disabled:e==null,title:"Clear applied filters",children:[l.jsx(Ze,{className:"mr-1 h-3 w-3"}),"Clear filters"]}),l.jsxs(F,{size:"sm",variant:"outline",className:"h-8 text-xs",onClick:()=>r(null),disabled:s==null,title:"Reset sorting",children:[l.jsx(ht,{className:"mr-1 h-3 w-3"}),"Reset sorting"]}),l.jsxs(F,{size:"sm",variant:"outline",className:"h-8 text-xs",onClick:()=>f("table"),title:"Export the current table as CSV",children:[l.jsx(Ne,{className:"mr-1 h-3 w-3"}),"Export table"]})]}),l.jsx("div",{className:"md:hidden",children:l.jsx(na,{})})]}),t[0]=e,t[1]=f,t[2]=a,t[3]=r,t[4]=s,t[5]=h):h=t[5];const x=h;let b;t[6]===Symbol.for("react.memo_cache_sentinel")?(b=l.jsx(Zl,{}),t[6]=b):b=t[6];let p;t[7]!==x?(p=l.jsx(x,{}),t[7]=x,t[8]=p):p=t[8];let j;t[9]!==n||t[10]!==i?(j=(n||i)&&l.jsxs("span",{className:"ml-2 flex items-center text-xs text-gray-500",children:[l.jsx(et,{className:"mr-1 h-3 w-3 animate-spin"}),"Loading data"]}),t[9]=n,t[10]=i,t[11]=j):j=t[11];let g;t[12]!==p||t[13]!==j?(g=l.jsxs("div",{className:"flex items-center gap-1 border-b px-1 py-2",children:[b,p,j]}),t[12]=p,t[13]=j,t[14]=g):g=t[14];let N;t[15]===Symbol.for("react.memo_cache_sentinel")?(N=l.jsxs("div",{className:"flex h-full flex-col justify-between border-l",id:"dataSection",children:[l.jsx(Ca,{}),l.jsx(ka,{})]}),t[15]=N):N=t[15];let v;t[16]!==o||t[17]!==m?(v=l.jsx(fe,{id:"dataPanel",defaultSize:o,onResize:m,children:N}),t[16]=o,t[17]=m,t[18]=v):v=t[18];let w;t[19]===Symbol.for("react.memo_cache_sentinel")?(w=l.jsx(Ye,{className:"hidden md:flex",withHandle:!0}),t[19]=w):w=t[19];const S=`static md:relative md:block ${u?"block":"hidden"}`;let $;t[20]===Symbol.for("react.memo_cache_sentinel")?($=l.jsx("div",{className:"h-full overflow-hidden",children:l.jsx("div",{className:"h-full overflow-y-auto",children:l.jsx(st,{})})}),t[20]=$):$=t[20];const L=`bg-background absolute top-0 right-0 z-40 h-full w-full ${u?"block":"hidden"}`;let I;t[21]===Symbol.for("react.memo_cache_sentinel")?(I=l.jsx("section",{className:"bg-primary/5 h-full",children:l.jsx(ua,{})}),t[21]=I):I=t[21];let z;t[22]!==L?(z=l.jsx("div",{className:L,children:I}),t[22]=L,t[23]=z):z=t[23];let R;t[24]!==c||t[25]!==d||t[26]!==z||t[27]!==S?(R=l.jsxs(fe,{id:"schemaPanel",defaultSize:c,onResize:d,className:S,children:[$,z]}),t[24]=c,t[25]=d,t[26]=z,t[27]=S,t[28]=R):R=t[28];let E;t[29]!==R||t[30]!==v?(E=l.jsx("div",{className:"relative h-full overflow-hidden",children:l.jsxs(Xe,{direction:"horizontal",className:"h-full",children:[v,w,R]})}),t[29]=R,t[30]=v,t[31]=E):E=t[31];let k;return t[32]!==E||t[33]!==g?(k=l.jsxs("div",{className:"flex h-full flex-col",children:[g,E]}),t[32]=E,t[33]=g,t[34]=k):k=t[34],k};function Ma(t){return t.filters}function Fa(t){return t.sorters}function Ba(t){return t.setFilters}function Ua(t){return t.setSorters}function Qa(t){return t.isDataLoading}function Ha(t){return t.isDatabaseLoading}function Va(t){return t.dataPanelSize}function Ga(t){return t.schemaPanelSize}function Wa(t){return t.setDataPanelSize}function Ka(t){return t.setSchemaPanelSize}const qa=["ABORT","ACTION","ADD","AFTER","ALL","ALTER","ANALYZE","AND","AS","ASC","ATTACH","AUTOINCREMENT","BEFORE","BEGIN","BETWEEN","BY","CASCADE","CASE","CAST","CHECK","COLLATE","COLUMN","COMMIT","CONFLICT","CONSTRAINT","CREATE","CROSS","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATABASE","DEFAULT","DEFERRABLE","DEFERRED","DELETE","DESC","DETACH","DISTINCT","DROP","EACH","ELSE","END","ESCAPE","EXCEPT","EXCLUSIVE","EXISTS","EXPLAIN","FAIL","FOR","FOREIGN","FROM","FULL","GLOB","GROUP","HAVING","IF","IGNORE","IMMEDIATE","IN","INDEX","INDEXED","INITIALLY","INNER","INSERT","INSTEAD","INTERSECT","INTO","IS","ISNULL","JOIN","KEY","LEFT","LIKE","LIMIT","MATCH","NATURAL","NO","NOT","NOTNULL","NULL","OF","OFFSET","ON","OR","ORDER","OUTER","PLAN","PRAGMA","PRIMARY","QUERY","RAISE","RECURSIVE","REFERENCES","REGEXP","REINDEX","RELEASE","RENAME","REPLACE","RESTRICT","RIGHT","ROLLBACK","ROW","SAVEPOINT","SELECT","SET","TABLE","TEMP","TEMPORARY","THEN","TO","TRANSACTION","TRIGGER","UNION","UNIQUE","UPDATE","USING","VACUUM","VALUES","VIEW","VIRTUAL","WHEN","WHERE","WITH","WITHOUT"],Xa=["ABS","ACOS","ASIN","ATAN","CEIL","COS","EXP","FLOOR","HEX","LENGTH","LOG","LOWER","LTRIM","OCT","PI","POW","ROUND","SIGN","SIN","SQRT","TAN","TRIM","UPPER"];function Ya(){const{theme:t}=jt(),e=y(d=>d.customQuery),s=y(d=>d.setCustomQuery),a=y(d=>d.tablesSchema),{tableNames:r,columnNames:n}=C.useMemo(()=>{const d=Object.keys(a),f=d.flatMap(u=>a[u].schema.map(h=>h.name));return{tableNames:d,columnNames:f}},[a]),i=C.useMemo(()=>[...qa.map(d=>({label:d,type:"keyword"})),...Xa.map(d=>({label:d,type:"function"})),...r.map(d=>({label:d,type:"table"})),...n.map(d=>({label:d,type:"column"}))],[r,n]),o=C.useCallback(d=>{const f=d.matchBefore(/\w*/);return!f||f.from===f.to&&!d.explicit?null:{from:f.from,to:f.to,options:i}},[i]),c=C.useCallback(d=>{d!==e&&s(d)},[e,s]),m=C.useMemo(()=>[Rs,Ds(),As({override:[o]})],[o]);return l.jsx($s,{value:e,height:"100%",extensions:m,onChange:c,className:"h-full w-full",theme:t==="dark"?ks:"light"})}const dt=36,Ja=()=>{const t=_.c(23),e=y(Za);if(!e){let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx("div",{className:"bg-primary/10 rounded-full p-4",children:l.jsx(he,{className:"text-primary/70 h-8 w-8"})}),t[0]=c):c=t[0];let m;return t[1]===Symbol.for("react.memo_cache_sentinel")?(m=l.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-4 p-8",children:[c,l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"mb-1 font-medium",children:"No Query Results"}),l.jsx("p",{className:"text-muted-foreground max-w-md text-sm",children:"Execute a SQL query to view the results here"})]})]}),t[1]=m):m=t[1],m}if(!e.data||e.data.length===0){let c,m;t[2]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx(Me,{className:"text-primary/70 h-4 w-4"}),m=l.jsx("h3",{className:"text-sm font-medium",children:"Query Results"}),t[2]=c,t[3]=m):(c=t[2],m=t[3]);let d;t[4]!==e.columns.length?(d=l.jsx("div",{className:"bg-primary/5 border-b p-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[c,m,l.jsxs("span",{className:"bg-primary/10 rounded-full px-2 py-0.5 text-xs",children:[e.columns.length," columns"]})]})}),t[4]=e.columns.length,t[5]=d):d=t[5];let f;t[6]===Symbol.for("react.memo_cache_sentinel")?(f=l.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-center",children:[l.jsx("div",{className:"bg-primary/5 mb-4 rounded-full p-4",children:l.jsx(Me,{className:"text-primary/50 h-6 w-6"})}),l.jsx("p",{className:"text-md mb-1 font-medium",children:"Query returned no results"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Your query executed successfully but returned no data"})]}),t[6]=f):f=t[6];let u;return t[7]!==d?(u=l.jsxs("div",{className:"h-full shadow-sm",children:[d,f]}),t[7]=d,t[8]=u):u=t[8],u}let s;t[9]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Me,{className:"text-primary/70 h-4 w-4"}),l.jsx(X,{className:"mr-2 text-sm font-medium text-nowrap",children:"Query Results"})]}),t[9]=s):s=t[9];let a;t[10]!==e.data.length?(a=l.jsxs(X,{className:"bg-primary/10 rounded-full px-2 py-0.5 text-xs text-nowrap",children:[e.data.length," rows"]}),t[10]=e.data.length,t[11]=a):a=t[11];let r;t[12]!==e.columns.length?(r=l.jsxs(X,{className:"bg-primary/10 rounded-full px-2 py-0.5 text-xs text-nowrap",children:[e.columns.length," columns"]}),t[12]=e.columns.length,t[13]=r):r=t[13];let n;t[14]!==a||t[15]!==r?(n=l.jsx("div",{className:"bg-primary/5 flex-shrink-0 border-b p-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[s,l.jsxs("div",{className:"flex items-center gap-2",children:[a,r]})]})}),t[14]=a,t[15]=r,t[16]=n):n=t[16];let i;t[17]!==e.columns||t[18]!==e.data?(i=l.jsx("div",{className:"h-0 min-h-0 flex-grow overflow-hidden",children:l.jsx(Os,{children:c=>{const{height:m,width:d}=c;return l.jsxs("div",{style:{height:m,width:d},children:[l.jsx("div",{className:"bg-primary/5 sticky top-0 z-10 flex border-b",style:{width:d},children:e.columns.map(f=>{const u=100/e.columns.length;return l.jsx("div",{className:"p-2 text-xs font-medium text-ellipsis whitespace-nowrap",style:{width:`${u}%`,flexShrink:0},children:l.jsx(X,{className:"text-foreground capitalize",children:f})},f)})}),l.jsx(Ps,{height:m-dt,width:d,itemCount:e.data.length,itemSize:dt,overscanCount:5,children:f=>{const{index:u,style:h}=f,x=e.data[u];return l.jsx("div",{style:{...h,display:"flex",width:d},children:x.map((b,p)=>{const j=100/e.columns.length;return l.jsx("div",{className:"border-primary/5 overflow-hidden border-t p-2 text-ellipsis whitespace-nowrap",style:{width:`${j}%`,minWidth:"100px",flexShrink:0},children:b!==null?l.jsx(X,{className:"text-xs",children:String(b)}):l.jsx(Je,{children:"NULL"})},p)})},u)}})]})}})}),t[17]=e.columns,t[18]=e.data,t[19]=i):i=t[19];let o;return t[20]!==n||t[21]!==i?(o=l.jsxs("div",{className:"flex h-full w-full flex-col shadow-sm",children:[n,i]}),t[20]=n,t[21]=i,t[22]=o):o=t[22],o};function Za(t){return t.customQueryObject}const er=()=>{const t=_.c(43),e=y(tr),s=y(sr),a=y(lr),r=y(ar),n=ee(rr),i=ee(nr),o=ee(ir),c=ee(or),m=y(cr),{handleQueryExecute:d,handleExport:f}=le();let u;t[0]!==s?(u=()=>{s(null)},t[0]=s,t[1]=u):u=t[1];const h=u;let x;t[2]===Symbol.for("react.memo_cache_sentinel")?(x=l.jsx(ts,{className:"mr-1 h-3 w-3"}),t[2]=x):x=t[2];let b;t[3]!==d?(b=l.jsxs(F,{size:"sm",variant:"outline",className:"w-[150px] text-xs",onClick:d,title:"Execute SQL",children:[x,"Execute SQL"]}),t[3]=d,t[4]=b):b=t[4];let p;t[5]!==f?(p=()=>f("custom"),t[5]=f,t[6]=p):p=t[6];const j=!(m!=null&&m.data);let g;t[7]===Symbol.for("react.memo_cache_sentinel")?(g=l.jsx(Ne,{className:"mr-1 h-3 w-3"}),t[7]=g):g=t[7];let N;t[8]!==p||t[9]!==j?(N=l.jsxs(F,{onClick:p,size:"sm",variant:"outline",className:"text-xs",disabled:j,children:[g,"Export data"]}),t[8]=p,t[9]=j,t[10]=N):N=t[10];let v;t[11]!==a||t[12]!==r?(v=(a||r)&&l.jsxs("span",{className:"ml-2 flex items-center text-xs text-gray-500",children:[l.jsx(et,{className:"mr-1 h-3 w-3 animate-spin"}),"Loading data"]}),t[11]=a,t[12]=r,t[13]=v):v=t[13];let w;t[14]!==b||t[15]!==N||t[16]!==v?(w=l.jsxs("div",{className:"flex items-center gap-1 border-b px-1 py-2",children:[b,N,v]}),t[14]=b,t[15]=N,t[16]=v,t[17]=w):w=t[17];let S;t[18]!==e||t[19]!==h?(S=e&&l.jsxs("div",{className:"flex items-center justify-between p-2",children:[l.jsx("div",{className:"text-sm text-red-400",children:e}),l.jsx(F,{size:"sm",variant:"outline",className:"text-xs",onClick:h,children:l.jsx(ss,{className:"h-3 w-3"})})]}),t[18]=e,t[19]=h,t[20]=S):S=t[20];let $;t[21]===Symbol.for("react.memo_cache_sentinel")?($=l.jsx(Ya,{}),t[21]=$):$=t[21];let L;t[22]!==S?(L=l.jsxs(fe,{defaultSize:25,children:[S,$]}),t[22]=S,t[23]=L):L=t[23];let I;t[24]===Symbol.for("react.memo_cache_sentinel")?(I=l.jsx(Ye,{withHandle:!0}),t[24]=I):I=t[24];let z;t[25]===Symbol.for("react.memo_cache_sentinel")?(z=l.jsx(fe,{defaultSize:75,children:l.jsx("div",{className:"flex h-full flex-col justify-between border",children:l.jsx(Ja,{})})}),t[25]=z):z=t[25];let R;t[26]!==L?(R=l.jsxs(Xe,{direction:"vertical",children:[L,I,z]}),t[26]=L,t[27]=R):R=t[27];let E;t[28]!==n||t[29]!==o||t[30]!==R?(E=l.jsx(fe,{defaultSize:n,onResize:o,children:R}),t[28]=n,t[29]=o,t[30]=R,t[31]=E):E=t[31];let k;t[32]===Symbol.for("react.memo_cache_sentinel")?(k=l.jsx(Ye,{className:"hidden md:flex",withHandle:!0}),t[32]=k):k=t[32];let T;t[33]===Symbol.for("react.memo_cache_sentinel")?(T=l.jsx("div",{className:"h-full overflow-hidden",children:l.jsx("div",{className:"h-full overflow-y-auto",children:l.jsx(st,{})})}),t[33]=T):T=t[33];let A;t[34]!==i||t[35]!==c?(A=l.jsx(fe,{defaultSize:i,onResize:c,className:"hidden md:block",children:T}),t[34]=i,t[35]=c,t[36]=A):A=t[36];let P;t[37]!==E||t[38]!==A?(P=l.jsx("div",{className:"h-full overflow-hidden",children:l.jsxs(Xe,{direction:"horizontal",className:"h-full",children:[E,k,A]})}),t[37]=E,t[38]=A,t[39]=P):P=t[39];let U;return t[40]!==P||t[41]!==w?(U=l.jsxs("div",{className:"flex h-full flex-col",children:[w,P]}),t[40]=P,t[41]=w,t[42]=U):U=t[42],U};function tr(t){return t.errorMessage}function sr(t){return t.setErrorMessage}function lr(t){return t.isDataLoading}function ar(t){return t.isDatabaseLoading}function rr(t){return t.dataPanelSize}function nr(t){return t.schemaPanelSize}function ir(t){return t.setDataPanelSize}function or(t){return t.setSchemaPanelSize}function cr(t){return t.customQueryObject}function dr({children:t}){const{handleFileUpload:e}=le(),[s,a]=C.useState(!1),r=C.useCallback(o=>{o.preventDefault(),o.stopPropagation(),a(!0)},[]),n=C.useCallback(o=>{o.preventDefault(),o.stopPropagation(),a(!1)},[]),i=C.useCallback(o=>{var c;o.preventDefault(),o.stopPropagation(),a(!1);try{const m=(c=o.dataTransfer)==null?void 0:c.files;if(!m||m.length===0){H("No file detected","error");return}const d=m[0];e(d)}catch(m){const d=m instanceof Error?m.message:"Failed to process file";H(`Failed to process file: ${d}`,"error")}},[e]);return C.useEffect(()=>(window.addEventListener("dragover",r),window.addEventListener("dragleave",n),window.addEventListener("drop",i),()=>{window.removeEventListener("dragover",r),window.removeEventListener("dragleave",n),window.removeEventListener("drop",i)}),[r,n,i]),l.jsxs(l.Fragment,{children:[t,s&&l.jsx("section",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm transition-all",children:l.jsxs("div",{className:"border-primary/60 bg-background/95 animate-in fade-in zoom-in-95 flex flex-col items-center justify-center rounded-lg border-2 border-dashed p-8 shadow-lg transition-transform duration-200",children:[l.jsx("div",{className:"bg-primary/10 mb-6 flex items-center justify-center rounded-full p-5",children:l.jsx(he,{className:"text-primary h-12 w-12"})}),l.jsx("h3",{className:"mb-2 text-xl font-medium",children:"Drop SQLite Database"}),l.jsx("p",{className:"text-muted-foreground mb-4 text-center text-sm",children:"Release to load your database file"})]})})]})}function mr(){const t=_.c(24),e=y(ur);let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx(Sl,{}),t[0]=s):s=t[0];let a,r;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsx(Me,{className:"hidden h-4 w-4 md:block"}),r=l.jsx("span",{children:"Browse Data"}),t[1]=a,t[2]=r):(a=t[1],r=t[2]);let n;t[3]!==e?(n=l.jsxs(We,{id:"data",disabled:e,value:"data",className:"data-[state=active]: data-[state=active]:border-primary h-8 rounded-none text-xs",children:[a,r]},"data"),t[3]=e,t[4]=n):n=t[4];let i;t[5]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx(ls,{className:"hidden h-4 w-4 md:block"}),t[5]=i):i=t[5];let o;t[6]!==e?(o=l.jsxs(We,{disabled:e,id:"execute",value:"execute",className:"data-[state=active]: data-[state=active]:border-primary h-8 rounded-none text-xs",children:[i,"Execute SQL"]},"execute"),t[6]=e,t[7]=o):o=t[7];let c;t[8]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx(he,{className:"hidden h-4 w-4 md:block"}),t[8]=c):c=t[8];let m;t[9]!==e?(m=l.jsxs(We,{id:"structure",disabled:e,value:"structure",className:"data-[state=active]: data-[state=active]:border-primary h-8 rounded-none text-xs",children:[c,"Database Structure"]},"structure"),t[9]=e,t[10]=m):m=t[10];let d;t[11]!==n||t[12]!==o||t[13]!==m?(d=l.jsxs(jl,{className:"bg-primary/5 h-9 w-full justify-start rounded-none border-b",children:[n,o,m]}),t[11]=n,t[12]=o,t[13]=m,t[14]=d):d=t[14];let f;t[15]!==e?(f=l.jsx(Ke,{value:"data",className:"m-0 h-full border-none p-0",children:e?l.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-4",children:[l.jsx("div",{className:"bg-primary/10 rounded-full p-4",children:l.jsx(et,{className:"text-primary h-8 w-8 animate-spin"})}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-xl font-medium",children:"Loading Database"}),l.jsx("span",{className:"text-muted-foreground text-sm",children:"Please wait while the database is initializing"})]})]}):l.jsx(Oa,{})}),t[15]=e,t[16]=f):f=t[16];let u;t[17]===Symbol.for("react.memo_cache_sentinel")?(u=l.jsx(Ke,{value:"structure",className:"m-0 h-full border-none p-0",children:l.jsx(Vl,{})}),t[17]=u):u=t[17];let h;t[18]===Symbol.for("react.memo_cache_sentinel")?(h=l.jsx(Ke,{value:"execute",className:"m-0 h-full border border-none p-0",children:l.jsx(er,{})}),t[18]=h):h=t[18];let x;t[19]!==f?(x=l.jsxs("section",{className:"max-h-custom-dvh flex-1 overflow-hidden",children:[f,u,h]}),t[19]=f,t[20]=x):x=t[20];let b;return t[21]!==x||t[22]!==d?(b=l.jsx(dr,{children:l.jsxs("main",{className:"bg-primary/5 flex h-screen flex-col overflow-hidden",children:[s,l.jsxs(gl,{defaultValue:"data",className:"flex flex-1 flex-col",children:[d,x]})]})}),t[21]=x,t[22]=d,t[23]=b):b=t[23],b}function ur(t){return t.isDatabaseLoading}_t.createRoot(document.getElementById("root")).render(l.jsx(C.StrictMode,{children:l.jsxs(Bs,{defaultTheme:"dark",storageKey:"ui-theme",children:[l.jsx(bl,{children:l.jsx(Us,{children:l.jsx(mr,{})})}),l.jsx(Ms,{})]})}));
