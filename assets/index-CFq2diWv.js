import{c as v,j as a,r as C,R as rt}from"./react-DTVBiPTP.js";import{c as St}from"./react-dom-Bic8mof3.js";import{z as Ct}from"./next-themes-CVXj9Rch.js";import{T as _t,t as H}from"./sonner-CNIVfq52.js";import{c as Je}from"./zustand-B3kWvAp4.js";import{l as at}from"./lodash-BkzDGCz7.js";import{R as Tt,T as Et,C as It,L as Lt,S as zt,P as $t,a as Dt,I as Rt,V as kt,b as At,c as Pt,d as Ot,e as Mt,f as Ft,g as Ut,h as Bt,i as Ht,j as Qt,k as Vt,l as Gt,m as Wt,n as Kt}from"./@radix-ui-8uMHHbNX.js";import{c as qt}from"./clsx-B-dksMZM.js";import{t as Xt}from"./tailwind-merge-AdmevC4f.js";import{c as Yt}from"./class-variance-authority-Dp3B9jqt.js";import{S as Jt,M as Zt,D as it,a as es,G as ts,K as ss,b as ls,C as as,c as ns,T as rs,H as is,d as os,e as cs,f as Ue,g as ot,h as ds,i as ms,j as ct,k as us,l as fs,m as hs,n as xs,o as ps,F as Ze,L as dt,P as Oe,p as Me,q as nt,r as bs,s as mt,A as gs,t as js,u as Ns,v as vs,w as ys,x as et,y as ws,X as Ss,U as Cs}from"./lucide-react-D6DPYNLR.js";import{P as _s,a as Ts,b as Es}from"./react-resizable-panels-CamTKsLz.js";import{R as Is,d as Ls}from"./@uiw-DR9DUvrx.js";import{G as zs,I as $s,r as Ds}from"./@codemirror-BjKk2IdN.js";import"./scheduler-BNqrtbQi.js";import"./aria-hidden-DQ5UC2Eg.js";import"./react-remove-scroll-B-WdhdOJ.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-DA1CCpBb.js";import"./react-style-singleton-BxmxDrzT.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-561ZEsL5.js";import"./use-callback-ref-BmDWUZVO.js";import"./@floating-ui-DoSlFJNG.js";import"./@babel-Cv5OCJ0e.js";import"./@lezer-E7PapBHi.js";import"./crelt-C8TCjufn.js";import"./@marijn-DXwl3gUT.js";import"./style-mod-Bc2inJdb.js";import"./w3c-keyname-Vcq4gwWv.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();const Rs=t=>{const e=v.c(6);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];const{theme:l}=Ct(),r=l===void 0?"system":l;let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i={"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},e[2]=i):i=e[2];let o;return e[3]!==s||e[4]!==r?(o=a.jsx(_t,{theme:r,className:"toaster group capitalize",style:i,...s}),e[3]=s,e[4]=r,e[5]=o):o=e[5],o},ks={theme:"system",setTheme:()=>null},ut=C.createContext(ks);function As(t){const e=v.c(20);let s,l,n,r;e[0]!==t?({children:s,defaultTheme:n,storageKey:r,...l}=t,e[0]=t,e[1]=s,e[2]=l,e[3]=n,e[4]=r):(s=e[1],l=e[2],n=e[3],r=e[4]);const i=n===void 0?"system":n,o=r===void 0?"vite-ui-theme":r;let c;e[5]!==i||e[6]!==o?(c=()=>localStorage.getItem(o)||i,e[5]=i,e[6]=o,e[7]=c):c=e[7];const[m,d]=C.useState(c);let h,u;e[8]!==m?(h=()=>{const b=window.document.documentElement;if(b.classList.remove("light","dark"),m==="system"){const j=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";b.classList.add(j);return}b.classList.add(m)},u=[m],e[8]=m,e[9]=h,e[10]=u):(h=e[9],u=e[10]),C.useEffect(h,u);let f;e[11]!==o?(f=b=>{localStorage.setItem(o,b),d(b)},e[11]=o,e[12]=f):f=e[12];let p;e[13]!==f||e[14]!==m?(p={theme:m,setTheme:f},e[13]=f,e[14]=m,e[15]=p):p=e[15];const g=p;let x;return e[16]!==s||e[17]!==l||e[18]!==g?(x=a.jsx(ut.Provider,{...l,value:g,children:s}),e[16]=s,e[17]=l,e[18]=g,e[19]=x):x=e[19],x}const ft=()=>{const t=C.useContext(ut);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},te=(t,e,s)=>{const l=v.c(5),n=s===void 0?!1:s;let r,i;l[0]!==e||l[1]!==n||l[2]!==t?(r=()=>{const o=c=>{const m=t.split("+"),d=m.includes("ctrl");let h;h=c.key,n||(h=h.toLowerCase());const u=c.ctrlKey||!d,f=m.some(p=>p==="ctrl"?!1:n?p===c.key:p.toLowerCase()===h);u&&f&&(c.preventDefault(),c.stopPropagation(),e())};return window.addEventListener("keydown",o),()=>{window.removeEventListener("keydown",o)}},i=[t,e,n],l[0]=e,l[1]=n,l[2]=t,l[3]=r,l[4]=i):(r=l[3],i=l[4]),C.useEffect(r,i)},N=Je(t=>({tablesSchema:{},indexesSchema:[],currentTable:null,data:null,columns:null,maxSize:1,isDatabaseLoading:!1,isDataLoading:!1,errorMessage:null,filters:null,sorters:null,limit:50,offset:0,customQuery:void 0,customQueryObject:null,setTablesSchema:e=>t({tablesSchema:e}),setIndexesSchema:e=>t({indexesSchema:e}),setCurrentTable:e=>t({currentTable:e}),setData:e=>t({data:e}),setColumns:e=>t({columns:e}),setMaxSize:e=>t({maxSize:e}),setIsDatabaseLoading:e=>t({isDatabaseLoading:e}),setIsDataLoading:e=>t({isDataLoading:e}),setErrorMessage:e=>t({errorMessage:e}),setFilters:e=>t({filters:e}),setSorters:e=>t({sorters:e}),setLimit:e=>t({limit:e}),setOffset:e=>t({offset:e}),setCustomQuery:e=>t({customQuery:e}),setCustomQueryObject:e=>t({customQueryObject:e}),resetPagination:()=>t({offset:0})})),ee=Je(t=>{const e=at.debounce(l=>{t({schemaPanelSize:l})},200),s=at.debounce(l=>{t({dataPanelSize:l})},200);return{schemaPanelSize:25,dataPanelSize:75,editValues:[],isInserting:!1,setSchemaPanelSize:e,setDataPanelSize:s,setEditValues:l=>t({editValues:l}),setIsInserting:l=>t({isInserting:l})}}),ht=C.createContext(void 0),Ps=t=>{const e=v.c(12),{children:s}=t,[l,n]=C.useState(null),[r,i]=C.useState(!1),o=l!==null||r;let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=(w,S,y)=>{i(!1),n({data:w,index:S,primaryValue:y})},e[0]=c):c=e[0];const m=c;let d;e[1]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{n(null),i(!0)},e[1]=d):d=e[1];const h=d;let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{i(!1),n(null)},e[2]=u):u=e[2];const f=u;let p;e[3]===Symbol.for("react.memo_cache_sentinel")?(p=()=>h(),e[3]=p):p=e[3],te("ctrl+i",p,!0);let g;e[4]===Symbol.for("react.memo_cache_sentinel")?(g=()=>f(),e[4]=g):g=e[4],te("ctrl+`",g,!0);let x;e[5]!==o||e[6]!==r||e[7]!==l?(x={handleRowClick:m,handleInsert:h,isEditing:o,selectedRowObject:l,isInserting:r,setIsInserting:i,setSelectedRowObject:n,handleCloseEdit:f},e[5]=o,e[6]=r,e[7]=l,e[8]=x):x=e[8];const b=x;let j;return e[9]!==s||e[10]!==b?(j=a.jsx(ht.Provider,{value:b,children:s}),e[9]=s,e[10]=b,e[11]=j):j=e[11],j},xe=()=>{const t=C.useContext(ht);if(t===void 0)throw new Error("usePanelManager must be used within a PanelProvider");return t},xt=C.createContext(void 0),Os=t=>{const e=v.c(117),{children:s}=t,l=C.useRef(null),n=N(Ms),r=N(Fs),i=N(Us),o=N(Bs),c=N(Hs),m=N(Qs),d=N(Vs),h=N(Gs),u=N(Ws),f=N(Ks),p=N(qs),g=N(Xs),x=N(Ys),b=N(Js),j=N(Zs),w=N(el),S=N(tl),y=N(sl),_=N(ll),L=N(al),E=N(nl),T=N(rl),$=N(il),D=N(ol),{selectedRowObject:z,setSelectedRowObject:O,setIsInserting:F,handleCloseEdit:B}=xe(),[Y,U]=C.useState(!0);let Q;e[0]!==B||e[1]!==m||e[2]!==i||e[3]!==c||e[4]!==T||e[5]!==o||e[6]!==f||e[7]!==y||e[8]!==r||e[9]!==u||e[10]!==h||e[11]!==F||e[12]!==d||e[13]!==S||e[14]!==O||e[15]!==_||e[16]!==n?(Q=()=>(l.current=new Worker(new URL("/assets/sqliteWorker--AKdJmbk.js",import.meta.url),{type:"module"}),l.current.onmessage=I=>{var K,Z,ge;const A=I.data,{action:R}=A;if(R==="initComplete"){const{payload:k}=A;n(k.tableSchema),r(k.indexSchema),i(k.currentTable),m(k.tableSchema[k.currentTable].schema.map(cl)),y(null),_(null),O(null),F(!1),T(null),c(""),S(0),h(!1)}else if(R==="queryComplete"){const{payload:k}=A;d(k.maxSize);const X=k.results;if(!X)o(null);else{const ae=((K=X[0])==null?void 0:K.values)||[];ae.length!==0?o(ae):o(null)}u(!1)}else if(R==="customQueryComplete"){const{payload:k}=A,X=k.results;if(!X)o(null);else{const ae=((Z=X[0])==null?void 0:Z.values)||[];ae.length!==0?T({data:ae,columns:((ge=X[0])==null?void 0:ge.columns)||[]}):T(null)}u(!1),f(null)}else if(R==="updateInstance"){const{payload:k}=A;n(k.tableSchema),r(k.indexSchema),u(!1),f(null),H.success("Database schema updated successfully")}else if(R==="updateComplete"){const{payload:k}=A;f(null),B(),H.success(`Row ${k.type} successfully`)}else if(R==="insertComplete")f(null),B(),H.success("Row inserted successfully");else if(R==="downloadComplete"){const{payload:k}=A,X=new Blob([k.bytes],{type:"application/octet-stream"}),ae=URL.createObjectURL(X),de=document.createElement("a");de.href=ae,de.download="database.sqlite",de.click(),H.success("Database downloaded successfully")}else if(R==="exportComplete"){const{payload:k}=A,X=new Blob([k.results],{type:"text/csv"}),ae=URL.createObjectURL(X),de=document.createElement("a");de.href=ae,de.download="export.csv",de.click(),H.success("Database exported successfully")}else if(R==="queryError"){const{payload:k}=A;console.error("Worker error:",k.error),u(!1),k.error.isCustomQueryError?(f(k.error.message),H.error(k.error.message)):H.error(k.error.message)}else console.warn("Unknown action:",R)},h(!0),l.current.postMessage({action:"init"}),()=>{var I;(I=l.current)==null||I.terminate()}),e[0]=B,e[1]=m,e[2]=i,e[3]=c,e[4]=T,e[5]=o,e[6]=f,e[7]=y,e[8]=r,e[9]=u,e[10]=h,e[11]=F,e[12]=d,e[13]=S,e[14]=O,e[15]=_,e[16]=n,e[17]=Q):Q=e[17];let G;e[18]!==B||e[19]!==m||e[20]!==i||e[21]!==T||e[22]!==o||e[23]!==f||e[24]!==y||e[25]!==r||e[26]!==u||e[27]!==h||e[28]!==F||e[29]!==d||e[30]!==S||e[31]!==O||e[32]!==_||e[33]!==n?(G=[m,S,h,n,i,r,T,o,d,u,f,y,_,O,B,F],e[18]=B,e[19]=m,e[20]=i,e[21]=T,e[22]=o,e[23]=f,e[24]=y,e[25]=r,e[26]=u,e[27]=h,e[28]=F,e[29]=d,e[30]=S,e[31]=O,e[32]=_,e[33]=n,e[34]=G):G=e[34],C.useEffect(Q,G);let q,V;e[35]!==j||e[36]!==p||e[37]!==Y||e[38]!==b||e[39]!==u||e[40]!==L||e[41]!==g?(q=()=>{if(!j)return;const I=setTimeout(()=>{var ge,k,X;if(!l.current){H.error("Worker is not initialized");return}u(!0);let A=50;const R=(ge=document.getElementById("tableHeader"))==null?void 0:ge.getBoundingClientRect().height,K=(k=document.getElementById("dataSection"))==null?void 0:k.getBoundingClientRect().height,Z=(X=document.getElementById("paginationControls"))==null?void 0:X.getBoundingClientRect().height;Y?(U(!1),K&&Z&&(A=Math.floor((K-Z-51.5)/33))):R&&K&&Z&&(A=Math.floor((K-R-Z)/33)),L(A),l.current.postMessage({action:"getTableData",payload:{currentTable:j,filters:p,sorters:g,limit:A,offset:b}})},100);return()=>clearTimeout(I)},V=[j,p,g,Y,b,L,u],e[35]=j,e[36]=p,e[37]=Y,e[38]=b,e[39]=u,e[40]=L,e[41]=g,e[42]=q,e[43]=V):(q=e[42],V=e[43]),C.useEffect(q,V);let ne;e[44]===Symbol.for("react.memo_cache_sentinel")?(ne=I=>{H.info("Opening database");const A=new FileReader;A.onload=R=>{var Z;const K=(Z=R.target)==null?void 0:Z.result;if(!l.current){H.error("Worker is not initialized");return}l.current.postMessage({action:"openFile",payload:{file:K}})},A.readAsArrayBuffer(I)},e[44]=ne):ne=e[44];const pe=ne;let re;e[45]===Symbol.for("react.memo_cache_sentinel")?(re=I=>{var R;const A=(R=I.target.files)==null?void 0:R[0];if(!A){H.error("No file selected");return}pe(A)},e[45]=re):re=e[45];const Ne=re;let ie;e[46]===Symbol.for("react.memo_cache_sentinel")?(ie=()=>{if(!l.current){H.error("Worker is not initialized");return}l.current.postMessage({action:"download"})},e[46]=ie):ie=e[46];const be=ie;let oe;e[47]!==E||e[48]!==m||e[49]!==i||e[50]!==y||e[51]!==F||e[52]!==d||e[53]!==O||e[54]!==_||e[55]!==D?(oe=I=>{y(null),_(null),E(),d(0),O(null),F(!1),i(I),m(D[I].schema.map(dl))},e[47]=E,e[48]=m,e[49]=i,e[50]=y,e[51]=F,e[52]=d,e[53]=O,e[54]=_,e[55]=D,e[56]=oe):oe=e[56];const ce=oe;let ve;e[57]!==E||e[58]!==y?(ve=(I,A)=>{const K={...N.getState().filters||{},[I]:A};y(K),E()},e[57]=E,e[58]=y,e[59]=ve):ve=e[59];const He=ve;let ye;e[60]!==_?(ye=I=>{const K=((N.getState().sorters||{})[I]||"asc")==="asc"?"desc":"asc",Z={[I]:K};_(Z)},e[60]=_,e[61]=ye):ye=e[61];const Qe=ye;let we;e[62]!==x||e[63]!==w||e[64]!==S||e[65]!==O?(we=I=>{const A=N.getState().offset;if(typeof I=="number")S(I);else if(I==="next"){const R=A+x;R>=w?w-x<0&&S(0):S(R)}else if(I==="prev"){const R=A-x;R<0?S(0):S(R)}else I==="first"?S(0):I==="last"&&(w-x<0?S(0):S(w-x));O(null)},e[62]=x,e[63]=w,e[64]=S,e[65]=O,e[66]=we):we=e[66];const W=we;let Se;e[67]!==j||e[68]!==p||e[69]!==x||e[70]!==b||e[71]!==g?(Se=I=>{if(!l.current){H.error("Worker is not initialized");return}l.current.postMessage({action:"export",payload:{table:j,offset:b,limit:x,filters:p,sorters:g,exportType:I}})},e[67]=j,e[68]=p,e[69]=x,e[70]=b,e[71]=g,e[72]=Se):Se=e[72];const Ve=Se;let Ce;e[73]!==j||e[74]!==$||e[75]!==p||e[76]!==x||e[77]!==b||e[78]!==u||e[79]!==g?(Ce=()=>{if(!l.current){H.error("Worker is not initialized");return}const I=$;if(!I)return;const R=I.replace(/--.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"").split(";").map(ml).filter(ul);for(const K of R)u(!0),l.current.postMessage({action:"exec",payload:{query:K,currentTable:j,filters:p,sorters:g,limit:x,offset:b}})},e[73]=j,e[74]=$,e[75]=p,e[76]=x,e[77]=b,e[78]=u,e[79]=g,e[80]=Ce):Ce=e[80];const ue=Ce;let _e;e[81]!==j||e[82]!==p||e[83]!==x||e[84]!==b||e[85]!==(z==null?void 0:z.primaryValue)||e[86]!==u||e[87]!==g?(_e=I=>{if(!l.current){H.error("Worker is not initialized");return}if(!(z!=null&&z.primaryValue)){I==="delete"?H.error("No row selected to delete"):H.error(`No values provided to ${I}`);return}u(!0),l.current.postMessage({action:I,payload:{table:j,columns:N.getState().columns,values:ee.getState().editValues,primaryValue:z==null?void 0:z.primaryValue}}),l.current.postMessage({action:"refresh",payload:{currentTable:j,offset:b,limit:x,filters:p,sorters:g}})},e[81]=j,e[82]=p,e[83]=x,e[84]=b,e[85]=z==null?void 0:z.primaryValue,e[86]=u,e[87]=g,e[88]=_e):_e=e[88];const J=_e;let Te;e[89]===Symbol.for("react.memo_cache_sentinel")?(Te=()=>be(),e[89]=Te):Te=e[89],te("ctrl+s",Te);let Ee;e[90]!==J?(Ee=()=>J("insert"),e[90]=J,e[91]=Ee):Ee=e[91],te("ctrl+I",Ee,!0);let Ie;e[92]!==J?(Ie=()=>J("update"),e[92]=J,e[93]=Ie):Ie=e[93],te("ctrl+u",Ie);let Le;e[94]!==J?(Le=()=>J("delete"),e[94]=J,e[95]=Le):Le=e[95],te("ctrl+d",Le);let ze;e[96]!==ue?(ze=()=>ue(),e[96]=ue,e[97]=ze):ze=e[97],te("ctrl+q",ze);let $e;e[98]!==W?($e=()=>W("next"),e[98]=W,e[99]=$e):$e=e[99],te("ctrl+ArrowRight",$e);let De;e[100]!==W?(De=()=>W("first"),e[100]=W,e[101]=De):De=e[101],te("ctrl+ArrowUp",De);let Re;e[102]!==W?(Re=()=>W("last"),e[102]=W,e[103]=Re):Re=e[103],te("ctrl+ArrowDown",Re);let ke;e[104]!==W?(ke=()=>W("prev"),e[104]=W,e[105]=ke):ke=e[105],te("ctrl+ArrowLeft",ke);let Ae;e[106]!==J||e[107]!==Ve||e[108]!==W||e[109]!==ue||e[110]!==He||e[111]!==Qe||e[112]!==ce?(Ae={workerRef:l,handleFileUpload:pe,handleFileChange:Ne,handleDownload:be,handleTableChange:ce,handleQueryFilter:He,handleQuerySorter:Qe,handlePageChange:W,handleExport:Ve,handleQueryExecute:ue,handleEditSubmit:J},e[106]=J,e[107]=Ve,e[108]=W,e[109]=ue,e[110]=He,e[111]=Qe,e[112]=ce,e[113]=Ae):Ae=e[113];const Ge=Ae;let Pe;return e[114]!==s||e[115]!==Ge?(Pe=a.jsx(xt.Provider,{value:Ge,children:s}),e[114]=s,e[115]=Ge,e[116]=Pe):Pe=e[116],Pe},le=()=>{const t=C.useContext(xt);if(t===void 0)throw new Error("useDatabaseWorker must be used within a DatabaseWorkerProvider");return t};function Ms(t){return t.setTablesSchema}function Fs(t){return t.setIndexesSchema}function Us(t){return t.setCurrentTable}function Bs(t){return t.setData}function Hs(t){return t.setCustomQuery}function Qs(t){return t.setColumns}function Vs(t){return t.setMaxSize}function Gs(t){return t.setIsDatabaseLoading}function Ws(t){return t.setIsDataLoading}function Ks(t){return t.setErrorMessage}function qs(t){return t.filters}function Xs(t){return t.sorters}function Ys(t){return t.limit}function Js(t){return t.offset}function Zs(t){return t.currentTable}function el(t){return t.maxSize}function tl(t){return t.setOffset}function sl(t){return t.setFilters}function ll(t){return t.setSorters}function al(t){return t.setLimit}function nl(t){return t.resetPagination}function rl(t){return t.setCustomQueryObject}function il(t){return t.customQuery}function ol(t){return t.tablesSchema}function cl(t){return t.name}function dl(t){return t.name}function ml(t){return t.trim()}function ul(t){return t!==""}function M(...t){return Xt(qt(t))}const fl=C.memo(function(e){const s=v.c(8);let l,n;s[0]!==e?({className:l,...n}=e,s[0]=e,s[1]=l,s[2]=n):(l=s[1],n=s[2]);let r;s[3]!==l?(r=M("flex flex-col",l),s[3]=l,s[4]=r):r=s[4];let i;return s[5]!==n||s[6]!==r?(i=a.jsx(Tt,{"data-slot":"tabs",className:r,...n}),s[5]=n,s[6]=r,s[7]=i):i=s[7],i});function hl(t){const e=v.c(8);let s,l;e[0]!==t?({className:s,...l}=t,e[0]=t,e[1]=s,e[2]=l):(s=e[1],l=e[2]);let n;e[3]!==s?(n=M("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-1",s),e[3]=s,e[4]=n):n=e[4];let r;return e[5]!==l||e[6]!==n?(r=a.jsx(Lt,{"data-slot":"tabs-list",className:n,...l}),e[5]=l,e[6]=n,e[7]=r):r=e[7],r}const We=rt.memo(function(e){const s=v.c(8);let l,n;s[0]!==e?({className:l,...n}=e,s[0]=e,s[1]=l,s[2]=n):(l=s[1],n=s[2]);let r;s[3]!==l?(r=M("data-[state=active]:bg-background data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring inline-flex flex-1 items-center justify-center gap-1.5 rounded-md px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",l),s[3]=l,s[4]=r):r=s[4];let i;return s[5]!==n||s[6]!==r?(i=a.jsx(Et,{"data-slot":"tabs-trigger",className:r,...n}),s[5]=n,s[6]=r,s[7]=i):i=s[7],i}),Ke=rt.memo(function(e){const s=v.c(8);let l,n;s[0]!==e?({className:l,...n}=e,s[0]=e,s[1]=l,s[2]=n):(l=s[1],n=s[2]);let r;s[3]!==l?(r=M("flex-1 outline-none",l),s[3]=l,s[4]=r):r=s[4];let i;return s[5]!==n||s[6]!==r?(i=a.jsx(It,{"data-slot":"tabs-content",className:r,...n}),s[5]=n,s[6]=r,s[7]=i):i=s[7],i}),xl=Yt("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}}),pl=t=>{const e=v.c(18);let s,l,n,r,i,o;e[0]!==t?({className:s,variant:o,size:r,asChild:i,onClick:l,...n}=t,e[0]=t,e[1]=s,e[2]=l,e[3]=n,e[4]=r,e[5]=i,e[6]=o):(s=e[1],l=e[2],n=e[3],r=e[4],i=e[5],o=e[6]);const m=(i===void 0?!1:i)?zt:"button";let d;e[7]!==l?(d=x=>{l&&l(x)},e[7]=l,e[8]=d):d=e[8];const h=d;let u,f;e[9]!==s||e[10]!==r||e[11]!==o?(f=M(xl({variant:o,size:r,className:s})),e[9]=s,e[10]=r,e[11]=o,e[12]=f):f=e[12],u=f;const p=u;let g;return e[13]!==m||e[14]!==p||e[15]!==h||e[16]!==n?(g=a.jsx(m,{"data-slot":"button",className:p,onClick:h,...n}),e[13]=m,e[14]=p,e[15]=h,e[16]=n,e[17]=g):g=e[17],g},P=pl,bl=t=>{const e=v.c(10);let s,l,n;e[0]!==t?({className:s,type:n,...l}=t,e[0]=t,e[1]=s,e[2]=l,e[3]=n):(s=e[1],l=e[2],n=e[3]);let r;e[4]!==s?(r=M("border-input file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground flex h-5 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),e[4]=s,e[5]=r):r=e[5];let i;return e[6]!==l||e[7]!==r||e[8]!==n?(i=a.jsx("input",{type:n,"data-slot":"input",className:r,...l}),e[6]=l,e[7]=r,e[8]=n,e[9]=i):i=e[9],i},Be=bl;function gl(){const t=v.c(10),{theme:e,setTheme:s}=ft();let l;t[0]!==s||t[1]!==e?(l=()=>s(e==="dark"?"light":"dark"),t[0]=s,t[1]=e,t[2]=l):l=t[2];const n=e==="dark"?"Switch to light mode":"Switch to dark mode",r=e==="dark"?"Switch to light mode":"Switch to dark mode";let i;t[3]!==e?(i=e==="dark"?a.jsx(Jt,{className:"h-[1.2rem] w-[1.2rem]"}):a.jsx(Zt,{className:"h-[1.2rem] w-[1.2rem]"}),t[3]=e,t[4]=i):i=t[4];let o;return t[5]!==l||t[6]!==n||t[7]!==r||t[8]!==i?(o=a.jsx(P,{variant:"outline",size:"sm",onClick:l,"aria-label":n,title:r,className:"relative flex items-center justify-center transition-transform duration-300",children:i}),t[5]=l,t[6]=n,t[7]=r,t[8]=i,t[9]=o):o=t[9],o}const jl=()=>{const t=v.c(15),{handleFileChange:e,handleDownload:s}=le();let l;t[0]!==e?(l=a.jsx(Be,{id:"file-upload",type:"file",className:"absolute inset-0 cursor-pointer opacity-0",onChange:e}),t[0]=e,t[1]=l):l=t[1];let n;t[2]===Symbol.for("react.memo_cache_sentinel")?(n=a.jsxs(P,{size:"sm",variant:"outline",className:"w-full text-xs",children:[a.jsx(it,{className:"h-3 w-3"}),"Open Database"]}),t[2]=n):n=t[2];let r;t[3]!==l?(r=a.jsxs("label",{htmlFor:"file-upload",className:"relative w-full cursor-pointer md:w-[300px]",children:[l,n]}),t[3]=l,t[4]=r):r=t[4];let i;t[5]===Symbol.for("react.memo_cache_sentinel")?(i=a.jsx(es,{className:"h-3 w-3"}),t[5]=i):i=t[5];let o;t[6]!==s?(o=a.jsxs(P,{size:"sm",variant:"outline",className:"text-xs",onClick:s,title:"Save the database",children:[i,"Save Database"]}),t[6]=s,t[7]=o):o=t[7];let c;t[8]!==r||t[9]!==o?(c=a.jsxs("section",{className:"flex w-full items-center gap-1",children:[r,o]}),t[8]=r,t[9]=o,t[10]=c):c=t[10];let m,d;t[11]===Symbol.for("react.memo_cache_sentinel")?(m=a.jsx("a",{href:"https://github.com/vwh/sqlite-online",target:"_blank",rel:"noreferrer",children:a.jsx(P,{size:"sm",variant:"outline",className:"text-xs",title:"Source Code",children:a.jsx(ts,{className:"h-3 w-3"})})}),d=a.jsx(gl,{}),t[11]=m,t[12]=d):(m=t[11],d=t[12]);let h;return t[13]!==c?(h=a.jsxs("header",{className:"flex items-center justify-between gap-1 border-b p-1",children:[c,m,d]}),t[13]=c,t[14]=h):h=t[14],h},tt=Je(t=>({expandedTables:[],expandedTableSection:!0,expandedIndexSection:!0,toggleTable:e=>t(s=>({expandedTables:s.expandedTables.includes(e)?s.expandedTables.filter(l=>l!==e):[...s.expandedTables,e]})),toggleTableSection:()=>t(e=>({expandedTableSection:!e.expandedTableSection})),toggleIndexSection:()=>t(e=>({expandedIndexSection:!e.expandedIndexSection})),expandAllTables:e=>t({expandedTables:Object.keys(e)}),collapseAllTables:()=>t({expandedTables:[]})})),se=C.memo(function(e){const s=v.c(3),{children:l,className:n}=e,r=`block max-w-80 overflow-hidden text-ellipsis ${n??""}`;let i;return s[0]!==l||s[1]!==r?(i=a.jsx("span",{className:r,children:l}),s[0]=l,s[1]=r,s[2]=i):i=s[2],i}),Nl={DATE:/DATE|TIMESTAMP/i,BLOB:/^BLOB$/i,TEXT:/CHAR|TEXT|CLOB|VARCHAR/i,INTEGER:/INT/i,REAL:/REAL|FLOAT|DOUBLE|DECIMAL/i,NUMERIC:/NUMERIC/i,BOOLEAN:/BOOL/i},me=(t,e)=>Nl[e].test(t),pt=t=>me(t,"DATE"),vl=t=>me(t,"BLOB"),bt=t=>me(t,"TEXT"),yl=t=>me(t,"NUMERIC"),wl=t=>me(t,"BOOLEAN"),Sl=t=>me(t,"INTEGER"),Cl=t=>me(t,"REAL"),gt=t=>Sl(t)||Cl(t)||yl(t),_l=C.memo(ss),Tl=C.memo(ls),El=C.memo(as),Il=C.memo(ns),Ll=C.memo(rs),zl=C.memo(is),$l=C.memo(os),Dl=C.memo(cs),st=t=>{const e=v.c(10),{columnSchema:s}=t;if(!s)return null;const{type:l,isPrimaryKey:n,isForeignKey:r}=s;let i=null;if(l){let d;e[0]!==l?(d=vl(l)?a.jsx(El,{className:"h-4 w-4 text-green-500"}):pt(l)?a.jsx(Il,{className:"h-4 w-4 text-blue-500"}):bt(l)?a.jsx(Ll,{className:"h-4 w-4 text-indigo-500"}):gt(l)?a.jsx(zl,{className:"h-4 w-4 text-red-500"}):wl(l)?a.jsx($l,{className:"h-4 w-4 text-pink-500"}):a.jsx(Dl,{className:"h-4 w-4 text-gray-500"}),e[0]=l,e[1]=d):d=e[1],i=d}let o;e[2]!==n?(o=n&&a.jsx(_l,{className:"h-4 w-4 text-yellow-500"}),e[2]=n,e[3]=o):o=e[3];let c;e[4]!==r?(c=r&&a.jsx(Tl,{className:"h-4 w-4 text-purple-500"}),e[4]=r,e[5]=c):c=e[5];let m;return e[6]!==o||e[7]!==c||e[8]!==i?(m=a.jsxs("div",{className:"flex items-center gap-[2px]",children:[o,c,i]}),e[6]=o,e[7]=c,e[8]=i,e[9]=m):m=e[9],m},Rl=C.memo(t=>{const e=v.c(12),{columnSchema:s}=t;let l;e[0]!==s?(l=a.jsx(st,{columnSchema:s}),e[0]=s,e[1]=l):l=e[1];let n;e[2]!==s.name?(n=a.jsx("span",{className:"text-primary/60 ml-1 text-xs",children:s.name}),e[2]=s.name,e[3]=n):n=e[3];let r;e[4]!==l||e[5]!==n?(r=a.jsxs("div",{className:"flex items-center",children:[l,n]}),e[4]=l,e[5]=n,e[6]=r):r=e[6];let i;e[7]!==s.type?(i=a.jsx(se,{className:"text-primary/60 text-xs whitespace-nowrap",children:s.type}),e[7]=s.type,e[8]=i):i=e[8];let o;return e[9]!==r||e[10]!==i?(o=a.jsxs("div",{className:"flex items-center justify-between gap-1",children:[r,i]}),e[9]=r,e[10]=i,e[11]=o):o=e[11],o}),kl=C.memo(Ue),Al=C.memo(ot),jt=C.memo(t=>{const e=v.c(3),{expanded:s,size:l}=t,n=l===void 0?4:l;let r;return e[0]!==s||e[1]!==n?(r=s?a.jsx(kl,{className:`h-${n} w-${n}`}):a.jsx(Al,{className:`h-${n} w-${n}`}),e[0]=s,e[1]=n,e[2]=r):r=e[2],r}),Pl=C.memo(t=>{const e=v.c(35),{name:s,table:l}=t,{expandedTables:n,toggleTable:r}=tt();let i,o,c,m;if(e[0]!==n||e[1]!==s||e[2]!==r){i=n.includes(s);let b;e[7]!==s||e[8]!==r?(b=()=>r(s),e[7]=s,e[8]=r,e[9]=b):b=e[9],c=b;let j;e[10]!==s||e[11]!==r?(j=w=>{(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),r(s))},e[10]=s,e[11]=r,e[12]=j):j=e[12],o=j,m=M("flex cursor-pointer items-center rounded px-1.5 py-1 transition-all hover:ml-2",i&&"ml-1"),e[0]=n,e[1]=s,e[2]=r,e[3]=i,e[4]=o,e[5]=c,e[6]=m}else i=e[3],o=e[4],c=e[5],m=e[6];let d;e[13]!==i?(d=a.jsx("div",{className:"flex h-5 w-5 items-center justify-center",children:a.jsx(jt,{expanded:i})}),e[13]=i,e[14]=d):d=e[14];let h;e[15]!==s?(h=a.jsx("span",{className:"text-sm",children:s}),e[15]=s,e[16]=h):h=e[16];let u;e[17]!==l.schema.length?(u=a.jsxs("span",{className:"text-primary/50 text-xs",children:["(",l.schema.length,")"]}),e[17]=l.schema.length,e[18]=u):u=e[18];let f;e[19]!==h||e[20]!==u?(f=a.jsxs("span",{className:"flex items-center gap-1 capitalize",children:[h,u]}),e[19]=h,e[20]=u,e[21]=f):f=e[21];let p;e[22]!==i||e[23]!==o||e[24]!==c||e[25]!==m||e[26]!==d||e[27]!==f?(p=a.jsxs("div",{className:m,onClick:c,onKeyDown:o,"aria-expanded":i,children:[d,f]}),e[22]=i,e[23]=o,e[24]=c,e[25]=m,e[26]=d,e[27]=f,e[28]=p):p=e[28];let g;e[29]!==i||e[30]!==l.schema?(g=i&&a.jsx("div",{className:"border-primary/20 mt-1 mb-2 ml-4 flex flex-col gap-1 space-y-0.5 border-l-2 pl-2",children:l.schema.map(Hl)}),e[29]=i,e[30]=l.schema,e[31]=g):g=e[31];let x;return e[32]!==p||e[33]!==g?(x=a.jsxs("article",{children:[p,g]}),e[32]=p,e[33]=g,e[34]=x):x=e[34],x}),Nt=C.memo(t=>{const e=v.c(17),{title:s,expanded:l,icon:n,onToggle:r,children:i}=t;let o;e[0]!==r?(o=p=>{(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),r())},e[0]=r,e[1]=o):o=e[1];const c=o,m=!l&&"mb-0";let d;e[2]!==m?(d=M("hover:bg-primary/5 bg-primary/7 flex cursor-pointer items-center px-2 py-2 transition-colors",m),e[2]=m,e[3]=d):d=e[3];let h;e[4]!==l?(h=a.jsx("div",{className:"flex h-5 w-5 items-center justify-center",children:a.jsx(jt,{expanded:l,size:5})}),e[4]=l,e[5]=h):h=e[5];let u;e[6]!==s?(u=a.jsx("span",{children:s}),e[6]=s,e[7]=u):u=e[7];let f;return e[8]!==i||e[9]!==l||e[10]!==c||e[11]!==n||e[12]!==r||e[13]!==d||e[14]!==h||e[15]!==u?(f=a.jsxs("header",{className:d,onClick:r,onKeyDown:c,"aria-expanded":l,children:[h,n,u,i]}),e[8]=i,e[9]=l,e[10]=c,e[11]=n,e[12]=r,e[13]=d,e[14]=h,e[15]=u,e[16]=f):f=e[16],f}),Ol=C.memo(t=>{const e=v.c(21),{tablesSchema:s}=t,{expandedTableSection:l,toggleTableSection:n,expandAllTables:r,collapseAllTables:i}=tt(),[o,c]=C.useState(!1);let m;e[0]!==r||e[1]!==s?(m=w=>{w.stopPropagation(),r(s),c(!0)},e[0]=r,e[1]=s,e[2]=m):m=e[2];const d=m;let h;e[3]!==i?(h=w=>{w.stopPropagation(),i(),c(!1)},e[3]=i,e[4]=h):h=e[4];const u=h;let f;e[5]!==l||e[6]!==u||e[7]!==d||e[8]!==o?(f=l&&a.jsx("div",{className:"ml-auto flex",children:o?a.jsx(P,{className:"text-primary hover:bg-primary/5 h-7 rounded px-2 py-0.5 text-xs transition-colors",variant:"ghost",size:"icon",onClick:u,"aria-label":"Collapse all tables",children:a.jsx(ds,{className:"h-4 w-4"})}):a.jsx(P,{className:"text-primary hover:bg-primary/5 h-7 rounded px-2 py-0.5 text-xs transition-colors",variant:"ghost",size:"icon",onClick:d,"aria-label":"Expand all tables",children:a.jsx(ms,{className:"h-4 w-4"})})}),e[5]=l,e[6]=u,e[7]=d,e[8]=o,e[9]=f):f=e[9];const p=f;let g;e[10]===Symbol.for("react.memo_cache_sentinel")?(g=a.jsx(it,{className:"mr-2 h-4 w-4"}),e[10]=g):g=e[10];let x;e[11]!==p||e[12]!==l||e[13]!==n?(x=a.jsx(Nt,{title:"Tables",expanded:l,icon:g,onToggle:n,children:p}),e[11]=p,e[12]=l,e[13]=n,e[14]=x):x=e[14];let b;e[15]!==l||e[16]!==s?(b=l&&a.jsx("div",{className:"space-y-0.5 overflow-y-auto pr-1 pl-2",children:Object.entries(s).map(Ql)}),e[15]=l,e[16]=s,e[17]=b):b=e[17];let j;return e[18]!==x||e[19]!==b?(j=a.jsxs("section",{children:[x,b]}),e[18]=x,e[19]=b,e[20]=j):j=e[20],j}),Ml=C.memo(t=>{const e=v.c(7),{index:s}=t;let l;e[0]!==s.name?(l=a.jsx("span",{className:"text-sm",children:s.name}),e[0]=s.name,e[1]=l):l=e[1];let n;e[2]!==s.tableName?(n=a.jsx(se,{className:"text-primary/60 text-xs font-medium whitespace-nowrap",children:s.tableName}),e[2]=s.tableName,e[3]=n):n=e[3];let r;return e[4]!==l||e[5]!==n?(r=a.jsx("article",{children:a.jsx("div",{className:"flex cursor-pointer items-center rounded px-1.5 py-1 transition-all hover:ml-2",children:a.jsxs("div",{className:"flex w-full items-center justify-between gap-1",children:[l,n]})})}),e[4]=l,e[5]=n,e[6]=r):r=e[6],r}),Fl=C.memo(t=>{const e=v.c(10),{indexes:s}=t,{expandedIndexSection:l,toggleIndexSection:n}=tt();let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=a.jsx(ct,{className:"mr-2 h-4 w-4"}),e[0]=r):r=e[0];let i;e[1]!==l||e[2]!==n?(i=a.jsx(Nt,{title:"Indexes",expanded:l,icon:r,onToggle:n}),e[1]=l,e[2]=n,e[3]=i):i=e[3];let o;e[4]!==l||e[5]!==s?(o=l&&a.jsx("div",{className:"space-y-0.5 overflow-y-auto pr-1 pl-2",children:s.map(Vl)}),e[4]=l,e[5]=s,e[6]=o):o=e[6];let c;return e[7]!==i||e[8]!==o?(c=a.jsxs("section",{children:[i,o]}),e[7]=i,e[8]=o,e[9]=c):c=e[9],c}),Ul=C.memo(t=>{const e=v.c(3),{onFilterChange:s}=t;let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=a.jsx(us,{className:"text-primary/40 absolute top-1/2 left-2 h-4 w-4 -translate-y-1/2 transform"}),e[0]=l):l=e[0];let n;return e[1]!==s?(n=a.jsxs("div",{className:"relative",children:[l,a.jsx(Be,{placeholder:"Search tables and indexes",className:"border-primary/20 h-8 w-full pl-8 text-sm text-[0.8rem]!",onChange:r=>s(r.target.value),"aria-label":"Search tables and indexes"})]}),e[1]=s,e[2]=n):n=e[2],n}),Bl=C.memo(t=>{const e=v.c(9),{tableCount:s,indexCount:l}=t;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=a.jsx(fs,{className:"mr-1 h-3 w-3 text-wrap"}),e[0]=n):n=e[0];let r;e[1]!==s?(r=a.jsxs("div",{className:"flex items-center",children:[n,a.jsxs("span",{className:"overflow-hidden text-ellipsis whitespace-nowrap",children:[s," Tables"]})]}),e[1]=s,e[2]=r):r=e[2];let i;e[3]===Symbol.for("react.memo_cache_sentinel")?(i=a.jsx(ct,{className:"mr-1 h-3 w-3"}),e[3]=i):i=e[3];let o;e[4]!==l?(o=a.jsxs("div",{className:"flex items-center",children:[i,a.jsxs("span",{className:"overflow-hidden text-ellipsis whitespace-nowrap",children:[l," Indexes"]})]}),e[4]=l,e[5]=o):o=e[5];let c;return e[6]!==r||e[7]!==o?(c=a.jsxs("footer",{className:"bg-primary/5 text-primary/60 flex items-center justify-between gap-2 border-t p-2 text-xs",children:[r,o]}),e[6]=r,e[7]=o,e[8]=c):c=e[8],c}),lt=()=>{const t=v.c(25),[e,s]=C.useState(""),l=N(Gl),n=N(Wl);let r;e:{if(!e){r=l;break e}let x;if(t[0]!==e||t[1]!==l){x={};for(const[b,j]of Object.entries(l))b.toLowerCase().includes(e.toLowerCase())&&(x[b]=j);t[0]=e,t[1]=l,t[2]=x}else x=t[2];r=x}const i=r;let o;e:{if(!e){o=n;break e}let x;if(t[3]!==e||t[4]!==n){let b;t[6]!==e?(b=j=>j.name.toLowerCase().includes(e.toLowerCase())||j.tableName.toLowerCase().includes(e.toLowerCase()),t[6]=e,t[7]=b):b=t[7],x=n.filter(b),t[3]=e,t[4]=n,t[5]=x}else x=t[5];o=x}const c=o;let m;t[8]===Symbol.for("react.memo_cache_sentinel")?(m=a.jsx("div",{className:"bg-primary/5 border-b p-2",children:a.jsx(Ul,{onFilterChange:s})}),t[8]=m):m=t[8];let d;t[9]!==i?(d=a.jsx(Ol,{tablesSchema:i}),t[9]=i,t[10]=d):d=t[10];let h;t[11]!==c||t[12]!==n.length?(h=n.length>0&&a.jsx(Fl,{indexes:c}),t[11]=c,t[12]=n.length,t[13]=h):h=t[13];let u;t[14]!==d||t[15]!==h?(u=a.jsxs("nav",{className:"flex-1 overflow-auto",children:[d,h]}),t[14]=d,t[15]=h,t[16]=u):u=t[16];let f;t[17]!==l?(f=Object.keys(l),t[17]=l,t[18]=f):f=t[18];let p;t[19]!==n.length||t[20]!==f.length?(p=a.jsx(Bl,{tableCount:f.length,indexCount:n.length}),t[19]=n.length,t[20]=f.length,t[21]=p):p=t[21];let g;return t[22]!==u||t[23]!==p?(g=a.jsxs("main",{className:"flex h-full w-full flex-col overflow-hidden",children:[m,u,p]}),t[22]=u,t[23]=p,t[24]=g):g=t[24],g};function Hl(t){return a.jsx(Rl,{columnSchema:t},t.cid)}function Ql(t){const[e,s]=t;return a.jsx(Pl,{name:e,table:s},e)}function Vl(t){return a.jsx(Ml,{index:t},t.name)}function Gl(t){return t.tablesSchema}function Wl(t){return t.indexesSchema}const Kl=()=>{const t=v.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=a.jsx("div",{className:"flex h-full flex-col",children:a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsx("div",{className:"h-full overflow-y-auto",children:a.jsx(lt,{})})})}),t[0]=e):e=t[0],e};function qe(t){const e=v.c(8);let s,l;e[0]!==t?({className:s,...l}=t,e[0]=t,e[1]=s,e[2]=l):(s=e[1],l=e[2]);let n;e[3]!==s?(n=M("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",s),e[3]=s,e[4]=n):n=e[4];let r;return e[5]!==l||e[6]!==n?(r=a.jsx(Es,{"data-slot":"resizable-panel-group",className:n,...l}),e[5]=l,e[6]=n,e[7]=r):r=e[7],r}function fe(t){const e=v.c(2);let s;return e[0]!==t?(s=a.jsx(_s,{"data-slot":"resizable-panel",...t}),e[0]=t,e[1]=s):s=e[1],s}function Xe(t){const e=v.c(12);let s,l,n;e[0]!==t?({withHandle:n,className:s,...l}=t,e[0]=t,e[1]=s,e[2]=l,e[3]=n):(s=e[1],l=e[2],n=e[3]);let r;e[4]!==s?(r=M("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",s),e[4]=s,e[5]=r):r=e[5];let i;e[6]!==n?(i=n&&a.jsx("div",{className:"bg-border border-primary/20 z-50 flex h-9 w-4 items-center justify-center rounded-xs border",children:a.jsx(hs,{className:"size-2.5"})}),e[6]=n,e[7]=i):i=e[7];let o;return e[8]!==l||e[9]!==r||e[10]!==i?(o=a.jsx(Ts,{"data-slot":"resizable-handle",className:r,...l,children:i}),e[8]=l,e[9]=r,e[10]=i,e[11]=o):o=e[11],o}function ql(t){const e=v.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let l;return e[2]!==s?(l=a.jsx(Bt,{"data-slot":"select",...s}),e[2]=s,e[3]=l):l=e[3],l}function Xl(t){const e=v.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let l;return e[2]!==s?(l=a.jsx(Ut,{"data-slot":"select-value",...s}),e[2]=s,e[3]=l):l=e[3],l}function Yl(t){const e=v.c(11);let s,l,n;e[0]!==t?({className:l,children:s,...n}=t,e[0]=t,e[1]=s,e[2]=l,e[3]=n):(s=e[1],l=e[2],n=e[3]);let r;e[4]!==l?(r=M("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive flex h-9 w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",l),e[4]=l,e[5]=r):r=e[5];let i;e[6]===Symbol.for("react.memo_cache_sentinel")?(i=a.jsx(Ht,{asChild:!0,children:a.jsx(Ue,{className:"size-4 opacity-50"})}),e[6]=i):i=e[6];let o;return e[7]!==s||e[8]!==n||e[9]!==r?(o=a.jsxs(Ft,{"data-slot":"select-trigger",className:r,...n,children:[s,i]}),e[7]=s,e[8]=n,e[9]=r,e[10]=o):o=e[10],o}function Jl(t){const e=v.c(20);let s,l,n,r;e[0]!==t?({className:l,children:s,position:r,...n}=t,e[0]=t,e[1]=s,e[2]=l,e[3]=n,e[4]=r):(s=e[1],l=e[2],n=e[3],r=e[4]);const i=r===void 0?"popper":r,o=i==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1";let c;e[5]!==l||e[6]!==o?(c=M("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border shadow-md",o,l),e[5]=l,e[6]=o,e[7]=c):c=e[7];let m;e[8]===Symbol.for("react.memo_cache_sentinel")?(m=a.jsx(ea,{}),e[8]=m):m=e[8];const d=i==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1";let h;e[9]!==d?(h=M("p-1",d),e[9]=d,e[10]=h):h=e[10];let u;e[11]!==s||e[12]!==h?(u=a.jsx(kt,{className:h,children:s}),e[11]=s,e[12]=h,e[13]=u):u=e[13];let f;e[14]===Symbol.for("react.memo_cache_sentinel")?(f=a.jsx(ta,{}),e[14]=f):f=e[14];let p;return e[15]!==i||e[16]!==n||e[17]!==c||e[18]!==u?(p=a.jsx($t,{children:a.jsxs(Dt,{"data-slot":"select-content",className:c,position:i,...n,children:[m,u,f]})}),e[15]=i,e[16]=n,e[17]=c,e[18]=u,e[19]=p):p=e[19],p}function Zl(t){const e=v.c(13);let s,l,n;e[0]!==t?({className:l,children:s,...n}=t,e[0]=t,e[1]=s,e[2]=l,e[3]=n):(s=e[1],l=e[2],n=e[3]);let r;e[4]!==l?(r=M("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",l),e[4]=l,e[5]=r):r=e[5];let i;e[6]===Symbol.for("react.memo_cache_sentinel")?(i=a.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:a.jsx(At,{children:a.jsx(xs,{className:"size-4"})})}),e[6]=i):i=e[6];let o;e[7]!==s?(o=a.jsx(Pt,{children:s}),e[7]=s,e[8]=o):o=e[8];let c;return e[9]!==n||e[10]!==r||e[11]!==o?(c=a.jsxs(Rt,{"data-slot":"select-item",className:r,...n,children:[i,o]}),e[9]=n,e[10]=r,e[11]=o,e[12]=c):c=e[12],c}const ea=function(e){const s=v.c(9);let l,n;s[0]!==e?({className:l,...n}=e,s[0]=e,s[1]=l,s[2]=n):(l=s[1],n=s[2]);let r;s[3]!==l?(r=M("flex cursor-default items-center justify-center py-1",l),s[3]=l,s[4]=r):r=s[4];let i;s[5]===Symbol.for("react.memo_cache_sentinel")?(i=a.jsx(ps,{className:"size-4"}),s[5]=i):i=s[5];let o;return s[6]!==n||s[7]!==r?(o=a.jsx(Ot,{"data-slot":"select-scroll-up-button",className:r,...n,children:i}),s[6]=n,s[7]=r,s[8]=o):o=s[8],o};function ta(t){const e=v.c(9);let s,l;e[0]!==t?({className:s,...l}=t,e[0]=t,e[1]=s,e[2]=l):(s=e[1],l=e[2]);let n;e[3]!==s?(n=M("flex cursor-default items-center justify-center py-1",s),e[3]=s,e[4]=n):n=e[4];let r;e[5]===Symbol.for("react.memo_cache_sentinel")?(r=a.jsx(Ue,{className:"size-4"}),e[5]=r):r=e[5];let i;return e[6]!==l||e[7]!==n?(i=a.jsx(Mt,{"data-slot":"select-scroll-down-button",className:n,...l,children:r}),e[6]=l,e[7]=n,e[8]=i):i=e[8],i}const sa=()=>{const t=v.c(7),{handleTableChange:e}=le(),s=N(la),n=N(aa)||void 0;let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=a.jsx(Yl,{className:"border-primary/20 h-8 w-30 border text-sm sm:w-48",children:a.jsx(Xl,{placeholder:"Select Table"})}),t[0]=r):r=t[0];let i;t[1]!==s?(i=a.jsx(Jl,{children:Object.keys(s).map(na)}),t[1]=s,t[2]=i):i=t[2];let o;return t[3]!==e||t[4]!==n||t[5]!==i?(o=a.jsxs(ql,{onValueChange:e,value:n,children:[r,i]}),t[3]=e,t[4]=n,t[5]=i,t[6]=o):o=t[6],o};function la(t){return t.tablesSchema}function aa(t){return t.currentTable}function na(t){return a.jsx(Zl,{value:t,children:a.jsx(se,{className:"text-[0.8rem]! capitalize",children:t})},t)}function ra(t){const e=v.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let l;return e[2]!==s?(l=a.jsx(Gt,{"data-slot":"dropdown-menu",...s}),e[2]=s,e[3]=l):l=e[3],l}function ia(t){const e=v.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let l;return e[2]!==s?(l=a.jsx(Qt,{"data-slot":"dropdown-menu-trigger",...s}),e[2]=s,e[3]=l):l=e[3],l}function oa(t){const e=v.c(10);let s,l,n;e[0]!==t?({className:s,sideOffset:n,...l}=t,e[0]=t,e[1]=s,e[2]=l,e[3]=n):(s=e[1],l=e[2],n=e[3]);const r=n===void 0?4:n;let i;e[4]!==s?(i=M("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",s),e[4]=s,e[5]=i):i=e[5];let o;return e[6]!==l||e[7]!==r||e[8]!==i?(o=a.jsx(Wt,{children:a.jsx(Kt,{"data-slot":"dropdown-menu-content",sideOffset:r,className:i,...l})}),e[6]=l,e[7]=r,e[8]=i,e[9]=o):o=e[9],o}function je(t){const e=v.c(12);let s,l,n,r;e[0]!==t?({className:s,inset:l,variant:r,...n}=t,e[0]=t,e[1]=s,e[2]=l,e[3]=n,e[4]=r):(s=e[1],l=e[2],n=e[3],r=e[4]);const i=r===void 0?"default":r;let o;e[5]!==s?(o=M("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),e[5]=s,e[6]=o):o=e[6];let c;return e[7]!==l||e[8]!==n||e[9]!==o||e[10]!==i?(c=a.jsx(Vt,{"data-slot":"dropdown-menu-item","data-inset":l,"data-variant":i,className:o,...n}),e[7]=l,e[8]=n,e[9]=o,e[10]=i,e[11]=c):c=e[11],c}const ca=()=>{const t=v.c(33),{handleExport:e}=le(),{isInserting:s,handleInsert:l}=xe(),n=N(da),r=N(ma),i=N(ua),o=N(fa);let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=a.jsx(ia,{asChild:!0,children:a.jsxs(P,{variant:"outline",size:"sm",className:"h-8 text-xs",children:["Actions ",a.jsx(Ue,{className:"ml-1 h-3 w-3"})]})}),t[0]=c):c=t[0];let m;t[1]!==r?(m=()=>r(null),t[1]=r,t[2]=m):m=t[2];const d=n==null;let h;t[3]===Symbol.for("react.memo_cache_sentinel")?(h=a.jsx(Ze,{className:"mr-1 h-3 w-3"}),t[3]=h):h=t[3];let u;t[4]!==m||t[5]!==d?(u=a.jsx(je,{asChild:!0,children:a.jsxs(P,{variant:"ghost",size:"sm",className:"h-8 w-full justify-start text-xs",onClick:m,disabled:d,title:"Clear applied filters",children:[h,"Clear filters"]})}),t[4]=m,t[5]=d,t[6]=u):u=t[6];let f;t[7]!==o?(f=()=>o(null),t[7]=o,t[8]=f):f=t[8];const p=i==null;let g;t[9]===Symbol.for("react.memo_cache_sentinel")?(g=a.jsx(dt,{className:"mr-1 h-3 w-3"}),t[9]=g):g=t[9];let x;t[10]!==f||t[11]!==p?(x=a.jsx(je,{asChild:!0,children:a.jsxs(P,{variant:"ghost",size:"sm",className:"h-8 w-full justify-start text-xs",onClick:f,disabled:p,title:"Reset sorting",children:[g,"Reset sorting"]})}),t[10]=f,t[11]=p,t[12]=x):x=t[12];let b;t[13]===Symbol.for("react.memo_cache_sentinel")?(b=a.jsx(Oe,{className:"mr-1 h-3 w-3"}),t[13]=b):b=t[13];let j;t[14]!==l||t[15]!==s?(j=a.jsx(je,{asChild:!0,children:a.jsxs(P,{variant:"ghost",size:"sm",className:"h-8 w-full justify-start text-xs",onClick:l,disabled:s,title:"Insert a new row",children:[b,"Insert row"]})}),t[14]=l,t[15]=s,t[16]=j):j=t[16];let w;t[17]!==e?(w=()=>e("table"),t[17]=e,t[18]=w):w=t[18];let S;t[19]===Symbol.for("react.memo_cache_sentinel")?(S=a.jsx(Me,{className:"mr-1 h-3 w-3"}),t[19]=S):S=t[19];let y;t[20]!==w?(y=a.jsx(je,{asChild:!0,children:a.jsxs(P,{variant:"ghost",size:"sm",className:"h-8 w-full justify-start text-xs",onClick:w,title:"Export the current table as CSV",children:[S,"Export table"]})}),t[20]=w,t[21]=y):y=t[21];let _;t[22]!==e?(_=()=>e("current"),t[22]=e,t[23]=_):_=t[23];let L;t[24]===Symbol.for("react.memo_cache_sentinel")?(L=a.jsx(Me,{className:"mr-1 h-3 w-3"}),t[24]=L):L=t[24];let E;t[25]!==_?(E=a.jsx(je,{asChild:!0,children:a.jsxs(P,{variant:"ghost",size:"sm",className:"h-8 w-full justify-start text-xs",onClick:_,title:"Export the current data as CSV",children:[L,"Export data"]})}),t[25]=_,t[26]=E):E=t[26];let T;return t[27]!==j||t[28]!==y||t[29]!==E||t[30]!==u||t[31]!==x?(T=a.jsxs(ra,{children:[c,a.jsxs(oa,{className:"w-40",children:[u,x,j,y,E]})]}),t[27]=j,t[28]=y,t[29]=E,t[30]=u,t[31]=x,t[32]=T):T=t[32],T};function da(t){return t.filters}function ma(t){return t.setFilters}function ua(t){return t.sorters}function fa(t){return t.setSorters}function ha(t){const e=v.c(8);let s,l;e[0]!==t?({className:s,...l}=t,e[0]=t,e[1]=s,e[2]=l):(s=e[1],l=e[2]);let n;e[3]!==s?(n=M("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),e[3]=s,e[4]=n):n=e[4];let r;return e[5]!==l||e[6]!==n?(r=a.jsx("textarea",{"data-slot":"textarea",className:n,...l}),e[5]=l,e[6]=n,e[7]=r):r=e[7],r}const xa=()=>{var Y;const t=v.c(50),{handleEditSubmit:e}=le(),{selectedRowObject:s,isInserting:l,handleCloseEdit:n}=xe(),r=ee(pa),i=ee(ba),o=N(ga),c=N(ja),m=N(Na);let d,h;t[0]!==m||t[1]!==l||t[2]!==s||t[3]!==i?(d=()=>{l?i((m==null?void 0:m.map(va))||[]):s&&i(s.data.map(ya))},h=[l,s,m,i],t[0]=m,t[1]=l,t[2]=s,t[3]=i,t[4]=d,t[5]=h):(d=t[4],h=t[5]),C.useEffect(d,h);let u;t[6]!==i?(u=(U,Q)=>{const G=ee.getState().editValues;i(G.map((q,V)=>V===U?Q:q))},t[6]=i,t[7]=u):u=t[7];const f=u;let p;e:{if(!m||!c||!o[c]){p=null;break e}const U=(Y=o[c])==null?void 0:Y.schema;let Q;if(t[8]!==m||t[9]!==c||t[10]!==r||t[11]!==f||t[12]!==U||t[13]!==o){let G;t[15]!==c||t[16]!==r||t[17]!==f||t[18]!==U||t[19]!==o?(G=(q,V)=>{var ne,pe,re,Ne,ie,be,oe;return a.jsxs("div",{children:[a.jsx("label",{htmlFor:q,className:"bg-primary/5 flex items-center gap-1 rounded-sm p-2",children:a.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(st,{columnSchema:U[V]}),a.jsx(se,{className:"text-xs font-medium capitalize",children:q})]}),a.jsx("span",{className:"text-primary/50 text-xs",children:U[V].IsNullable&&"Nullable"})]})}),bt(((ne=U[V])==null?void 0:ne.type)||"")?a.jsx(ha,{id:q,name:q,className:"border-primary/20 rounded-none text-sm text-[0.8rem]!",value:r[V]||"",onChange:ce=>f(V,ce.target.value),placeholder:((re=(pe=o[c])==null?void 0:pe.schema[V])==null?void 0:re.dflt_value)||"Null"}):a.jsx(Be,{id:q,name:q,type:gt(((Ne=U[V])==null?void 0:Ne.type)||"")?"number":pt(((ie=U[V])==null?void 0:ie.type)||"")?"date":"text",className:"border-primary/20 h-8 rounded-none text-sm text-[0.8rem]!",value:r[V]||"",onChange:ce=>f(V,ce.target.value),placeholder:((oe=(be=o[c])==null?void 0:be.schema[V])==null?void 0:oe.dflt_value)||"Null"})]},q)},t[15]=c,t[16]=r,t[17]=f,t[18]=U,t[19]=o,t[20]=G):G=t[20],Q=m.map(G),t[8]=m,t[9]=c,t[10]=r,t[11]=f,t[12]=U,t[13]=o,t[14]=Q}else Q=t[14];p=Q}const g=p;let x,b;t[21]!==e||t[22]!==l?(b=()=>e(l?"insert":"update"),t[21]=e,t[22]=l,t[23]=b):b=t[23];const j=l?"Insert row":"Apply changes";let w;t[24]!==l?(w=l?a.jsxs(a.Fragment,{children:[a.jsx(Oe,{className:"mr-1 h-3 w-3"}),"Insert row"]}):a.jsxs(a.Fragment,{children:[a.jsx(nt,{className:"mr-1 h-3 w-3"}),"Apply changes"]}),t[24]=l,t[25]=w):w=t[25];let S;t[26]!==b||t[27]!==j||t[28]!==w?(S=a.jsx(P,{size:"sm",variant:"outline",className:"w-full text-xs",onClick:b,"aria-label":j,children:w}),t[26]=b,t[27]=j,t[28]=w,t[29]=S):S=t[29];let y;t[30]!==e||t[31]!==l?(y=!l&&a.jsx(P,{size:"sm",variant:"destructive",className:"rounded-none text-xs",onClick:()=>e("delete"),"aria-label":"Delete row",children:a.jsx(bs,{className:"h-2 w-2"})}),t[30]=e,t[31]=l,t[32]=y):y=t[32];let _;t[33]!==S||t[34]!==y?(_=a.jsxs("div",{className:"flex w-full",children:[S,y]}),t[33]=S,t[34]=y,t[35]=_):_=t[35],x=_;const L=x;let E,T;t[36]!==l?(T=a.jsx("div",{className:"flex items-center gap-1",children:l?a.jsxs(a.Fragment,{children:[a.jsx(Oe,{className:"h-4 w-4"}),a.jsx(se,{className:"whitespace-nowrap",children:"Inserting row"})]}):a.jsxs(a.Fragment,{children:[a.jsx(nt,{className:"h-4 w-4"}),a.jsx(se,{className:"whitespace-nowrap",children:"Updating row"})]})}),t[36]=l,t[37]=T):T=t[37];let $;t[38]===Symbol.for("react.memo_cache_sentinel")?($=a.jsx(mt,{className:"h-3 w-3"}),t[38]=$):$=t[38];let D;t[39]!==n?(D=a.jsx(P,{size:"sm",variant:"outline",className:"text-xs",onClick:n,title:"Go back to data","aria-label":"Go back to data",children:$}),t[39]=n,t[40]=D):D=t[40];let z;t[41]!==T||t[42]!==D?(z=a.jsxs("div",{className:"bg-primary/5 flex w-full items-center justify-between gap-1 border-b p-2 text-sm",children:[T,D]}),t[41]=T,t[42]=D,t[43]=z):z=t[43],E=z;const O=E;let F;t[44]!==g||t[45]!==O?(F=a.jsxs("div",{className:"overflow-auto",children:[O,g]}),t[44]=g,t[45]=O,t[46]=F):F=t[46];let B;return t[47]!==L||t[48]!==F?(B=a.jsx("section",{className:"h-full overflow-auto",children:a.jsxs("div",{className:"flex h-full w-full flex-col",children:[F,L]})}),t[47]=L,t[48]=F,t[49]=B):B=t[49],B};function pa(t){return t.editValues}function ba(t){return t.setEditValues}function ga(t){return t.tablesSchema}function ja(t){return t.currentTable}function Na(t){return t.columns}function va(){return""}function ya(t){return(t==null?void 0:t.toString())??""}const vt=function(e){const s=v.c(8);let l,n;s[0]!==e?({className:l,...n}=e,s[0]=e,s[1]=l,s[2]=n):(l=s[1],n=s[2]);let r;s[3]!==l?(r=M("w-full caption-bottom text-sm",l),s[3]=l,s[4]=r):r=s[4];let i;return s[5]!==n||s[6]!==r?(i=a.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:a.jsx("table",{"data-slot":"table",className:r,...n})}),s[5]=n,s[6]=r,s[7]=i):i=s[7],i},yt=function(e){const s=v.c(8);let l,n;s[0]!==e?({className:l,...n}=e,s[0]=e,s[1]=l,s[2]=n):(l=s[1],n=s[2]);let r;s[3]!==l?(r=M("[&_tr]:border-b",l),s[3]=l,s[4]=r):r=s[4];let i;return s[5]!==n||s[6]!==r?(i=a.jsx("thead",{"data-slot":"table-header",id:"tableHeader",className:r,...n}),s[5]=n,s[6]=r,s[7]=i):i=s[7],i},wt=function(e){const s=v.c(8);let l,n;s[0]!==e?({className:l,...n}=e,s[0]=e,s[1]=l,s[2]=n):(l=s[1],n=s[2]);let r;s[3]!==l?(r=M("[&_tr:last-child]:border-0",l),s[3]=l,s[4]=r):r=s[4];let i;return s[5]!==n||s[6]!==r?(i=a.jsx("tbody",{"data-slot":"table-body",className:r,...n}),s[5]=n,s[6]=r,s[7]=i):i=s[7],i},he=function(e){const s=v.c(8);let l,n;s[0]!==e?({className:l,...n}=e,s[0]=e,s[1]=l,s[2]=n):(l=s[1],n=s[2]);let r;s[3]!==l?(r=M("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",l),s[3]=l,s[4]=r):r=s[4];let i;return s[5]!==n||s[6]!==r?(i=a.jsx("tr",{"data-slot":"table-row",className:r,...n}),s[5]=n,s[6]=r,s[7]=i):i=s[7],i},Ye=function(e){const s=v.c(8);let l,n;s[0]!==e?({className:l,...n}=e,s[0]=e,s[1]=l,s[2]=n):(l=s[1],n=s[2]);let r;s[3]!==l?(r=M("text-muted-foreground min-h-6 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",l),s[3]=l,s[4]=r):r=s[4];let i;return s[5]!==n||s[6]!==r?(i=a.jsx("th",{"data-slot":"table-head",className:r,...n}),s[5]=n,s[6]=r,s[7]=i):i=s[7],i},Fe=function(e){const s=v.c(8);let l,n;s[0]!==e?({className:l,...n}=e,s[0]=e,s[1]=l,s[2]=n):(l=s[1],n=s[2]);let r;s[3]!==l?(r=M("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",l),s[3]=l,s[4]=r):r=s[4];let i;return s[5]!==n||s[6]!==r?(i=a.jsx("td",{"data-slot":"table-cell",id:"tableCell",className:r,...n}),s[5]=n,s[6]=r,s[7]=i):i=s[7],i},wa=t=>{const e=v.c(6),{column:s,value:l,onChange:n}=t;let r;e[0]!==s||e[1]!==n?(r=c=>n(s,c.target.value),e[0]=s,e[1]=n,e[2]=r):r=e[2];const i=r;let o;return e[3]!==i||e[4]!==l?(o=a.jsx(Be,{type:"text",className:"border-primary/20 max-h-6 w-full rounded px-2 py-1 text-[0.8rem]!",value:l,onChange:i,placeholder:"Filter"}),e[3]=i,e[4]=l,e[5]=o):o=e[5],o},Sa=C.memo(gs),Ca=C.memo(js),_a=C.memo(Ns),Ta=C.memo(t=>{const e=v.c(4),{column:s}=t,l=N(Ea),{handleQuerySorter:n}=le();let r;return e[0]!==s||e[1]!==n||e[2]!==l?(r=a.jsx(a.Fragment,{children:l!=null&&l[s]?l[s]==="asc"?a.jsx("button",{title:"Sort column in descending order",type:"button","aria-label":"Sort Descending",onClick:()=>n(s),children:a.jsx(_a,{className:"h-3 w-3"})}):a.jsx("button",{title:"Sort column in ascending order",type:"button","aria-label":"Sort Ascending",onClick:()=>n(s),children:a.jsx(Ca,{className:"h-3 w-3"})}):a.jsx("button",{title:"Sort column in ascending order",type:"button","aria-label":"Sort Column",onClick:()=>n(s),children:a.jsx(Sa,{className:"h-3 w-3"})})}),e[0]=s,e[1]=n,e[2]=l,e[3]=r):r=e[3],r});function Ea(t){return t.sorters}const Ia=()=>{const t=v.c(31),e=N(La),s=N(za),l=N($a),n=N(Da),r=N(Ra),i=N(ka),{handleQueryFilter:o}=le(),{handleRowClick:c}=xe();let m,d;t[0]!==r||t[1]!==i?(d=a.jsx("div",{className:"flex h-full flex-col items-center justify-center gap-1 px-4",children:r?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-md font-medium",children:"No Data To Show For Current Filters"}),a.jsxs(P,{size:"sm",variant:"outline",className:"text-xs",onClick:()=>i(null),children:[a.jsx(Ze,{className:"mr-1 h-3 w-3"}),"Clear filters"]})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-md font-medium",children:"No Data To Show"}),a.jsx("p",{className:"text-sm",children:"This table does not have any data to display"})]})}),t[0]=r,t[1]=i,t[2]=d):d=t[2],m=d;const h=m;let u,f;t[3]!==s?(f=s||[],t[3]=s,t[4]=f):f=t[4];let p;if(t[5]!==r||t[6]!==o||t[7]!==f){let y;t[9]!==r||t[10]!==o?(y=_=>a.jsx(wa,{column:_,value:(r==null?void 0:r[_])||"",onChange:o},_),t[9]=r,t[10]=o,t[11]=y):y=t[11],p=f.map(y),t[5]=r,t[6]=o,t[7]=f,t[8]=p}else p=t[8];u=p;const g=u;let x;t[12]!==s||t[13]!==l||t[14]!==g||t[15]!==n?(x=s&&l?s.map((y,_)=>a.jsxs(Ye,{className:"p-1 text-xs",children:[a.jsxs("div",{className:"flex items-center gap-1 py-[1.5px]",children:[a.jsx(Ta,{column:y}),a.jsx(se,{className:"text-foreground font-medium capitalize",children:y}),a.jsx(st,{columnSchema:n[l].schema[_]})]}),g==null?void 0:g[_]]},y)):a.jsx(Ye,{children:a.jsx("p",{className:"text-xs",children:"No columns found"})}),t[12]=s,t[13]=l,t[14]=g,t[15]=n,t[16]=x):x=t[16];let b;t[17]!==x?(b=a.jsx(yt,{children:a.jsx(he,{className:"bg-primary/5",children:x})}),t[17]=x,t[18]=b):b=t[18];let j;t[19]!==(s==null?void 0:s.length)||t[20]!==l||t[21]!==e||t[22]!==h||t[23]!==c||t[24]!==n?(j=e&&e.length>0?e.map((y,_)=>{const L=y.slice(1);return a.jsx(he,{onClick:()=>c(L,_,y[0]),className:"hover:bg-primary/5 focus:bg-primary/5 cursor-pointer text-xs",children:L.map((E,T)=>{var $;return a.jsx(Fe,{className:"p-2",children:E?a.jsx(a.Fragment,{children:(($=n[l].schema[T])==null?void 0:$.type)==="BLOB"?a.jsx("span",{className:"text-muted-foreground italic",children:"BLOB"}):a.jsx(se,{children:E})}):a.jsx("span",{className:"text-muted-foreground italic",children:E===null?"NULL":JSON.stringify(E)})},T)})},_)}):a.jsx(he,{children:a.jsx(Fe,{colSpan:(s==null?void 0:s.length)||1,className:"h-32 text-center",children:h})}),t[19]=s==null?void 0:s.length,t[20]=l,t[21]=e,t[22]=h,t[23]=c,t[24]=n,t[25]=j):j=t[25];let w;t[26]!==j?(w=a.jsx(wt,{children:j}),t[26]=j,t[27]=w):w=t[27];let S;return t[28]!==b||t[29]!==w?(S=a.jsxs(vt,{children:[b,w]}),t[28]=b,t[29]=w,t[30]=S):S=t[30],S};function La(t){return t.data}function za(t){return t.columns}function $a(t){return t.currentTable}function Da(t){return t.tablesSchema}function Ra(t){return t.filters}function ka(t){return t.setFilters}const Aa=()=>{const t=v.c(49),{handlePageChange:e,handleExport:s}=le(),{isInserting:l,handleInsert:n}=xe(),r=N(Pa),i=N(Oa),o=N(Ma),c=N(Fa);let m;t[0]!==e?(m=()=>e("first"),t[0]=e,t[1]=m):m=t[1];const d=r===0||c;let h;t[2]===Symbol.for("react.memo_cache_sentinel")?(h=a.jsx(vs,{className:"h-4 w-4"}),t[2]=h):h=t[2];let u;t[3]!==m||t[4]!==d?(u=a.jsx(P,{onClick:m,disabled:d,size:"icon",variant:"outline",className:"h-7 w-7",title:"Go to the first data",children:h}),t[3]=m,t[4]=d,t[5]=u):u=t[5];let f;t[6]!==e?(f=()=>e("prev"),t[6]=e,t[7]=f):f=t[7];const p=r===0||c;let g;t[8]===Symbol.for("react.memo_cache_sentinel")?(g=a.jsx(mt,{className:"h-4 w-4"}),t[8]=g):g=t[8];let x;t[9]!==f||t[10]!==p?(x=a.jsx(P,{onClick:f,disabled:p,size:"icon",variant:"outline",className:"h-7 w-7",title:"Go to the previous data",children:g}),t[9]=f,t[10]=p,t[11]=x):x=t[11];const b=r+1,j=r+i>o?o:r+i;let w;t[12]!==o||t[13]!==b||t[14]!==j?(w=a.jsxs("span",{className:"px-2 text-xs whitespace-nowrap",children:[b," -> ",j," of ",o]}),t[12]=o,t[13]=b,t[14]=j,t[15]=w):w=t[15];let S;t[16]!==e?(S=()=>e("next"),t[16]=e,t[17]=S):S=t[17];const y=r+i>=o||c;let _;t[18]===Symbol.for("react.memo_cache_sentinel")?(_=a.jsx(ot,{className:"h-4 w-4"}),t[18]=_):_=t[18];let L;t[19]!==S||t[20]!==y?(L=a.jsx(P,{onClick:S,disabled:y,size:"icon",variant:"outline",className:"h-7 w-7",title:"Go to the next data",children:_}),t[19]=S,t[20]=y,t[21]=L):L=t[21];let E;t[22]!==e?(E=()=>e("last"),t[22]=e,t[23]=E):E=t[23];const T=r+i>=o||c;let $;t[24]===Symbol.for("react.memo_cache_sentinel")?($=a.jsx(ys,{className:"h-4 w-4"}),t[24]=$):$=t[24];let D;t[25]!==E||t[26]!==T?(D=a.jsx(P,{onClick:E,disabled:T,size:"icon",variant:"outline",className:"h-7 w-7",title:"Go to the last data",children:$}),t[25]=E,t[26]=T,t[27]=D):D=t[27];let z;t[28]!==w||t[29]!==L||t[30]!==D||t[31]!==u||t[32]!==x?(z=a.jsxs("section",{className:"bg-primary/10 flex grow items-center gap-1 p-2",children:[u,x,w,L,D]}),t[28]=w,t[29]=L,t[30]=D,t[31]=u,t[32]=x,t[33]=z):z=t[33];let O;t[34]===Symbol.for("react.memo_cache_sentinel")?(O=a.jsx(Oe,{className:"mr-1 h-3 w-3"}),t[34]=O):O=t[34];let F;t[35]!==n||t[36]!==l?(F=a.jsxs(P,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:n,disabled:l,children:[O,"Insert row"]}),t[35]=n,t[36]=l,t[37]=F):F=t[37];let B;t[38]!==s?(B=()=>s("current"),t[38]=s,t[39]=B):B=t[39];let Y;t[40]===Symbol.for("react.memo_cache_sentinel")?(Y=a.jsx(Me,{className:"mr-1 h-3 w-3"}),t[40]=Y):Y=t[40];let U;t[41]!==B?(U=a.jsxs(P,{onClick:B,size:"sm",variant:"outline",className:"h-7 text-xs",title:"Export current data as CSV",children:[Y,"Export data"]}),t[41]=B,t[42]=U):U=t[42];let Q;t[43]!==F||t[44]!==U?(Q=a.jsxs("section",{className:"bg-primary/10 hidden items-center gap-1 p-2 md:flex",children:[F,U]}),t[43]=F,t[44]=U,t[45]=Q):Q=t[45];let G;return t[46]!==z||t[47]!==Q?(G=a.jsxs("footer",{className:"bg-background flex w-full items-center justify-between border-t",id:"paginationControls",children:[z,Q]}),t[46]=z,t[47]=Q,t[48]=G):G=t[48],G};function Pa(t){return t.offset}function Oa(t){return t.limit}function Ma(t){return t.maxSize}function Fa(t){return t.isDataLoading}const Ua=()=>{const t=v.c(35),e=N(Ha),s=N(Qa),l=N(Va),n=N(Ga),r=N(Wa),i=N(Ka),o=ee(qa),c=ee(Xa),m=ee(Ya),d=ee(Ja),{handleExport:h}=le(),{isEditing:u}=xe();let f;t[0]!==e||t[1]!==h||t[2]!==l||t[3]!==n||t[4]!==s?(f=()=>a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"hidden items-center gap-1 md:flex",children:[a.jsxs(P,{size:"sm",variant:"outline",className:"h-8 text-xs",onClick:()=>l(null),disabled:e==null,title:"Clear applied filters",children:[a.jsx(Ze,{className:"mr-1 h-3 w-3"}),"Clear filters"]}),a.jsxs(P,{size:"sm",variant:"outline",className:"h-8 text-xs",onClick:()=>n(null),disabled:s==null,title:"Reset sorting",children:[a.jsx(dt,{className:"mr-1 h-3 w-3"}),"Reset sorting"]}),a.jsxs(P,{size:"sm",variant:"outline",className:"h-8 text-xs",onClick:()=>h("table"),title:"Export the current table as CSV",children:[a.jsx(Me,{className:"mr-1 h-3 w-3"}),"Export table"]})]}),a.jsx("div",{className:"md:hidden",children:a.jsx(ca,{})})]}),t[0]=e,t[1]=h,t[2]=l,t[3]=n,t[4]=s,t[5]=f):f=t[5];const p=f;let g;t[6]===Symbol.for("react.memo_cache_sentinel")?(g=a.jsx(sa,{}),t[6]=g):g=t[6];let x;t[7]!==p?(x=a.jsx(p,{}),t[7]=p,t[8]=x):x=t[8];let b;t[9]!==r||t[10]!==i?(b=(r||i)&&a.jsx(Ba,{text:"Loading data"}),t[9]=r,t[10]=i,t[11]=b):b=t[11];let j;t[12]!==x||t[13]!==b?(j=a.jsxs("div",{className:"flex items-center gap-1 border-b px-1 py-2",children:[g,x,b]}),t[12]=x,t[13]=b,t[14]=j):j=t[14];let w;t[15]===Symbol.for("react.memo_cache_sentinel")?(w=a.jsxs("div",{className:"flex h-full flex-col justify-between border-l",id:"dataSection",children:[a.jsx(Ia,{}),a.jsx(Aa,{})]}),t[15]=w):w=t[15];let S;t[16]!==o||t[17]!==m?(S=a.jsx(fe,{id:"dataPanel",defaultSize:o,onResize:m,children:w}),t[16]=o,t[17]=m,t[18]=S):S=t[18];let y;t[19]===Symbol.for("react.memo_cache_sentinel")?(y=a.jsx(Xe,{className:"hidden md:flex",withHandle:!0}),t[19]=y):y=t[19];const _=`static md:relative md:block ${u?"block":"hidden"}`;let L;t[20]===Symbol.for("react.memo_cache_sentinel")?(L=a.jsx("div",{className:"h-full overflow-hidden",children:a.jsx("div",{className:"h-full overflow-y-auto",children:a.jsx(lt,{})})}),t[20]=L):L=t[20];const E=`bg-background absolute top-0 right-0 z-40 h-full w-full ${u?"block":"hidden"}`;let T;t[21]===Symbol.for("react.memo_cache_sentinel")?(T=a.jsx("section",{className:"bg-primary/5 h-full",children:a.jsx(xa,{})}),t[21]=T):T=t[21];let $;t[22]!==E?($=a.jsx("div",{className:E,children:T}),t[22]=E,t[23]=$):$=t[23];let D;t[24]!==c||t[25]!==d||t[26]!==$||t[27]!==_?(D=a.jsxs(fe,{id:"schemaPanel",defaultSize:c,onResize:d,className:_,children:[L,$]}),t[24]=c,t[25]=d,t[26]=$,t[27]=_,t[28]=D):D=t[28];let z;t[29]!==D||t[30]!==S?(z=a.jsx("div",{className:"relative h-full overflow-hidden",children:a.jsxs(qe,{direction:"horizontal",className:"h-full",children:[S,y,D]})}),t[29]=D,t[30]=S,t[31]=z):z=t[31];let O;return t[32]!==z||t[33]!==j?(O=a.jsxs("div",{className:"flex h-full flex-col",children:[j,z]}),t[32]=z,t[33]=j,t[34]=O):O=t[34],O},Ba=t=>{const e=v.c(3),{text:s}=t;let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=a.jsx(et,{className:"mr-1 h-3 w-3 animate-spin"}),e[0]=l):l=e[0];let n;return e[1]!==s?(n=a.jsxs("span",{className:"ml-2 flex items-center text-xs text-gray-500",children:[l,s]}),e[1]=s,e[2]=n):n=e[2],n};function Ha(t){return t.filters}function Qa(t){return t.sorters}function Va(t){return t.setFilters}function Ga(t){return t.setSorters}function Wa(t){return t.isDataLoading}function Ka(t){return t.isDatabaseLoading}function qa(t){return t.dataPanelSize}function Xa(t){return t.schemaPanelSize}function Ya(t){return t.setDataPanelSize}function Ja(t){return t.setSchemaPanelSize}const Za=["ABORT","ACTION","ADD","AFTER","ALL","ALTER","ANALYZE","AND","AS","ASC","ATTACH","AUTOINCREMENT","BEFORE","BEGIN","BETWEEN","BY","CASCADE","CASE","CAST","CHECK","COLLATE","COLUMN","COMMIT","CONFLICT","CONSTRAINT","CREATE","CROSS","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATABASE","DEFAULT","DEFERRABLE","DEFERRED","DELETE","DESC","DETACH","DISTINCT","DROP","EACH","ELSE","END","ESCAPE","EXCEPT","EXCLUSIVE","EXISTS","EXPLAIN","FAIL","FOR","FOREIGN","FROM","FULL","GLOB","GROUP","HAVING","IF","IGNORE","IMMEDIATE","IN","INDEX","INDEXED","INITIALLY","INNER","INSERT","INSTEAD","INTERSECT","INTO","IS","ISNULL","JOIN","KEY","LEFT","LIKE","LIMIT","MATCH","NATURAL","NO","NOT","NOTNULL","NULL","OF","OFFSET","ON","OR","ORDER","OUTER","PLAN","PRAGMA","PRIMARY","QUERY","RAISE","RECURSIVE","REFERENCES","REGEXP","REINDEX","RELEASE","RENAME","REPLACE","RESTRICT","RIGHT","ROLLBACK","ROW","SAVEPOINT","SELECT","SET","TABLE","TEMP","TEMPORARY","THEN","TO","TRANSACTION","TRIGGER","UNION","UNIQUE","UPDATE","USING","VACUUM","VALUES","VIEW","VIRTUAL","WHEN","WHERE","WITH","WITHOUT"],en=["ABS","ACOS","ASIN","ATAN","CEIL","COS","EXP","FLOOR","HEX","LENGTH","LOG","LOWER","LTRIM","OCT","PI","POW","ROUND","SIGN","SIN","SQRT","TAN","TRIM","UPPER"];function tn(){const{theme:t}=ft(),e=N(d=>d.customQuery),s=N(d=>d.setCustomQuery),l=N(d=>d.tablesSchema),{tableNames:n,columnNames:r}=C.useMemo(()=>{const d=Object.keys(l),h=d.flatMap(u=>l[u].schema.map(f=>f.name));return{tableNames:d,columnNames:h}},[l]),i=C.useMemo(()=>[...Za.map(d=>({label:d,type:"keyword"})),...en.map(d=>({label:d,type:"function"})),...n.map(d=>({label:d,type:"table"})),...r.map(d=>({label:d,type:"column"}))],[n,r]),o=C.useCallback(d=>{const h=d.matchBefore(/\w*/);return!h||h.from===h.to&&!d.explicit?null:{from:h.from,to:h.to,options:i}},[i]),c=C.useCallback(d=>{d!==e&&s(d)},[e,s]),m=C.useMemo(()=>[zs,$s(),Ds({override:[o]})],[o]);return a.jsx(Is,{value:e,height:"100%",extensions:m,onChange:c,className:"h-full w-full",theme:t==="dark"?Ls:"light"})}const sn=()=>{const t=v.c(2),e=N(ln);let s;return t[0]!==e?(s=a.jsx(a.Fragment,{children:e?a.jsxs(vt,{children:[a.jsx(yt,{children:a.jsx(he,{className:"bg-primary/5",children:e.columns.map(an)})}),a.jsx(wt,{children:e.data&&e.data.length>0?e.data.map(rn):a.jsx(he,{children:a.jsx(Fe,{colSpan:e.columns.length||1,className:"h-32 text-center",children:a.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-1 px-4",children:[a.jsx("p",{className:"text-md whitespace-nowrap",children:"No Data To Show"}),a.jsx("p",{className:"text-sm whitespace-nowrap",children:"Seems like there is no data to display"})]})})})})]}):a.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-1 px-4",children:[a.jsx("p",{className:"text-md whitespace-nowrap",children:"No Data To Show"}),a.jsx("p",{className:"text-sm whitespace-nowrap",children:"Execute a query to view data"})]})}),t[0]=e,t[1]=s):s=t[1],s};function ln(t){return t.customQueryObject}function an(t){return a.jsx(Ye,{className:"p-1 text-xs",children:a.jsx("div",{className:"flex items-center gap-1",children:a.jsx(se,{className:"text-foreground font-medium capitalize",children:t})})},t)}function nn(t,e){return a.jsx(Fe,{className:"p-2",children:t?a.jsx(se,{children:t}):a.jsx("span",{className:"text-muted-foreground italic",children:"NULL"})},e)}function rn(t,e){return a.jsx(he,{className:"hover:bg-primary/5 text-xs",children:t.map(nn)},e)}const on=()=>{const t=v.c(36),e=N(cn),s=N(dn),l=N(mn),n=N(un),r=ee(fn),i=ee(hn),o=ee(xn),c=ee(pn),{handleQueryExecute:m}=le();let d;t[0]!==s?(d=()=>{s(null)},t[0]=s,t[1]=d):d=t[1];const h=d;let u;t[2]===Symbol.for("react.memo_cache_sentinel")?(u=a.jsx(ws,{className:"mr-1 h-3 w-3"}),t[2]=u):u=t[2];let f;t[3]!==m?(f=a.jsxs(P,{size:"sm",variant:"outline",className:"w-[150px] text-xs",onClick:m,title:"Execute SQL",children:[u,"Execute SQL"]}),t[3]=m,t[4]=f):f=t[4];let p;t[5]!==l||t[6]!==n?(p=(l||n)&&a.jsxs("span",{className:"ml-2 flex items-center text-xs text-gray-500",children:[a.jsx(et,{className:"mr-1 h-3 w-3 animate-spin"}),"Loading data"]}),t[5]=l,t[6]=n,t[7]=p):p=t[7];let g;t[8]!==f||t[9]!==p?(g=a.jsxs("div",{className:"flex items-center gap-1 border-b px-1 py-2",children:[f,p]}),t[8]=f,t[9]=p,t[10]=g):g=t[10];let x;t[11]!==e||t[12]!==h?(x=e&&a.jsxs("div",{className:"flex items-center justify-between p-2",children:[a.jsx("div",{className:"text-sm text-red-400",children:e}),a.jsx(P,{size:"sm",variant:"outline",className:"text-xs",onClick:h,children:a.jsx(Ss,{className:"h-3 w-3"})})]}),t[11]=e,t[12]=h,t[13]=x):x=t[13];let b;t[14]===Symbol.for("react.memo_cache_sentinel")?(b=a.jsx(tn,{}),t[14]=b):b=t[14];let j;t[15]!==x?(j=a.jsxs(fe,{defaultSize:25,children:[x,b]}),t[15]=x,t[16]=j):j=t[16];let w;t[17]===Symbol.for("react.memo_cache_sentinel")?(w=a.jsx(Xe,{withHandle:!0}),t[17]=w):w=t[17];let S;t[18]===Symbol.for("react.memo_cache_sentinel")?(S=a.jsx(fe,{defaultSize:75,children:a.jsx("div",{className:"flex h-full flex-col justify-between border",children:a.jsx(sn,{})})}),t[18]=S):S=t[18];let y;t[19]!==j?(y=a.jsxs(qe,{direction:"vertical",children:[j,w,S]}),t[19]=j,t[20]=y):y=t[20];let _;t[21]!==r||t[22]!==o||t[23]!==y?(_=a.jsx(fe,{defaultSize:r,onResize:o,children:y}),t[21]=r,t[22]=o,t[23]=y,t[24]=_):_=t[24];let L;t[25]===Symbol.for("react.memo_cache_sentinel")?(L=a.jsx(Xe,{className:"hidden md:flex",withHandle:!0}),t[25]=L):L=t[25];let E;t[26]===Symbol.for("react.memo_cache_sentinel")?(E=a.jsx("div",{className:"h-full overflow-hidden",children:a.jsx("div",{className:"h-full overflow-y-auto",children:a.jsx(lt,{})})}),t[26]=E):E=t[26];let T;t[27]!==i||t[28]!==c?(T=a.jsx(fe,{defaultSize:i,onResize:c,className:"hidden md:block",children:E}),t[27]=i,t[28]=c,t[29]=T):T=t[29];let $;t[30]!==_||t[31]!==T?($=a.jsx("div",{className:"h-full overflow-hidden",children:a.jsxs(qe,{direction:"horizontal",className:"h-full",children:[_,L,T]})}),t[30]=_,t[31]=T,t[32]=$):$=t[32];let D;return t[33]!==$||t[34]!==g?(D=a.jsxs("div",{className:"flex h-full flex-col",children:[g,$]}),t[33]=$,t[34]=g,t[35]=D):D=t[35],D};function cn(t){return t.errorMessage}function dn(t){return t.setErrorMessage}function mn(t){return t.isDataLoading}function un(t){return t.isDatabaseLoading}function fn(t){return t.dataPanelSize}function hn(t){return t.schemaPanelSize}function xn(t){return t.setDataPanelSize}function pn(t){return t.setSchemaPanelSize}function bn({children:t}){const{handleFileUpload:e}=le(),[s,l]=C.useState(!1),n=C.useCallback(o=>{o.preventDefault(),o.stopPropagation(),l(!0)},[]),r=C.useCallback(o=>{o.preventDefault(),o.stopPropagation(),l(!1)},[]),i=C.useCallback(o=>{var c;o.preventDefault(),o.stopPropagation(),l(!1);try{const m=(c=o.dataTransfer)==null?void 0:c.files;if(!m||m.length===0){H.error("No file detected");return}const d=m[0];e(d)}catch(m){const d=m instanceof Error?m.message:"Failed to process file";H.error(`Failed to process file: ${d}`)}},[e]);return C.useEffect(()=>(window.addEventListener("dragover",n),window.addEventListener("dragleave",r),window.addEventListener("drop",i),()=>{window.removeEventListener("dragover",n),window.removeEventListener("dragleave",r),window.removeEventListener("drop",i)}),[n,r,i]),a.jsxs(a.Fragment,{children:[t,s&&a.jsx("section",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:a.jsxs("div",{className:"border-primary bg-background flex h-64 w-96 flex-col items-center justify-center rounded border-2 border-dashed p-6",children:[a.jsx(Cs,{className:"text-primary mb-4 h-12 w-12"}),a.jsx("h3",{className:"text-xl font-medium",children:"Drop Database Here"})]})})]})}function gn(){const t=v.c(12),e=N(jn);let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=a.jsx(jl,{}),t[0]=s):s=t[0];let l;t[1]!==e?(l=a.jsxs(hl,{className:"bg-primary/5 mt-2 h-9 w-full justify-start rounded-none border-b",children:[a.jsx(We,{id:"structure",disabled:e,value:"structure",className:"data-[state=active]: data-[state=active]:border-primary h-8 rounded-none text-xs",children:"Database Structure"},"structure"),a.jsx(We,{id:"data",disabled:e,value:"data",className:"data-[state=active]: data-[state=active]:border-primary h-8 rounded-none text-xs",children:"Browse Data"},"data"),a.jsx(We,{disabled:e,id:"execute",value:"execute",className:"data-[state=active]: data-[state=active]:border-primary h-8 rounded-none text-xs",children:"Execute SQL"},"execute")]}),t[1]=e,t[2]=l):l=t[2];let n;t[3]!==e?(n=a.jsx(Ke,{value:"data",className:"m-0 h-full border-none p-0",children:e?a.jsx(Nn,{message:"Loading Database"}):a.jsx(Ua,{})}),t[3]=e,t[4]=n):n=t[4];let r;t[5]===Symbol.for("react.memo_cache_sentinel")?(r=a.jsx(Ke,{value:"structure",className:"m-0 h-full border-none p-0",children:a.jsx(Kl,{})}),t[5]=r):r=t[5];let i;t[6]===Symbol.for("react.memo_cache_sentinel")?(i=a.jsx(Ke,{value:"execute",className:"m-0 h-full border border-none p-0",children:a.jsx(on,{})}),t[6]=i):i=t[6];let o;t[7]!==n?(o=a.jsxs("div",{className:"max-h-custom-dvh flex-1 overflow-hidden",children:[n,r,i]}),t[7]=n,t[8]=o):o=t[8];let c;return t[9]!==l||t[10]!==o?(c=a.jsx(bn,{children:a.jsxs("main",{className:"bg-primary/5 flex h-screen flex-col overflow-hidden",children:[s,a.jsxs(fl,{defaultValue:"data",className:"flex flex-1 flex-col",children:[l,o]})]})}),t[9]=l,t[10]=o,t[11]=c):c=t[11],c}function jn(t){return t.isDatabaseLoading}const Nn=t=>{const e=v.c(3),{message:s}=t;let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=a.jsx(et,{className:"mr-2 h-4 w-4 animate-spin"}),e[0]=l):l=e[0];let n;return e[1]!==s?(n=a.jsxs("div",{className:"flex h-full items-center justify-center",children:[l,a.jsx("span",{className:"text-xl",children:s})]}),e[1]=s,e[2]=n):n=e[2],n};St.createRoot(document.getElementById("root")).render(a.jsx(C.StrictMode,{children:a.jsxs(As,{defaultTheme:"dark",storageKey:"ui-theme",children:[a.jsx(Ps,{children:a.jsx(Os,{children:a.jsx(gn,{})})}),a.jsx(Rs,{expand:!0})]})}));
