var wn=Object.defineProperty;var bn=(oe,K,ee)=>K in oe?wn(oe,K,{enumerable:!0,configurable:!0,writable:!0,value:ee}):oe[K]=ee;var we=(oe,K,ee)=>bn(oe,typeof K!="symbol"?K+"":K,ee);(function(){"use strict";function oe(T){return T&&T.__esModule&&Object.prototype.hasOwnProperty.call(T,"default")?T.default:T}function K(T){if(T.__esModule)return T;var p=T.default;if(typeof p=="function"){var c=function h(){return this instanceof h?Reflect.construct(p,arguments,this.constructor):p.apply(this,arguments)};c.prototype=p.prototype}else c={};return Object.defineProperty(c,"__esModule",{value:!0}),Object.keys(T).forEach(function(h){var y=Object.getOwnPropertyDescriptor(T,h);Object.defineProperty(c,h,y.get?y:{enumerable:!0,get:function(){return T[h]}})}),c}var ee={exports:{}},br={},_r=Object.freeze({__proto__:null,default:br}),Qe=K(_r),_t;function vr(){return _t||(_t=1,function(T,p){var c=void 0,h=function(y){return c||(c=new Promise(function(g,A){var x=typeof y<"u"?y:{},$=x.onAbort;x.onAbort=function(e){A(new Error(e)),$&&$(e)},x.postRun=x.postRun||[],x.postRun.push(function(){g(x)}),T=void 0;var o;o||(o=typeof x<"u"?x:{});var be=typeof window=="object",se=typeof importScripts=="function",te=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";o.onRuntimeInitialized=function(){function e(s,l){switch(typeof l){case"boolean":dn(s,l?1:0);break;case"number":cn(s,l);break;case"string":mn(s,l,-1,-1);break;case"object":if(l===null)dr(s);else if(l.length!=null){var m=We(l,He);pn(s,m,l.length,-1),Je(m)}else Ke(s,"Wrong API use : tried to return a value of an unknown type ("+l+").",-1);break;default:dr(s)}}function t(s,l){for(var m=[],_=0;_<s;_+=1){var S=V(l+4*_,"i32"),F=an(S);if(F===1||F===2)S=hn(S);else if(F===3)S=ln(S);else if(F===4){F=S,S=un(F),F=fn(F);for(var z=new Uint8Array(S),W=0;W<S;W+=1)z[W]=D[F+W];S=z}else S=null;m.push(S)}return m}function r(s,l){this.Ka=s,this.db=l,this.Ia=1,this.eb=[]}function n(s,l){if(this.db=l,l=qe(s)+1,this.Xa=wt(l),this.Xa===null)throw Error("Unable to allocate memory for the SQL string");X(s,M,this.Xa,l),this.cb=this.Xa,this.Ta=this.hb=null}function i(s){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),s!=null){var l=this.filename,m="/",_=l;if(m&&(m=typeof m=="string"?m:Ce(m),_=l?le(m+"/"+l):m),l=Gt(!0,!0),_=De(_,(l!==void 0?l:438)&4095|32768,0),s){if(typeof s=="string"){m=Array(s.length);for(var S=0,F=s.length;S<F;++S)m[S]=s.charCodeAt(S);s=m}$e(_,l|146),m=de(_,577),ir(m,s,0,s.length,0),ht(m),$e(_,l)}}this.handleError(b(this.filename,a)),this.db=V(a,"i32"),wr(this.db),this.Ya={},this.Ma={}}var a=ie(4),u=o.cwrap,b=u("sqlite3_open","number",["string","number"]),R=u("sqlite3_close_v2","number",["number"]),E=u("sqlite3_exec","number",["number","string","number","number","number"]),C=u("sqlite3_changes","number",["number"]),U=u("sqlite3_prepare_v2","number",["number","string","number","number","number"]),fr=u("sqlite3_sql","string",["number"]),Hr=u("sqlite3_normalized_sql","string",["number"]),hr=u("sqlite3_prepare_v2","number",["number","number","number","number","number"]),Wr=u("sqlite3_bind_text","number",["number","number","number","number","number"]),cr=u("sqlite3_bind_blob","number",["number","number","number","number","number"]),zr=u("sqlite3_bind_double","number",["number","number","number"]),Jr=u("sqlite3_bind_int","number",["number","number","number"]),Br=u("sqlite3_bind_parameter_index","number",["number","string"]),Kr=u("sqlite3_step","number",["number"]),Qr=u("sqlite3_errmsg","string",["number"]),Yr=u("sqlite3_column_count","number",["number"]),Vr=u("sqlite3_data_count","number",["number"]),Xr=u("sqlite3_column_double","number",["number","number"]),mr=u("sqlite3_column_text","string",["number","number"]),Zr=u("sqlite3_column_blob","number",["number","number"]),en=u("sqlite3_column_bytes","number",["number","number"]),tn=u("sqlite3_column_type","number",["number","number"]),rn=u("sqlite3_column_name","string",["number","number"]),nn=u("sqlite3_reset","number",["number"]),on=u("sqlite3_clear_bindings","number",["number"]),sn=u("sqlite3_finalize","number",["number"]),pr=u("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),an=u("sqlite3_value_type","number",["number"]),un=u("sqlite3_value_bytes","number",["number"]),ln=u("sqlite3_value_text","string",["number"]),fn=u("sqlite3_value_blob","number",["number"]),hn=u("sqlite3_value_double","number",["number"]),cn=u("sqlite3_result_double","",["number","number"]),dr=u("sqlite3_result_null","",["number"]),mn=u("sqlite3_result_text","",["number","string","number","number"]),pn=u("sqlite3_result_blob","",["number","number","number","number"]),dn=u("sqlite3_result_int","",["number","number"]),Ke=u("sqlite3_result_error","",["number","string","number"]),yr=u("sqlite3_aggregate_context","number",["number","number"]),wr=u("RegisterExtensionFunctions","number",["number"]);r.prototype.bind=function(s){if(!this.Ka)throw"Statement closed";return this.reset(),Array.isArray(s)?this.vb(s):s!=null&&typeof s=="object"?this.wb(s):!0},r.prototype.step=function(){if(!this.Ka)throw"Statement closed";this.Ia=1;var s=Kr(this.Ka);switch(s){case 100:return!0;case 101:return!1;default:throw this.db.handleError(s)}},r.prototype.qb=function(s){return s==null&&(s=this.Ia,this.Ia+=1),Xr(this.Ka,s)},r.prototype.zb=function(s){if(s==null&&(s=this.Ia,this.Ia+=1),s=mr(this.Ka,s),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(s)},r.prototype.Ab=function(s){return s==null&&(s=this.Ia,this.Ia+=1),mr(this.Ka,s)},r.prototype.getBlob=function(s){s==null&&(s=this.Ia,this.Ia+=1);var l=en(this.Ka,s);s=Zr(this.Ka,s);for(var m=new Uint8Array(l),_=0;_<l;_+=1)m[_]=D[s+_];return m},r.prototype.get=function(s,l){l=l||{},s!=null&&this.bind(s)&&this.step(),s=[];for(var m=Vr(this.Ka),_=0;_<m;_+=1)switch(tn(this.Ka,_)){case 1:var S=l.useBigInt?this.zb(_):this.qb(_);s.push(S);break;case 2:s.push(this.qb(_));break;case 3:s.push(this.Ab(_));break;case 4:s.push(this.getBlob(_));break;default:s.push(null)}return s},r.prototype.getColumnNames=function(){for(var s=[],l=Yr(this.Ka),m=0;m<l;m+=1)s.push(rn(this.Ka,m));return s},r.prototype.getAsObject=function(s,l){s=this.get(s,l),l=this.getColumnNames();for(var m={},_=0;_<l.length;_+=1)m[l[_]]=s[_];return m},r.prototype.getSQL=function(){return fr(this.Ka)},r.prototype.getNormalizedSQL=function(){return Hr(this.Ka)},r.prototype.run=function(s){return s!=null&&this.bind(s),this.step(),this.reset()},r.prototype.mb=function(s,l){l==null&&(l=this.Ia,this.Ia+=1),s=Dt(s);var m=We(s,He);this.eb.push(m),this.db.handleError(Wr(this.Ka,l,m,s.length-1,0))},r.prototype.ub=function(s,l){l==null&&(l=this.Ia,this.Ia+=1);var m=We(s,He);this.eb.push(m),this.db.handleError(cr(this.Ka,l,m,s.length,0))},r.prototype.lb=function(s,l){l==null&&(l=this.Ia,this.Ia+=1),this.db.handleError((s===(s|0)?Jr:zr)(this.Ka,l,s))},r.prototype.xb=function(s){s==null&&(s=this.Ia,this.Ia+=1),cr(this.Ka,s,0,0,0)},r.prototype.nb=function(s,l){switch(l==null&&(l=this.Ia,this.Ia+=1),typeof s){case"string":this.mb(s,l);return;case"number":this.lb(s,l);return;case"bigint":this.mb(s.toString(),l);return;case"boolean":this.lb(s+0,l);return;case"object":if(s===null){this.xb(l);return}if(s.length!=null){this.ub(s,l);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+s+")."},r.prototype.wb=function(s){var l=this;return Object.keys(s).forEach(function(m){var _=Br(l.Ka,m);_!==0&&l.nb(s[m],_)}),!0},r.prototype.vb=function(s){for(var l=0;l<s.length;l+=1)this.nb(s[l],l+1);return!0},r.prototype.reset=function(){return this.freemem(),on(this.Ka)===0&&nn(this.Ka)===0},r.prototype.freemem=function(){for(var s;(s=this.eb.pop())!==void 0;)Je(s)},r.prototype.free=function(){this.freemem();var s=sn(this.Ka)===0;return delete this.db.Ya[this.Ka],this.Ka=0,s},n.prototype.next=function(){if(this.Xa===null)return{done:!0};if(this.Ta!==null&&(this.Ta.free(),this.Ta=null),!this.db.db)throw this.fb(),Error("Database closed");var s=xe(),l=ie(4);ge(a),ge(l);try{this.db.handleError(hr(this.db.db,this.cb,-1,a,l)),this.cb=V(l,"i32");var m=V(a,"i32");return m===0?(this.fb(),{done:!0}):(this.Ta=new r(m,this.db),this.db.Ya[m]=this.Ta,{value:this.Ta,done:!1})}catch(_){throw this.hb=it(this.cb),this.fb(),_}finally{Re(s)}},n.prototype.fb=function(){Je(this.Xa),this.Xa=null},n.prototype.getRemainingSQL=function(){return this.hb!==null?this.hb:it(this.cb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(n.prototype[Symbol.iterator]=function(){return this}),i.prototype.run=function(s,l){if(!this.db)throw"Database closed";if(l){s=this.prepare(s,l);try{s.step()}finally{s.free()}}else this.handleError(E(this.db,s,0,0,a));return this},i.prototype.exec=function(s,l,m){if(!this.db)throw"Database closed";var _=xe(),S=null;try{var F=dt(s),z=ie(4);for(s=[];V(F,"i8")!==0;){ge(a),ge(z),this.handleError(hr(this.db,F,-1,a,z));var W=V(a,"i32");if(F=V(z,"i32"),W!==0){var H=null;for(S=new r(W,this),l!=null&&S.bind(l);S.step();)H===null&&(H={columns:S.getColumnNames(),values:[]},s.push(H)),H.values.push(S.get(null,m));S.free()}}return s}catch(J){throw S&&S.free(),J}finally{Re(_)}},i.prototype.each=function(s,l,m,_,S){typeof l=="function"&&(_=m,m=l,l=void 0),s=this.prepare(s,l);try{for(;s.step();)m(s.getAsObject(null,S))}finally{s.free()}if(typeof _=="function")return _()},i.prototype.prepare=function(s,l){if(ge(a),this.handleError(U(this.db,s,-1,a,0)),s=V(a,"i32"),s===0)throw"Nothing to prepare";var m=new r(s,this);return l!=null&&m.bind(l),this.Ya[s]=m},i.prototype.iterateStatements=function(s){return new n(s,this)},i.prototype.export=function(){Object.values(this.Ya).forEach(function(l){l.free()}),Object.values(this.Ma).forEach(ye),this.Ma={},this.handleError(R(this.db));var s=Ur(this.filename);return this.handleError(b(this.filename,a)),this.db=V(a,"i32"),wr(this.db),s},i.prototype.close=function(){this.db!==null&&(Object.values(this.Ya).forEach(function(s){s.free()}),Object.values(this.Ma).forEach(ye),this.Ma={},this.handleError(R(this.db)),Xt("/"+this.filename),this.db=null)},i.prototype.handleError=function(s){if(s===0)return null;throw s=Qr(this.db),Error(s)},i.prototype.getRowsModified=function(){return C(this.db)},i.prototype.create_function=function(s,l){Object.prototype.hasOwnProperty.call(this.Ma,s)&&(ye(this.Ma[s]),delete this.Ma[s]);var m=ze(function(_,S,F){S=t(S,F);try{var z=l.apply(null,S)}catch(W){Ke(_,W,-1);return}e(_,z)},"viii");return this.Ma[s]=m,this.handleError(pr(this.db,s,l.length,1,0,m,0,0,0)),this},i.prototype.create_aggregate=function(s,l){var m=l.init||function(){return null},_=l.finalize||function(H){return H},S=l.step;if(!S)throw"An aggregate function must have a step function in "+s;var F={};Object.hasOwnProperty.call(this.Ma,s)&&(ye(this.Ma[s]),delete this.Ma[s]),l=s+"__finalize",Object.hasOwnProperty.call(this.Ma,l)&&(ye(this.Ma[l]),delete this.Ma[l]);var z=ze(function(H,J,bt){var me=yr(H,1);Object.hasOwnProperty.call(F,me)||(F[me]=m()),J=t(J,bt),J=[F[me]].concat(J);try{F[me]=S.apply(null,J)}catch(yn){delete F[me],Ke(H,yn,-1)}},"viii"),W=ze(function(H){var J=yr(H,1);try{var bt=_(F[J])}catch(me){delete F[J],Ke(H,me,-1);return}e(H,bt),delete F[J]},"vi");return this.Ma[s]=z,this.Ma[l]=W,this.handleError(pr(this.db,s,S.length-1,1,0,0,z,W,0)),this},o.Database=i};var qt=Object.assign({},o),Ve="./this.program",Y="",Xe,Oe;if(te){var Ze=Qe,St=Qe;Y=__dirname+"/",Oe=e=>(e=Ne(e)?new URL(e):St.normalize(e),Ze.readFileSync(e)),Xe=e=>(e=Ne(e)?new URL(e):St.normalize(e),new Promise((t,r)=>{Ze.readFile(e,void 0,(n,i)=>{n?r(n):t(i.buffer)})})),!o.thisProgram&&1<process.argv.length&&(Ve=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),T.exports=o}else(be||se)&&(se?Y=self.location.href:typeof document<"u"&&document.currentScript&&(Y=document.currentScript.src),Y=Y.startsWith("blob:")?"":Y.substr(0,Y.replace(/[?#].*/,"").lastIndexOf("/")+1),se&&(Oe=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),Xe=e=>Ne(e)?new Promise((t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{(n.status==200||n.status==0&&n.response)&&r(n.response),t(n.status)},n.onerror=t,n.send(null)}):fetch(e,{credentials:"same-origin"}).then(t=>t.ok?t.arrayBuffer():Promise.reject(Error(t.status+" : "+t.url))));var Tt=o.print||console.log.bind(console),ae=o.printErr||console.error.bind(console);Object.assign(o,qt),qt=null,o.thisProgram&&(Ve=o.thisProgram);var _e;o.wasmBinary&&(_e=o.wasmBinary);var ke,At=!1,D,M,ve,v,I,et,tt;function Mt(){var e=ke.buffer;o.HEAP8=D=new Int8Array(e),o.HEAP16=ve=new Int16Array(e),o.HEAPU8=M=new Uint8Array(e),o.HEAPU16=new Uint16Array(e),o.HEAP32=v=new Int32Array(e),o.HEAPU32=I=new Uint32Array(e),o.HEAPF32=et=new Float32Array(e),o.HEAPF64=tt=new Float64Array(e)}var Rt=[],xt=[],Ft=[];function Tr(){var e=o.preRun.shift();Rt.unshift(e)}var ue=0,Ee=null;function re(e){var t;throw(t=o.onAbort)==null||t.call(o,e),e="Aborted("+e+")",ae(e),At=!0,new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info.")}var Ot=e=>e.startsWith("data:application/octet-stream;base64,"),Ne=e=>e.startsWith("file://"),rt;function kt(e){if(e==rt&&_e)return new Uint8Array(_e);if(Oe)return Oe(e);throw"both async and sync fetching of the wasm failed"}function Ar(e){return _e?Promise.resolve().then(()=>kt(e)):Xe(e).then(t=>new Uint8Array(t),()=>kt(e))}function Nt(e,t,r){return Ar(e).then(n=>WebAssembly.instantiate(n,t)).then(r,n=>{ae(`failed to asynchronously prepare wasm: ${n}`),re(n)})}function Mr(e,t){var r=rt;_e||typeof WebAssembly.instantiateStreaming!="function"||Ot(r)||Ne(r)||te||typeof fetch!="function"?Nt(r,e,t):fetch(r,{credentials:"same-origin"}).then(n=>WebAssembly.instantiateStreaming(n,e).then(t,function(i){return ae(`wasm streaming compile failed: ${i}`),ae("falling back to ArrayBuffer instantiation"),Nt(r,e,t)}))}var w,k,nt=e=>{for(;0<e.length;)e.shift()(o)};function V(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":return D[e];case"i8":return D[e];case"i16":return ve[e>>1];case"i32":return v[e>>2];case"i64":re("to do getValue(i64) use WASM_BIGINT");case"float":return et[e>>2];case"double":return tt[e>>3];case"*":return I[e>>2];default:re(`invalid type for getValue: ${t}`)}}function ge(e){var t="i32";switch(t.endsWith("*")&&(t="*"),t){case"i1":D[e]=0;break;case"i8":D[e]=0;break;case"i16":ve[e>>1]=0;break;case"i32":v[e>>2]=0;break;case"i64":re("to do setValue(i64) use WASM_BIGINT");case"float":et[e>>2]=0;break;case"double":tt[e>>3]=0;break;case"*":I[e>>2]=0;break;default:re(`invalid type for setValue: ${t}`)}}var It=typeof TextDecoder<"u"?new TextDecoder:void 0,L=(e,t,r)=>{var n=t+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&It)return It.decode(e.subarray(t,r));for(n="";t<r;){var i=e[t++];if(i&128){var a=e[t++]&63;if((i&224)==192)n+=String.fromCharCode((i&31)<<6|a);else{var u=e[t++]&63;i=(i&240)==224?(i&15)<<12|a<<6|u:(i&7)<<18|a<<12|u<<6|e[t++]&63,65536>i?n+=String.fromCharCode(i):(i-=65536,n+=String.fromCharCode(55296|i>>10,56320|i&1023))}}else n+=String.fromCharCode(i)}return n},it=(e,t)=>e?L(M,e,t):"",Lt=(e,t)=>{for(var r=0,n=e.length-1;0<=n;n--){var i=e[n];i==="."?e.splice(n,1):i===".."?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},le=e=>{var t=e.charAt(0)==="/",r=e.substr(-1)==="/";return(e=Lt(e.split("/").filter(n=>!!n),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},Rr=e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],!e&&!t?".":(t&&(t=t.substr(0,t.length-1)),e+t)},Ie=e=>{if(e==="/")return"/";e=le(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)},xr=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return r=>crypto.getRandomValues(r);if(te)try{var e=Qe;if(e.randomFillSync)return r=>e.randomFillSync(r);var t=e.randomBytes;return r=>(r.set(t(r.byteLength)),r)}catch{}re("initRandomDevice")},Ct=e=>(Ct=xr())(e),Le=(...e)=>{for(var t="",r=!1,n=e.length-1;-1<=n&&!r;n--){if(r=0<=n?e[n]:"/",typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";t=r+"/"+t,r=r.charAt(0)==="/"}return t=Lt(t.split("/").filter(i=>!!i),!r).join("/"),(r?"/":"")+t||"."},ot=[],qe=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++r):t+=3}return t},X=(e,t,r,n)=>{if(!(0<n))return 0;var i=r;n=r+n-1;for(var a=0;a<e.length;++a){var u=e.charCodeAt(a);if(55296<=u&&57343>=u){var b=e.charCodeAt(++a);u=65536+((u&1023)<<10)|b&1023}if(127>=u){if(r>=n)break;t[r++]=u}else{if(2047>=u){if(r+1>=n)break;t[r++]=192|u>>6}else{if(65535>=u){if(r+2>=n)break;t[r++]=224|u>>12}else{if(r+3>=n)break;t[r++]=240|u>>18,t[r++]=128|u>>12&63}t[r++]=128|u>>6&63}t[r++]=128|u&63}}return t[r]=0,r-i};function Dt(e,t){var r=Array(qe(e)+1);return e=X(e,r,0,r.length),t&&(r.length=e),r}var Ut=[];function $t(e,t){Ut[e]={input:[],output:[],Wa:t},lt(e,Fr)}var Fr={open(e){var t=Ut[e.node.rdev];if(!t)throw new f(43);e.tty=t,e.seekable=!1},close(e){e.tty.Wa.fsync(e.tty)},fsync(e){e.tty.Wa.fsync(e.tty)},read(e,t,r,n){if(!e.tty||!e.tty.Wa.rb)throw new f(60);for(var i=0,a=0;a<n;a++){try{var u=e.tty.Wa.rb(e.tty)}catch{throw new f(29)}if(u===void 0&&i===0)throw new f(6);if(u==null)break;i++,t[r+a]=u}return i&&(e.node.timestamp=Date.now()),i},write(e,t,r,n){if(!e.tty||!e.tty.Wa.ib)throw new f(60);try{for(var i=0;i<n;i++)e.tty.Wa.ib(e.tty,t[r+i])}catch{throw new f(29)}return n&&(e.node.timestamp=Date.now()),i}},Or={rb(){e:{if(!ot.length){var e=null;if(te){var t=Buffer.alloc(256),r=0,n=process.stdin.fd;try{r=Ze.readSync(n,t,0,256)}catch(i){if(i.toString().includes("EOF"))r=0;else throw i}0<r&&(e=t.slice(0,r).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(e=window.prompt("Input: "),e!==null&&(e+=`
`));if(!e){e=null;break e}ot=Dt(e,!0)}e=ot.shift()}return e},ib(e,t){t===null||t===10?(Tt(L(e.output,0)),e.output=[]):t!=0&&e.output.push(t)},fsync(e){e.output&&0<e.output.length&&(Tt(L(e.output,0)),e.output=[])},Lb(){return{Gb:25856,Ib:5,Fb:191,Hb:35387,Eb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Mb(){return 0},Nb(){return[24,80]}},kr={ib(e,t){t===null||t===10?(ae(L(e.output,0)),e.output=[]):t!=0&&e.output.push(t)},fsync(e){e.output&&0<e.output.length&&(ae(L(e.output,0)),e.output=[])}};function Pt(e,t){var r=e.Ha?e.Ha.length:0;r>=t||(t=Math.max(t,r*(1048576>r?2:1.125)>>>0),r!=0&&(t=Math.max(t,256)),r=e.Ha,e.Ha=new Uint8Array(t),0<e.La&&e.Ha.set(r.subarray(0,e.La),0))}var q={Pa:null,Qa(){return q.createNode(null,"/",16895,0)},createNode(e,t,r,n){if((r&61440)===24576||(r&61440)===4096)throw new f(63);return q.Pa||(q.Pa={dir:{node:{Oa:q.Fa.Oa,Na:q.Fa.Na,lookup:q.Fa.lookup,$a:q.Fa.$a,rename:q.Fa.rename,unlink:q.Fa.unlink,rmdir:q.Fa.rmdir,readdir:q.Fa.readdir,symlink:q.Fa.symlink},stream:{Sa:q.Ga.Sa}},file:{node:{Oa:q.Fa.Oa,Na:q.Fa.Na},stream:{Sa:q.Ga.Sa,read:q.Ga.read,write:q.Ga.write,kb:q.Ga.kb,ab:q.Ga.ab,bb:q.Ga.bb}},link:{node:{Oa:q.Fa.Oa,Na:q.Fa.Na,readlink:q.Fa.readlink},stream:{}},ob:{node:{Oa:q.Fa.Oa,Na:q.Fa.Na},stream:Dr}}),r=zt(e,t,r,n),j(r.mode)?(r.Fa=q.Pa.dir.node,r.Ga=q.Pa.dir.stream,r.Ha={}):(r.mode&61440)===32768?(r.Fa=q.Pa.file.node,r.Ga=q.Pa.file.stream,r.La=0,r.Ha=null):(r.mode&61440)===40960?(r.Fa=q.Pa.link.node,r.Ga=q.Pa.link.stream):(r.mode&61440)===8192&&(r.Fa=q.Pa.ob.node,r.Ga=q.Pa.ob.stream),r.timestamp=Date.now(),e&&(e.Ha[t]=r,e.timestamp=r.timestamp),r},Kb(e){return e.Ha?e.Ha.subarray?e.Ha.subarray(0,e.La):new Uint8Array(e.Ha):new Uint8Array(0)},Fa:{Oa(e){var t={};return t.dev=(e.mode&61440)===8192?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,j(e.mode)?t.size=4096:(e.mode&61440)===32768?t.size=e.La:(e.mode&61440)===40960?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.yb=4096,t.blocks=Math.ceil(t.size/t.yb),t},Na(e,t){if(t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&(t=t.size,e.La!=t))if(t==0)e.Ha=null,e.La=0;else{var r=e.Ha;e.Ha=new Uint8Array(t),r&&e.Ha.set(r.subarray(0,Math.min(t,e.La))),e.La=t}},lookup(){throw at[44]},$a(e,t,r,n){return q.createNode(e,t,r,n)},rename(e,t,r){if(j(e.mode)){try{var n=fe(t,r)}catch{}if(n)for(var i in n.Ha)throw new f(55)}delete e.parent.Ha[e.name],e.parent.timestamp=Date.now(),e.name=r,t.Ha[r]=e,t.timestamp=e.parent.timestamp},unlink(e,t){delete e.Ha[t],e.timestamp=Date.now()},rmdir(e,t){var r=fe(e,t),n;for(n in r.Ha)throw new f(55);delete e.Ha[t],e.timestamp=Date.now()},readdir(e){var t=[".",".."],r;for(r of Object.keys(e.Ha))t.push(r);return t},symlink(e,t,r){return e=q.createNode(e,t,41471,0),e.link=r,e},readlink(e){if((e.mode&61440)!==40960)throw new f(28);return e.link}},Ga:{read(e,t,r,n,i){var a=e.node.Ha;if(i>=e.node.La)return 0;if(e=Math.min(e.node.La-i,n),8<e&&a.subarray)t.set(a.subarray(i,i+e),r);else for(n=0;n<e;n++)t[r+n]=a[i+n];return e},write(e,t,r,n,i,a){if(t.buffer===D.buffer&&(a=!1),!n)return 0;if(e=e.node,e.timestamp=Date.now(),t.subarray&&(!e.Ha||e.Ha.subarray)){if(a)return e.Ha=t.subarray(r,r+n),e.La=n;if(e.La===0&&i===0)return e.Ha=t.slice(r,r+n),e.La=n;if(i+n<=e.La)return e.Ha.set(t.subarray(r,r+n),i),n}if(Pt(e,i+n),e.Ha.subarray&&t.subarray)e.Ha.set(t.subarray(r,r+n),i);else for(a=0;a<n;a++)e.Ha[i+a]=t[r+a];return e.La=Math.max(e.La,i+n),n},Sa(e,t,r){if(r===1?t+=e.position:r===2&&(e.node.mode&61440)===32768&&(t+=e.node.La),0>t)throw new f(28);return t},kb(e,t,r){Pt(e.node,t+r),e.node.La=Math.max(e.node.La,t+r)},ab(e,t,r,n,i){if((e.node.mode&61440)!==32768)throw new f(43);if(e=e.node.Ha,i&2||e.buffer!==D.buffer){if((0<r||r+t<e.length)&&(e.subarray?e=e.subarray(r,r+t):e=Array.prototype.slice.call(e,r,r+t)),r=!0,t=65536*Math.ceil(t/65536),(i=ur(65536,t))?(M.fill(0,i,i+t),t=i):t=0,!t)throw new f(48);D.set(e,t)}else r=!1,t=e.byteOffset;return{Cb:t,tb:r}},bb(e,t,r,n){return q.Ga.write(e,t,0,n,r,!1),0}}},Gt=(e,t)=>{var r=0;return e&&(r|=365),t&&(r|=146),r},st=null,jt={},Se=[],Nr=1,ne=null,Ht=!0,f=class{constructor(e){this.name="ErrnoError",this.Ja=e}},at={},Ir=class{constructor(){this.Za={},this.node=null}get flags(){return this.Za.flags}set flags(e){this.Za.flags=e}get position(){return this.Za.position}set position(e){this.Za.position=e}},Lr=class{constructor(e,t,r,n){e||(e=this),this.parent=e,this.Qa=e.Qa,this.Ua=null,this.id=Nr++,this.name=t,this.mode=r,this.Fa={},this.Ga={},this.rdev=n}get read(){return(this.mode&365)===365}set read(e){e?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(e){e?this.mode|=146:this.mode&=-147}};function G(e,t={}){if(e=Le(e),!e)return{path:"",node:null};if(t=Object.assign({pb:!0,jb:0},t),8<t.jb)throw new f(32);e=e.split("/").filter(u=>!!u);for(var r=st,n="/",i=0;i<e.length;i++){var a=i===e.length-1;if(a&&t.parent)break;if(r=fe(r,e[i]),n=le(n+"/"+e[i]),r.Ua&&(!a||a&&t.pb)&&(r=r.Ua.root),!a||t.Ra){for(a=0;(r.mode&61440)===40960;)if(r=Zt(n),n=Le(Rr(n),r),r=G(n,{jb:t.jb+1}).node,40<a++)throw new f(32)}}return{path:n,node:r}}function Ce(e){for(var t;;){if(e===e.parent)return e=e.Qa.sb,t?e[e.length-1]!=="/"?`${e}/${t}`:e+t:e;t=t?`${e.name}/${t}`:e.name,e=e.parent}}function ut(e,t){for(var r=0,n=0;n<t.length;n++)r=(r<<5)-r+t.charCodeAt(n)|0;return(e+r>>>0)%ne.length}function Wt(e){var t=ut(e.parent.id,e.name);if(ne[t]===e)ne[t]=e.Va;else for(t=ne[t];t;){if(t.Va===e){t.Va=e.Va;break}t=t.Va}}function fe(e,t){var r=j(e.mode)?(r=pe(e,"x"))?r:e.Fa.lookup?0:2:54;if(r)throw new f(r);for(r=ne[ut(e.id,t)];r;r=r.Va){var n=r.name;if(r.parent.id===e.id&&n===t)return r}return e.Fa.lookup(e,t)}function zt(e,t,r,n){return e=new Lr(e,t,r,n),t=ut(e.parent.id,e.name),e.Va=ne[t],ne[t]=e}function j(e){return(e&61440)===16384}function Jt(e){var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t}function pe(e,t){if(Ht)return 0;if(!t.includes("r")||e.mode&292){if(t.includes("w")&&!(e.mode&146)||t.includes("x")&&!(e.mode&73))return 2}else return 2;return 0}function Bt(e,t){try{return fe(e,t),20}catch{}return pe(e,"wx")}function Kt(e,t,r){try{var n=fe(e,t)}catch(i){return i.Ja}if(e=pe(e,"wx"))return e;if(r){if(!j(n.mode))return 54;if(n===n.parent||Ce(n)==="/")return 10}else if(j(n.mode))return 31;return 0}function P(e){if(e=Se[e],!e)throw new f(8);return e}function Qt(e,t=-1){if(e=Object.assign(new Ir,e),t==-1)e:{for(t=0;4096>=t;t++)if(!Se[t])break e;throw new f(33)}return e.fd=t,Se[t]=e}function Cr(e,t=-1){var r,n;return e=Qt(e,t),(n=(r=e.Ga)==null?void 0:r.Jb)==null||n.call(r,e),e}var Dr={open(e){var t,r;e.Ga=jt[e.node.rdev].Ga,(r=(t=e.Ga).open)==null||r.call(t,e)},Sa(){throw new f(70)}};function lt(e,t){jt[e]={Ga:t}}function Yt(e,t){var r=t==="/";if(r&&st)throw new f(10);if(!r&&t){var n=G(t,{pb:!1});if(t=n.path,n=n.node,n.Ua)throw new f(10);if(!j(n.mode))throw new f(54)}t={type:e,Ob:{},sb:t,Bb:[]},e=e.Qa(t),e.Qa=t,t.root=e,r?st=e:n&&(n.Ua=t,n.Qa&&n.Qa.Bb.push(t))}function De(e,t,r){var n=G(e,{parent:!0}).node;if(e=Ie(e),!e||e==="."||e==="..")throw new f(28);var i=Bt(n,e);if(i)throw new f(i);if(!n.Fa.$a)throw new f(63);return n.Fa.$a(n,e,t,r)}function B(e,t){return De(e,(t!==void 0?t:511)&1023|16384,0)}function Ue(e,t,r){typeof r>"u"&&(r=t,t=438),De(e,t|8192,r)}function ft(e,t){if(!Le(e))throw new f(44);var r=G(t,{parent:!0}).node;if(!r)throw new f(44);t=Ie(t);var n=Bt(r,t);if(n)throw new f(n);if(!r.Fa.symlink)throw new f(63);r.Fa.symlink(r,t,e)}function Vt(e){var t=G(e,{parent:!0}).node;e=Ie(e);var r=fe(t,e),n=Kt(t,e,!0);if(n)throw new f(n);if(!t.Fa.rmdir)throw new f(63);if(r.Ua)throw new f(10);t.Fa.rmdir(t,e),Wt(r)}function Xt(e){var t=G(e,{parent:!0}).node;if(!t)throw new f(44);e=Ie(e);var r=fe(t,e),n=Kt(t,e,!1);if(n)throw new f(n);if(!t.Fa.unlink)throw new f(63);if(r.Ua)throw new f(10);t.Fa.unlink(t,e),Wt(r)}function Zt(e){if(e=G(e).node,!e)throw new f(44);if(!e.Fa.readlink)throw new f(28);return Le(Ce(e.parent),e.Fa.readlink(e))}function Te(e,t){if(e=G(e,{Ra:!t}).node,!e)throw new f(44);if(!e.Fa.Oa)throw new f(63);return e.Fa.Oa(e)}function er(e){return Te(e,!0)}function $e(e,t){if(e=typeof e=="string"?G(e,{Ra:!0}).node:e,!e.Fa.Na)throw new f(63);e.Fa.Na(e,{mode:t&4095|e.mode&-4096,timestamp:Date.now()})}function tr(e,t){if(0>t)throw new f(28);if(e=typeof e=="string"?G(e,{Ra:!0}).node:e,!e.Fa.Na)throw new f(63);if(j(e.mode))throw new f(31);if((e.mode&61440)!==32768)throw new f(28);var r=pe(e,"w");if(r)throw new f(r);e.Fa.Na(e,{size:t,timestamp:Date.now()})}function de(e,t,r){if(e==="")throw new f(44);if(typeof t=="string"){var n={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[t];if(typeof n>"u")throw Error(`Unknown file open mode: ${t}`);t=n}if(r=t&64?(typeof r>"u"?438:r)&4095|32768:0,typeof e=="object")var i=e;else{e=le(e);try{i=G(e,{Ra:!(t&131072)}).node}catch{}}if(n=!1,t&64)if(i){if(t&128)throw new f(20)}else i=De(e,r,0),n=!0;if(!i)throw new f(44);if((i.mode&61440)===8192&&(t&=-513),t&65536&&!j(i.mode))throw new f(54);if(!n&&(r=i?(i.mode&61440)===40960?32:j(i.mode)&&(Jt(t)!=="r"||t&512)?31:pe(i,Jt(t)):44))throw new f(r);return t&512&&!n&&tr(i,0),t&=-131713,i=Qt({node:i,path:Ce(i),flags:t,seekable:!0,position:0,Ga:i.Ga,Db:[],error:!1}),i.Ga.open&&i.Ga.open(i),!o.logReadFiles||t&1||(ct||(ct={}),e in ct||(ct[e]=1)),i}function ht(e){if(e.fd===null)throw new f(8);e.gb&&(e.gb=null);try{e.Ga.close&&e.Ga.close(e)}catch(t){throw t}finally{Se[e.fd]=null}e.fd=null}function rr(e,t,r){if(e.fd===null)throw new f(8);if(!e.seekable||!e.Ga.Sa)throw new f(70);if(r!=0&&r!=1&&r!=2)throw new f(28);e.position=e.Ga.Sa(e,t,r),e.Db=[]}function nr(e,t,r,n,i){if(0>n||0>i)throw new f(28);if(e.fd===null)throw new f(8);if((e.flags&2097155)===1)throw new f(8);if(j(e.node.mode))throw new f(31);if(!e.Ga.read)throw new f(28);var a=typeof i<"u";if(!a)i=e.position;else if(!e.seekable)throw new f(70);return t=e.Ga.read(e,t,r,n,i),a||(e.position+=t),t}function ir(e,t,r,n,i){if(0>n||0>i)throw new f(28);if(e.fd===null)throw new f(8);if((e.flags&2097155)===0)throw new f(8);if(j(e.node.mode))throw new f(31);if(!e.Ga.write)throw new f(28);e.seekable&&e.flags&1024&&rr(e,0,2);var a=typeof i<"u";if(!a)i=e.position;else if(!e.seekable)throw new f(70);return t=e.Ga.write(e,t,r,n,i,void 0),a||(e.position+=t),t}function Ur(e){var t,r=de(e,r||0);e=Te(e).size;var n=new Uint8Array(e);return nr(r,n,0,e,0),t=n,ht(r),t}var or;function Ae(e,t,r){e=le("/dev/"+e);var n=Gt(!!t,!!r);sr||(sr=64);var i=sr++<<8|0;lt(i,{open(a){a.seekable=!1},close(){var a;(a=r==null?void 0:r.buffer)!=null&&a.length&&r(10)},read(a,u,b,R){for(var E=0,C=0;C<R;C++){try{var U=t()}catch{throw new f(29)}if(U===void 0&&E===0)throw new f(6);if(U==null)break;E++,u[b+C]=U}return E&&(a.node.timestamp=Date.now()),E},write(a,u,b,R){for(var E=0;E<R;E++)try{r(u[b+E])}catch{throw new f(29)}return R&&(a.node.timestamp=Date.now()),E}}),Ue(e,n,i)}var sr,O={},ct;function he(e,t,r){if(t.charAt(0)==="/")return t;if(e=e===-100?"/":P(e).path,t.length==0){if(!r)throw new f(44);return e}return le(e+"/"+t)}function Pe(e,t,r){e=e(t),v[r>>2]=e.dev,v[r+4>>2]=e.mode,I[r+8>>2]=e.nlink,v[r+12>>2]=e.uid,v[r+16>>2]=e.gid,v[r+20>>2]=e.rdev,k=[e.size>>>0,(w=e.size,1<=+Math.abs(w)?0<w?+Math.floor(w/4294967296)>>>0:~~+Math.ceil((w-+(~~w>>>0))/4294967296)>>>0:0)],v[r+24>>2]=k[0],v[r+28>>2]=k[1],v[r+32>>2]=4096,v[r+36>>2]=e.blocks,t=e.atime.getTime();var n=e.mtime.getTime(),i=e.ctime.getTime();return k=[Math.floor(t/1e3)>>>0,(w=Math.floor(t/1e3),1<=+Math.abs(w)?0<w?+Math.floor(w/4294967296)>>>0:~~+Math.ceil((w-+(~~w>>>0))/4294967296)>>>0:0)],v[r+40>>2]=k[0],v[r+44>>2]=k[1],I[r+48>>2]=t%1e3*1e3,k=[Math.floor(n/1e3)>>>0,(w=Math.floor(n/1e3),1<=+Math.abs(w)?0<w?+Math.floor(w/4294967296)>>>0:~~+Math.ceil((w-+(~~w>>>0))/4294967296)>>>0:0)],v[r+56>>2]=k[0],v[r+60>>2]=k[1],I[r+64>>2]=n%1e3*1e3,k=[Math.floor(i/1e3)>>>0,(w=Math.floor(i/1e3),1<=+Math.abs(w)?0<w?+Math.floor(w/4294967296)>>>0:~~+Math.ceil((w-+(~~w>>>0))/4294967296)>>>0:0)],v[r+72>>2]=k[0],v[r+76>>2]=k[1],I[r+80>>2]=i%1e3*1e3,k=[e.ino>>>0,(w=e.ino,1<=+Math.abs(w)?0<w?+Math.floor(w/4294967296)>>>0:~~+Math.ceil((w-+(~~w>>>0))/4294967296)>>>0:0)],v[r+88>>2]=k[0],v[r+92>>2]=k[1],0}var Ge=void 0;function je(){var e=v[+Ge>>2];return Ge+=4,e}var Me=(e,t)=>t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,$r=[0,31,60,91,121,152,182,213,244,274,305,335],Pr=[0,31,59,90,120,151,181,212,243,273,304,334],mt={},ar=()=>{if(!pt){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Ve||"./this.program"},t;for(t in mt)mt[t]===void 0?delete e[t]:e[t]=mt[t];var r=[];for(t in e)r.push(`${t}=${e[t]}`);pt=r}return pt},pt,dt=e=>{var t=qe(e)+1,r=ie(t);return X(e,M,r,t),r},Gr=(e,t,r,n)=>{var i={string:E=>{var C=0;return E!=null&&E!==0&&(C=dt(E)),C},array:E=>{var C=ie(E.length);return D.set(E,C),C}};e=o["_"+e];var a=[],u=0;if(n)for(var b=0;b<n.length;b++){var R=i[r[b]];R?(u===0&&(u=xe()),a[b]=R(n[b])):a[b]=n[b]}return r=e(...a),r=function(E){return u!==0&&Re(u),t==="string"?E?L(M,E):"":t==="boolean"?!!E:E}(r)},He=0,We=(e,t)=>(t=t==1?ie(e.length):wt(e.length),e.subarray||e.slice||(e=new Uint8Array(e)),M.set(e,t),t),ce,yt=[],Z,ye=e=>{ce.delete(Z.get(e)),Z.set(e,null),yt.push(e)},ze=(e,t)=>{if(!ce){ce=new WeakMap;var r=Z.length;if(ce)for(var n=0;n<0+r;n++){var i=Z.get(n);i&&ce.set(i,n)}}if(r=ce.get(e)||0)return r;if(yt.length)r=yt.pop();else{try{Z.grow(1)}catch(b){throw b instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":b}r=Z.length-1}try{Z.set(r,e)}catch(b){if(!(b instanceof TypeError))throw b;if(typeof WebAssembly.Function=="function"){n=WebAssembly.Function,i={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"};for(var a={parameters:[],results:t[0]=="v"?[]:[i[t[0]]]},u=1;u<t.length;++u)a.parameters.push(i[t[u]]);t=new n(a,e)}else{for(n=[1],i=t.slice(0,1),t=t.slice(1),a={i:127,p:127,j:126,f:125,d:124,e:111},n.push(96),u=t.length,128>u?n.push(u):n.push(u%128|128,u>>7),u=0;u<t.length;++u)n.push(a[t[u]]);i=="v"?n.push(0):n.push(1,a[i]),t=[0,97,115,109,1,0,0,0,1],i=n.length,128>i?t.push(i):t.push(i%128|128,i>>7),t.push(...n),t.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),t=new WebAssembly.Module(new Uint8Array(t)),t=new WebAssembly.Instance(t,{e:{f:e}}).exports.f}Z.set(r,t)}return ce.set(e,r),r};[44].forEach(e=>{at[e]=new f(e),at[e].stack="<generic error, no stack>"}),ne=Array(4096),Yt(q,"/"),B("/tmp"),B("/home"),B("/home/web_user"),function(){B("/dev"),lt(259,{read:()=>0,write:(n,i,a,u)=>u}),Ue("/dev/null",259),$t(1280,Or),$t(1536,kr),Ue("/dev/tty",1280),Ue("/dev/tty1",1536);var e=new Uint8Array(1024),t=0,r=()=>(t===0&&(t=Ct(e).byteLength),e[--t]);Ae("random",r),Ae("urandom",r),B("/dev/shm"),B("/dev/shm/tmp")}(),function(){B("/proc");var e=B("/proc/self");B("/proc/self/fd"),Yt({Qa(){var t=zt(e,"fd",16895,73);return t.Fa={lookup(r,n){var i=P(+n);return r={parent:null,Qa:{sb:"fake"},Fa:{readlink:()=>i.path}},r.parent=r}},t}},"/proc/self/fd")}();var jr={a:(e,t,r,n)=>{re(`Assertion failed: ${e?L(M,e):""}, at: `+[t?t?L(M,t):"":"unknown filename",r,n?n?L(M,n):"":"unknown function"])},h:function(e,t){try{return e=e?L(M,e):"",$e(e,t),0}catch(r){if(typeof O>"u"||r.name!=="ErrnoError")throw r;return-r.Ja}},H:function(e,t,r){try{if(t=t?L(M,t):"",t=he(e,t),r&-8)return-28;var n=G(t,{Ra:!0}).node;return n?(e="",r&4&&(e+="r"),r&2&&(e+="w"),r&1&&(e+="x"),e&&pe(n,e)?-2:0):-44}catch(i){if(typeof O>"u"||i.name!=="ErrnoError")throw i;return-i.Ja}},i:function(e,t){try{var r=P(e);return $e(r.node,t),0}catch(n){if(typeof O>"u"||n.name!=="ErrnoError")throw n;return-n.Ja}},g:function(e){try{var t=P(e).node,r=typeof t=="string"?G(t,{Ra:!0}).node:t;if(!r.Fa.Na)throw new f(63);return r.Fa.Na(r,{timestamp:Date.now()}),0}catch(n){if(typeof O>"u"||n.name!=="ErrnoError")throw n;return-n.Ja}},b:function(e,t,r){Ge=r;try{var n=P(e);switch(t){case 0:var i=je();if(0>i)break;for(;Se[i];)i++;return Cr(n,i).fd;case 1:case 2:return 0;case 3:return n.flags;case 4:return i=je(),n.flags|=i,0;case 12:return i=je(),ve[i+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(a){if(typeof O>"u"||a.name!=="ErrnoError")throw a;return-a.Ja}},f:function(e,t){try{var r=P(e);return Pe(Te,r.path,t)}catch(n){if(typeof O>"u"||n.name!=="ErrnoError")throw n;return-n.Ja}},n:function(e,t,r){t=Me(t,r);try{if(isNaN(t))return 61;var n=P(e);if((n.flags&2097155)===0)throw new f(28);return tr(n.node,t),0}catch(i){if(typeof O>"u"||i.name!=="ErrnoError")throw i;return-i.Ja}},C:function(e,t){try{if(t===0)return-28;var r=qe("/")+1;return t<r?-68:(X("/",M,e,t),r)}catch(n){if(typeof O>"u"||n.name!=="ErrnoError")throw n;return-n.Ja}},F:function(e,t){try{return e=e?L(M,e):"",Pe(er,e,t)}catch(r){if(typeof O>"u"||r.name!=="ErrnoError")throw r;return-r.Ja}},z:function(e,t,r){try{return t=t?L(M,t):"",t=he(e,t),t=le(t),t[t.length-1]==="/"&&(t=t.substr(0,t.length-1)),B(t,r),0}catch(n){if(typeof O>"u"||n.name!=="ErrnoError")throw n;return-n.Ja}},E:function(e,t,r,n){try{t=t?L(M,t):"";var i=n&256;return t=he(e,t,n&4096),Pe(i?er:Te,t,r)}catch(a){if(typeof O>"u"||a.name!=="ErrnoError")throw a;return-a.Ja}},x:function(e,t,r,n){Ge=n;try{t=t?L(M,t):"",t=he(e,t);var i=n?je():0;return de(t,r,i).fd}catch(a){if(typeof O>"u"||a.name!=="ErrnoError")throw a;return-a.Ja}},v:function(e,t,r,n){try{if(t=t?L(M,t):"",t=he(e,t),0>=n)return-28;var i=Zt(t),a=Math.min(n,qe(i)),u=D[r+a];return X(i,M,r,n+1),D[r+a]=u,a}catch(b){if(typeof O>"u"||b.name!=="ErrnoError")throw b;return-b.Ja}},u:function(e){try{return e=e?L(M,e):"",Vt(e),0}catch(t){if(typeof O>"u"||t.name!=="ErrnoError")throw t;return-t.Ja}},G:function(e,t){try{return e=e?L(M,e):"",Pe(Te,e,t)}catch(r){if(typeof O>"u"||r.name!=="ErrnoError")throw r;return-r.Ja}},r:function(e,t,r){try{return t=t?L(M,t):"",t=he(e,t),r===0?Xt(t):r===512?Vt(t):re("Invalid flags passed to unlinkat"),0}catch(n){if(typeof O>"u"||n.name!=="ErrnoError")throw n;return-n.Ja}},q:function(e,t,r){try{if(t=t?L(M,t):"",t=he(e,t,!0),r){var n=I[r>>2]+4294967296*v[r+4>>2],i=v[r+8>>2];a=1e3*n+i/1e6,r+=16,n=I[r>>2]+4294967296*v[r+4>>2],i=v[r+8>>2],u=1e3*n+i/1e6}else var a=Date.now(),u=a;e=a;var b=G(t,{Ra:!0}).node;return b.Fa.Na(b,{timestamp:Math.max(e,u)}),0}catch(R){if(typeof O>"u"||R.name!=="ErrnoError")throw R;return-R.Ja}},l:function(e,t,r){e=new Date(1e3*Me(e,t)),v[r>>2]=e.getSeconds(),v[r+4>>2]=e.getMinutes(),v[r+8>>2]=e.getHours(),v[r+12>>2]=e.getDate(),v[r+16>>2]=e.getMonth(),v[r+20>>2]=e.getFullYear()-1900,v[r+24>>2]=e.getDay(),t=e.getFullYear(),v[r+28>>2]=(t%4!==0||t%100===0&&t%400!==0?Pr:$r)[e.getMonth()]+e.getDate()-1|0,v[r+36>>2]=-(60*e.getTimezoneOffset()),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var n=new Date(e.getFullYear(),0,1).getTimezoneOffset();v[r+32>>2]=(t!=n&&e.getTimezoneOffset()==Math.min(n,t))|0},j:function(e,t,r,n,i,a,u,b){i=Me(i,a);try{if(isNaN(i))return 61;var R=P(n);if((t&2)!==0&&(r&2)===0&&(R.flags&2097155)!==2)throw new f(2);if((R.flags&2097155)===1)throw new f(2);if(!R.Ga.ab)throw new f(43);var E=R.Ga.ab(R,e,i,t,r),C=E.Cb;return v[u>>2]=E.tb,I[b>>2]=C,0}catch(U){if(typeof O>"u"||U.name!=="ErrnoError")throw U;return-U.Ja}},k:function(e,t,r,n,i,a,u){a=Me(a,u);try{var b=P(i);if(r&2){if((b.node.mode&61440)!==32768)throw new f(43);if(!(n&2)){var R=M.slice(e,e+t);b.Ga.bb&&b.Ga.bb(b,R,a,t,n)}}}catch(E){if(typeof O>"u"||E.name!=="ErrnoError")throw E;return-E.Ja}},y:(e,t,r,n)=>{var i=new Date().getFullYear(),a=new Date(i,0,1).getTimezoneOffset();i=new Date(i,6,1).getTimezoneOffset(),I[e>>2]=60*Math.max(a,i),v[t>>2]=+(a!=i),t=u=>{var b=Math.abs(u);return`UTC${0<=u?"-":"+"}${String(Math.floor(b/60)).padStart(2,"0")}${String(b%60).padStart(2,"0")}`},e=t(a),t=t(i),i<a?(X(e,M,r,17),X(t,M,n,17)):(X(e,M,n,17),X(t,M,r,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:e=>{var t=M.length;if(e>>>=0,2147483648<e)return!1;for(var r=1;4>=r;r*=2){var n=t*(1+.2/r);n=Math.min(n,e+100663296);var i=Math;n=Math.max(e,n);e:{i=(i.min.call(i,2147483648,n+(65536-n%65536)%65536)-ke.buffer.byteLength+65535)/65536;try{ke.grow(i),Mt();var a=1;break e}catch{}a=void 0}if(a)return!0}return!1},A:(e,t)=>{var r=0;return ar().forEach((n,i)=>{var a=t+r;for(i=I[e+4*i>>2]=a,a=0;a<n.length;++a)D[i++]=n.charCodeAt(a);D[i]=0,r+=n.length+1}),0},B:(e,t)=>{var r=ar();I[e>>2]=r.length;var n=0;return r.forEach(i=>n+=i.length+1),I[t>>2]=n,0},e:function(e){try{var t=P(e);return ht(t),0}catch(r){if(typeof O>"u"||r.name!=="ErrnoError")throw r;return r.Ja}},p:function(e,t){try{var r=P(e);return D[t]=r.tty?2:j(r.mode)?3:(r.mode&61440)===40960?7:4,ve[t+2>>1]=0,k=[0,(w=0,1<=+Math.abs(w)?0<w?+Math.floor(w/4294967296)>>>0:~~+Math.ceil((w-+(~~w>>>0))/4294967296)>>>0:0)],v[t+8>>2]=k[0],v[t+12>>2]=k[1],k=[0,(w=0,1<=+Math.abs(w)?0<w?+Math.floor(w/4294967296)>>>0:~~+Math.ceil((w-+(~~w>>>0))/4294967296)>>>0:0)],v[t+16>>2]=k[0],v[t+20>>2]=k[1],0}catch(n){if(typeof O>"u"||n.name!=="ErrnoError")throw n;return n.Ja}},w:function(e,t,r,n){try{e:{var i=P(e);e=t;for(var a,u=t=0;u<r;u++){var b=I[e>>2],R=I[e+4>>2];e+=8;var E=nr(i,D,b,R,a);if(0>E){var C=-1;break e}if(t+=E,E<R)break;typeof a<"u"&&(a+=E)}C=t}return I[n>>2]=C,0}catch(U){if(typeof O>"u"||U.name!=="ErrnoError")throw U;return U.Ja}},m:function(e,t,r,n,i){t=Me(t,r);try{if(isNaN(t))return 61;var a=P(e);return rr(a,t,n),k=[a.position>>>0,(w=a.position,1<=+Math.abs(w)?0<w?+Math.floor(w/4294967296)>>>0:~~+Math.ceil((w-+(~~w>>>0))/4294967296)>>>0:0)],v[i>>2]=k[0],v[i+4>>2]=k[1],a.gb&&t===0&&n===0&&(a.gb=null),0}catch(u){if(typeof O>"u"||u.name!=="ErrnoError")throw u;return u.Ja}},D:function(e){var r;try{var t=P(e);return(r=t.Ga)!=null&&r.fsync?t.Ga.fsync(t):0}catch(n){if(typeof O>"u"||n.name!=="ErrnoError")throw n;return n.Ja}},t:function(e,t,r,n){try{e:{var i=P(e);e=t;for(var a,u=t=0;u<r;u++){var b=I[e>>2],R=I[e+4>>2];e+=8;var E=ir(i,D,b,R,a);if(0>E){var C=-1;break e}t+=E,typeof a<"u"&&(a+=E)}C=t}return I[n>>2]=C,0}catch(U){if(typeof O>"u"||U.name!=="ErrnoError")throw U;return U.Ja}}},d=function(){var r;function e(n){var i;return d=n.exports,ke=d.I,Mt(),Z=d.K,xt.unshift(d.J),ue--,(i=o.monitorRunDependencies)==null||i.call(o,ue),ue==0&&Ee&&(n=Ee,Ee=null,n()),d}var t={a:jr};if(ue++,(r=o.monitorRunDependencies)==null||r.call(o,ue),o.instantiateWasm)try{return o.instantiateWasm(t,e)}catch(n){return ae(`Module.instantiateWasm callback failed with error: ${n}`),!1}return rt||(rt=Ot("sql-wasm.wasm")?"sql-wasm.wasm":o.locateFile?o.locateFile("sql-wasm.wasm",Y):Y+"sql-wasm.wasm"),Mr(t,function(n){e(n.instance)}),{}}();o._sqlite3_free=e=>(o._sqlite3_free=d.L)(e),o._sqlite3_value_text=e=>(o._sqlite3_value_text=d.M)(e),o._sqlite3_prepare_v2=(e,t,r,n,i)=>(o._sqlite3_prepare_v2=d.N)(e,t,r,n,i),o._sqlite3_step=e=>(o._sqlite3_step=d.O)(e),o._sqlite3_reset=e=>(o._sqlite3_reset=d.P)(e),o._sqlite3_exec=(e,t,r,n,i)=>(o._sqlite3_exec=d.Q)(e,t,r,n,i),o._sqlite3_finalize=e=>(o._sqlite3_finalize=d.R)(e),o._sqlite3_column_name=(e,t)=>(o._sqlite3_column_name=d.S)(e,t),o._sqlite3_column_text=(e,t)=>(o._sqlite3_column_text=d.T)(e,t),o._sqlite3_column_type=(e,t)=>(o._sqlite3_column_type=d.U)(e,t),o._sqlite3_errmsg=e=>(o._sqlite3_errmsg=d.V)(e),o._sqlite3_clear_bindings=e=>(o._sqlite3_clear_bindings=d.W)(e),o._sqlite3_value_blob=e=>(o._sqlite3_value_blob=d.X)(e),o._sqlite3_value_bytes=e=>(o._sqlite3_value_bytes=d.Y)(e),o._sqlite3_value_double=e=>(o._sqlite3_value_double=d.Z)(e),o._sqlite3_value_int=e=>(o._sqlite3_value_int=d._)(e),o._sqlite3_value_type=e=>(o._sqlite3_value_type=d.$)(e),o._sqlite3_result_blob=(e,t,r,n)=>(o._sqlite3_result_blob=d.aa)(e,t,r,n),o._sqlite3_result_double=(e,t)=>(o._sqlite3_result_double=d.ba)(e,t),o._sqlite3_result_error=(e,t,r)=>(o._sqlite3_result_error=d.ca)(e,t,r),o._sqlite3_result_int=(e,t)=>(o._sqlite3_result_int=d.da)(e,t),o._sqlite3_result_int64=(e,t,r)=>(o._sqlite3_result_int64=d.ea)(e,t,r),o._sqlite3_result_null=e=>(o._sqlite3_result_null=d.fa)(e),o._sqlite3_result_text=(e,t,r,n)=>(o._sqlite3_result_text=d.ga)(e,t,r,n),o._sqlite3_aggregate_context=(e,t)=>(o._sqlite3_aggregate_context=d.ha)(e,t),o._sqlite3_column_count=e=>(o._sqlite3_column_count=d.ia)(e),o._sqlite3_data_count=e=>(o._sqlite3_data_count=d.ja)(e),o._sqlite3_column_blob=(e,t)=>(o._sqlite3_column_blob=d.ka)(e,t),o._sqlite3_column_bytes=(e,t)=>(o._sqlite3_column_bytes=d.la)(e,t),o._sqlite3_column_double=(e,t)=>(o._sqlite3_column_double=d.ma)(e,t),o._sqlite3_bind_blob=(e,t,r,n,i)=>(o._sqlite3_bind_blob=d.na)(e,t,r,n,i),o._sqlite3_bind_double=(e,t,r)=>(o._sqlite3_bind_double=d.oa)(e,t,r),o._sqlite3_bind_int=(e,t,r)=>(o._sqlite3_bind_int=d.pa)(e,t,r),o._sqlite3_bind_text=(e,t,r,n,i)=>(o._sqlite3_bind_text=d.qa)(e,t,r,n,i),o._sqlite3_bind_parameter_index=(e,t)=>(o._sqlite3_bind_parameter_index=d.ra)(e,t),o._sqlite3_sql=e=>(o._sqlite3_sql=d.sa)(e),o._sqlite3_normalized_sql=e=>(o._sqlite3_normalized_sql=d.ta)(e),o._sqlite3_changes=e=>(o._sqlite3_changes=d.ua)(e),o._sqlite3_close_v2=e=>(o._sqlite3_close_v2=d.va)(e),o._sqlite3_create_function_v2=(e,t,r,n,i,a,u,b,R)=>(o._sqlite3_create_function_v2=d.wa)(e,t,r,n,i,a,u,b,R),o._sqlite3_open=(e,t)=>(o._sqlite3_open=d.xa)(e,t);var wt=o._malloc=e=>(wt=o._malloc=d.ya)(e),Je=o._free=e=>(Je=o._free=d.za)(e);o._RegisterExtensionFunctions=e=>(o._RegisterExtensionFunctions=d.Aa)(e);var ur=(e,t)=>(ur=d.Ba)(e,t),Re=e=>(Re=d.Ca)(e),ie=e=>(ie=d.Da)(e),xe=()=>(xe=d.Ea)();o.stackSave=()=>xe(),o.stackRestore=e=>Re(e),o.stackAlloc=e=>ie(e),o.cwrap=(e,t,r,n)=>{var i=!r||r.every(a=>a==="number"||a==="boolean");return t!=="string"&&i&&!n?o["_"+e]:(...a)=>Gr(e,t,r,a)},o.addFunction=ze,o.removeFunction=ye,o.UTF8ToString=it,o.ALLOC_NORMAL=He,o.allocate=We,o.allocateUTF8OnStack=dt;var Be;Ee=function e(){Be||lr(),Be||(Ee=e)};function lr(){function e(){var r;if(!Be&&(Be=!0,o.calledRun=!0,!At)){if(o.noFSInit||or||(or=!0,o.stdin=o.stdin,o.stdout=o.stdout,o.stderr=o.stderr,o.stdin?Ae("stdin",o.stdin):ft("/dev/tty","/dev/stdin"),o.stdout?Ae("stdout",null,o.stdout):ft("/dev/tty","/dev/stdout"),o.stderr?Ae("stderr",null,o.stderr):ft("/dev/tty1","/dev/stderr"),de("/dev/stdin",0),de("/dev/stdout",1),de("/dev/stderr",1)),Ht=!1,nt(xt),(r=o.onRuntimeInitialized)==null||r.call(o),o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;){var t=o.postRun.shift();Ft.unshift(t)}nt(Ft)}}if(!(0<ue)){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)Tr();nt(Rt),0<ue||(o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),e()},1)):e())}}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);0<o.preInit.length;)o.preInit.pop()();return lr(),x}),c)};T.exports=h,T.exports.default=h}(ee)),ee.exports}var Er=vr(),gr=oe(Er);const qr=`
PRAGMA foreign_keys = ON;

CREATE TABLE Users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    email TEXT UNIQUE NOT NULL
);

CREATE TABLE Posts (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    title TEXT NOT NULL,
    content TEXT NOT NULL,
    FOREIGN KEY (user_id) REFERENCES Users(id) ON DELETE CASCADE
);

CREATE TABLE Comments (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    post_id INTEGER NOT NULL,
    user_id INTEGER NOT NULL,
    content TEXT NOT NULL,
    FOREIGN KEY (post_id) REFERENCES Posts(id) ON DELETE CASCADE,
    FOREIGN KEY (user_id) REFERENCES Users(id) ON DELETE CASCADE
);

INSERT INTO Users (name, email) VALUES
('Alice', 'alice@gmail.com'),
('Bob', 'bob@hotmail.com'),
('Charlie', 'charlie@yahoo.com'),
('David', 'david@outlook.com'),
('Emma', 'emma@gmail.com'),
('Frank', 'frank@protonmail.com'),
('Grace', 'grace@hotmail.com'),
('Henry', 'henry@icloud.com'),
('Ivy', 'ivy@gmail.com'),
('Jack', 'jack@yahoo.com'),
('Kara', 'kara@outlook.com'),
('Liam', 'liam@protonmail.com'),
('Mia', 'mia@hotmail.com'),
('Nathan', 'nathan@gmail.com'),
('Olivia', 'olivia@yahoo.com');

INSERT INTO Posts (user_id, title, content) VALUES
(1, 'Hello World', 'This is my first post!'),
(2, 'SQLite Relationships', 'Understanding foreign keys in SQLite.'),
(3, 'My Coding Journey', 'Sharing my experience learning to code.'),
(4, 'Best Programming Languages', 'Which one should you learn first?'),
(5, 'How to Learn SQL', 'A beginner-friendly SQL guide.'),
(6, 'Web Development Tips', 'Tips for front-end and back-end developers.'),
(7, 'The Power of Python', 'Why Python is a great choice for developers.'),
(8, 'Functional Programming', 'Understanding FP concepts.'),
(9, 'Setting Up a Server', 'How to deploy your own website.'),
(10, 'The Future of AI', 'Exploring advancements in artificial intelligence.'),
(11, 'My Favorite JavaScript Libraries', 'Some useful libraries to check out.'),
(12, 'Linux for Developers', 'Why Linux is great for coding.'),
(13, 'Docker Basics', 'Getting started with containerization.'),
(14, 'Cybersecurity 101', 'Understanding basic security principles.'),
(15, 'React vs Vue', 'Which frontend framework should you choose?');

INSERT INTO Comments (post_id, user_id, content) VALUES
(1, 2, 'Great post, Alice!'),
(2, 3, 'Nice explanation, Bob!'),
(3, 4, 'Thanks for sharing your journey!'),
(4, 5, 'I think Python is the best for beginners.'),
(5, 6, 'This guide really helped me!'),
(6, 7, 'Awesome tips, I will apply them!'),
(7, 8, 'I love Python too!'),
(8, 9, 'Functional programming is amazing.'),
(9, 10, 'Thanks for the tutorial!'),
(10, 11, 'AI is advancing so fast!'),
(11, 12, 'I use React, but Vue is interesting.'),
(12, 13, 'Linux is my favorite OS.'),
(13, 14, 'Docker changed my workflow completely.'),
(14, 15, 'Security is super important.'),
(15, 1, 'I prefer React, but both are great!');
`,Q=class Q{constructor(p,c=!1){we(this,"db");we(this,"firstTable",null);we(this,"tablesSchema",{});we(this,"indexesSchema",[]);this.db=p,c||this.db.exec(qr),this.getDatabaseSchema()}static async initSQLjs(){return Q.sqlJsStatic?Q.sqlJsStatic:await gr({locateFile:p=>`/wasm/${p}`})}static async create(){const p=await Q.initSQLjs(),c=new p.Database;return new Q(c,!1)}static async open(p){const c=await Q.initSQLjs(),h=new c.Database(p);return new Q(h,!0)}exec(p){const c=this.db.exec(p),h=p.toUpperCase();let y=!1;return Sr(h)&&(this.getDatabaseSchema(),y=!0),[c,y]}download(){return this.db.export()}getTableInfo(p){const[c]=this.exec(`PRAGMA table_info(${p})`),[h]=this.exec(`PRAGMA foreign_key_list("${p}")`),y={};if(h.length>0)for(const A of h[0].values)y[A[3]]=!0;const g=[];if(c.length>0)for(const A of c[0].values){const[x,$,o,be,se,te]=A;g.push({name:$||"Unknown",cid:x,type:o||"Unknown",dflt_value:se,IsNullable:be===0,isPrimaryKey:te===1,isForeignKey:y[$]??!1})}else console.error("No table info found");return g}getDatabaseSchema(){this.tablesSchema={},this.indexesSchema=[],this.firstTable=null;const[p]=this.exec("SELECT type, name, tbl_name FROM sqlite_master WHERE name != 'sqlite_sequence'");if(p.length!==0){for(const c of p[0].values){const[h,y,g]=c;if(h==="table"){const A=this.getTableInfo(g);this.tablesSchema[g]={schema:A}}else h==="index"&&this.indexesSchema.push({name:y,tableName:g})}this.firstTable=Object.keys(this.tablesSchema)[0]}}getMaxSizeOfTable(p,c){const[h]=this.exec(`
      SELECT COUNT(*) FROM ${p} 
      ${Ye(c)}
    `);return h.length===0?0:Math.ceil(h[0].values[0][0])}getTableData(p,c,h,y,g){const[A]=this.exec(`
      SELECT * FROM ${p} 
      ${Ye(y)} 
      ${vt(g)} 
      LIMIT ${c} OFFSET ${h}
    `);if(A.length===0)return[];const x=this.getMaxSizeOfTable(p,y);return[A,x]}update(p,c,h,y){try{const g=c.map(o=>`${o} = ?`).join(", "),A=c.map(o=>`${o} = ?`).join(" AND "),x=`UPDATE ${p} SET ${g} WHERE ${A}`,$=this.db.prepare(x);$.run([...h,...y]),$.free()}catch(g){throw new Error(`Error while updating table ${p}: ${g}`)}}delete(p,c,h){try{const y=c.map(x=>`${x} = ?`).join(" AND "),g=`DELETE FROM ${p} WHERE ${y}`,A=this.db.prepare(g);A.run([...h]),A.free()}catch(y){throw new Error(`Error while deleting from table ${p}: ${y}`)}}insert(p,c,h){try{const y=`INSERT INTO ${p} (${c.join(", ")}) VALUES (${c.map(()=>"?").join(", ")})`,g=this.db.prepare(y);g.run([...h]),g.free()}catch(y){throw new Error(`Error while inserting into table ${p}: ${y}`)}}export({table:p,offset:c,limit:h,filters:y,sorters:g}){let A=`SELECT * FROM ${p} ${Ye(y)} ${vt(g)}`;c&&h&&(A+=` LIMIT ${h} OFFSET ${c}`);const[x]=this.exec(A);return x}getTableAsCsv(p){const c=this.export({table:p});return Et(c[0].columns,c[0].values)}getCurrentDataAsCsv(p,c,h,y,g){const A=this.export({table:p,filters:y,sorters:g,limit:c,offset:h});return Et(A[0].columns,A[0].values)}};we(Q,"sqlJsStatic");let Fe=Q;function Sr(T){return T.match(/^\s*(CREATE|DROP|ALTER)\s/i)!==null}function Ye(T){return T?`WHERE ${Object.entries(T).map(([c,h])=>`${c} LIKE '%${h}%' ESCAPE '\\'`).join(" AND ")}`:""}function vt(T){return T?`ORDER BY ${Object.entries(T).map(([c,h])=>`${c} ${h}`).join(", ")}`:""}function Et(T,p){const c=T.map(y=>`"${y}"`).join(","),h=p.map(y=>T.map(g=>`"${y[T.indexOf(g)]}"`).join(","));return[c,...h].join(`
`)}class gt extends Error{constructor(p){super(p),this.name="CustomQueryError"}}let N=null;self.onmessage=async T=>{const{action:p,payload:c}=T.data;if(p==="init"){N=await Fe.create(),self.postMessage({action:"initComplete",payload:{tableSchema:N.tablesSchema,indexSchema:N.indexesSchema,currentTable:N.firstTable}});return}if(N===null){self.postMessage({action:"queryError",payload:"Database not initialized"});return}try{switch(p){case"openFile":{N=await Fe.open(new Uint8Array(c.file)),self.postMessage({action:"initComplete",payload:{tableSchema:N.tablesSchema,indexSchema:N.indexesSchema,currentTable:N.firstTable}});break}case"refresh":{const{currentTable:h,limit:y,offset:g,filters:A,sorters:x}=c,[$,o]=N.getTableData(h,y,g,A,x);self.postMessage({action:"queryComplete",payload:{results:$,maxSize:o}});break}case"exec":{try{const{query:h,currentTable:y,limit:g,offset:A,filters:x,sorters:$}=c,[o,be]=N.exec(h);if(be)self.postMessage({action:"updateInstance",payload:{tableSchema:N.tablesSchema,indexSchema:N.indexesSchema}});else if(o.length>0)self.postMessage({action:"customQueryComplete",payload:{results:o}});else{const[se,te]=N.getTableData(y,g,A,x,$);self.postMessage({action:"queryComplete",payload:{results:se,maxSize:te}})}}catch(h){if(h instanceof Error)throw new gt(h.message)}break}case"getTableData":{const{currentTable:h,limit:y,offset:g,filters:A,sorters:x}=c,[$,o]=N.getTableData(h,y,g,A,x);self.postMessage({action:"queryComplete",payload:{results:$,maxSize:o}});break}case"download":{const h=N.download();self.postMessage({action:"downloadComplete",payload:{bytes:h}});break}case"update":{const{table:h,columns:y,values:g,whereValues:A}=c;N.update(h,y,g,A),self.postMessage({action:"updateComplete",payload:{type:"updated"}});break}case"delete":{const{table:h,columns:y,values:g}=c;N.delete(h,y,g),self.postMessage({action:"updateComplete",payload:{type:"deleted"}});break}case"insert":{const{table:h,columns:y,values:g}=c;N.insert(h,y,g),self.postMessage({action:"insertComplete"});break}case"export":{const{table:h,filters:y,sorters:g,limit:A,offset:x,exportType:$}=c;let o;$==="table"?o=N.getTableAsCsv(h):o=N.getCurrentDataAsCsv(h,A,x,y,g),self.postMessage({action:"exportComplete",payload:{results:o}});break}default:console.warn("Unknown worker action:",p)}}catch(h){h instanceof Error?self.postMessage({action:"queryError",payload:{error:{message:h.message,isCustomQueryError:h instanceof gt}}}):self.postMessage({action:"queryError",payload:{error:{message:"Unknown error",isCustomQueryError:!1}}})}}})();
