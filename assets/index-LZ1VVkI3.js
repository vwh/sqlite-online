import{c as y,j as l,r as S,R as dt}from"./react-DTVBiPTP.js";import{c as Tt}from"./react-dom-Bic8mof3.js";import{t as we,T as Et}from"./sonner-CNIVfq52.js";import{C as It,a as Lt,I as zt,S as kt,M as $t,D as xe,b as Rt,G as Dt,K as At,c as Pt,d as Ot,e as Mt,T as Ft,H as Bt,f as Ut,g as Qt,h as He,i as mt,j as Ht,k as Vt,l as ut,m as Gt,n as ye,o as Wt,p as Kt,q as qt,F as st,L as ft,P as Qe,r as Se,s as ot,t as Xt,u as xt,A as Yt,v as Jt,w as Zt,x as es,y as ts,z as lt,B as ss,X as ls,E as as}from"./lucide-react-DGpc7iMN.js";import{c as at}from"./zustand-B3kWvAp4.js";import{l as ct}from"./lodash-BkzDGCz7.js";import{R as ns,T as rs,C as is,L as os,S as cs,P as ds,a as ms,I as us,V as fs,b as xs,c as hs,d as ps,e as bs,f as gs,g as js,h as Ns,i as ys,j as vs,k as ws,l as Ss,m as _s,n as Cs}from"./@radix-ui-8uMHHbNX.js";import{c as Ts}from"./clsx-B-dksMZM.js";import{t as Es}from"./tailwind-merge-AdmevC4f.js";import{c as Is}from"./class-variance-authority-Dp3B9jqt.js";import{P as Ls,a as zs,b as ks}from"./react-resizable-panels-CamTKsLz.js";import{R as $s,d as Rs}from"./@uiw-DR9DUvrx.js";import{G as Ds,I as As,r as Ps}from"./@codemirror-BjKk2IdN.js";import"./scheduler-BNqrtbQi.js";import"./aria-hidden-DQ5UC2Eg.js";import"./react-remove-scroll-B-WdhdOJ.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-DA1CCpBb.js";import"./react-style-singleton-BxmxDrzT.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-561ZEsL5.js";import"./use-callback-ref-BmDWUZVO.js";import"./@floating-ui-DoSlFJNG.js";import"./@babel-Cv5OCJ0e.js";import"./@lezer-E7PapBHi.js";import"./crelt-C8TCjufn.js";import"./@marijn-DXwl3gUT.js";import"./style-mod-Bc2inJdb.js";import"./w3c-keyname-Vcq4gwWv.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();function Os(){const t=y.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=l.jsx(Et,{position:"bottom-center",toastOptions:{className:"custom-toast",duration:2e3,style:{borderRadius:"0.5rem",fontSize:"0.875rem",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:"1px solid var(--border)",background:"var(--background)",color:"var(--foreground)"}}}),t[0]=e):e=t[0],e}function je(t,e={}){return typeof t=="string"?we(l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Lt,{className:"h-5 w-5 text-green-500"}),l.jsx("div",{className:"flex-1 capitalize",children:t})]}),{style:{borderLeft:"4px solid #22c55e",background:"var(--background)"},...e}):we(t,{style:{borderLeft:"4px solid #22c55e",background:"var(--background)"},...e})}function Y(t,e={}){return typeof t=="string"?we(l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(It,{className:"h-5 w-5 text-red-500"}),l.jsx("div",{className:"flex-1 capitalize",children:t})]}),{style:{borderLeft:"4px solid #ef4444",background:"var(--background)"},...e}):we(t,{style:{borderLeft:"4px solid #ef4444",background:"var(--background)"},...e})}function Ms(t,e={}){return we(l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(zt,{className:"h-5 w-5 text-blue-500"}),l.jsx("div",{className:"flex-1 capitalize",children:t})]}),{style:{borderLeft:"4px solid #3b82f6",background:"var(--background)"},...e})}const Fs={theme:"system",setTheme:()=>null},ht=S.createContext(Fs);function Bs(t){const e=y.c(20);let s,a,n,r;e[0]!==t?({children:s,defaultTheme:n,storageKey:r,...a}=t,e[0]=t,e[1]=s,e[2]=a,e[3]=n,e[4]=r):(s=e[1],a=e[2],n=e[3],r=e[4]);const i=n===void 0?"system":n,o=r===void 0?"vite-ui-theme":r;let c;e[5]!==i||e[6]!==o?(c=()=>localStorage.getItem(o)||i,e[5]=i,e[6]=o,e[7]=c):c=e[7];const[m,d]=S.useState(c);let x,u;e[8]!==m?(x=()=>{const g=window.document.documentElement;if(g.classList.remove("light","dark"),m==="system"){const j=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";g.classList.add(j);return}g.classList.add(m)},u=[m],e[8]=m,e[9]=x,e[10]=u):(x=e[9],u=e[10]),S.useEffect(x,u);let f;e[11]!==o?(f=g=>{localStorage.setItem(o,g),d(g)},e[11]=o,e[12]=f):f=e[12];let h;e[13]!==f||e[14]!==m?(h={theme:m,setTheme:f},e[13]=f,e[14]=m,e[15]=h):h=e[15];const b=h;let p;return e[16]!==s||e[17]!==a||e[18]!==b?(p=l.jsx(ht.Provider,{...a,value:b,children:s}),e[16]=s,e[17]=a,e[18]=b,e[19]=p):p=e[19],p}const pt=()=>{const t=S.useContext(ht);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},te=(t,e,s)=>{const a=y.c(5),n=s===void 0?!1:s;let r,i;a[0]!==e||a[1]!==n||a[2]!==t?(r=()=>{const o=c=>{const m=t.split("+"),d=m.includes("ctrl");let x;x=c.key,n||(x=x.toLowerCase());const u=c.ctrlKey||!d,f=m.some(h=>h==="ctrl"?!1:n?h===c.key:h.toLowerCase()===x);u&&f&&(c.preventDefault(),c.stopPropagation(),e())};return window.addEventListener("keydown",o),()=>{window.removeEventListener("keydown",o)}},i=[t,e,n],a[0]=e,a[1]=n,a[2]=t,a[3]=r,a[4]=i):(r=a[3],i=a[4]),S.useEffect(r,i)},N=at(t=>({tablesSchema:{},indexesSchema:[],currentTable:null,data:null,columns:null,maxSize:1,isDatabaseLoading:!1,isDataLoading:!1,errorMessage:null,filters:null,sorters:null,limit:50,offset:0,customQuery:void 0,customQueryObject:null,setTablesSchema:e=>t({tablesSchema:e}),setIndexesSchema:e=>t({indexesSchema:e}),setCurrentTable:e=>t({currentTable:e}),setData:e=>t({data:e}),setColumns:e=>t({columns:e}),setMaxSize:e=>t({maxSize:e}),setIsDatabaseLoading:e=>t({isDatabaseLoading:e}),setIsDataLoading:e=>t({isDataLoading:e}),setErrorMessage:e=>t({errorMessage:e}),setFilters:e=>t({filters:e}),setSorters:e=>t({sorters:e}),setLimit:e=>t({limit:e}),setOffset:e=>t({offset:e}),setCustomQuery:e=>t({customQuery:e}),setCustomQueryObject:e=>t({customQueryObject:e}),resetPagination:()=>t({offset:0})})),ee=at(t=>{const e=ct.debounce(a=>{t({schemaPanelSize:a})},200),s=ct.debounce(a=>{t({dataPanelSize:a})},200);return{schemaPanelSize:25,dataPanelSize:75,editValues:[],isInserting:!1,setSchemaPanelSize:e,setDataPanelSize:s,setEditValues:a=>t({editValues:a}),setIsInserting:a=>t({isInserting:a})}}),bt=S.createContext(void 0),Us=t=>{const e=y.c(12),{children:s}=t,[a,n]=S.useState(null),[r,i]=S.useState(!1),o=a!==null||r;let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=(_,w,v)=>{i(!1),n({data:_,index:w,primaryValue:v})},e[0]=c):c=e[0];const m=c;let d;e[1]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{n(null),i(!0)},e[1]=d):d=e[1];const x=d;let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{i(!1),n(null)},e[2]=u):u=e[2];const f=u;let h;e[3]===Symbol.for("react.memo_cache_sentinel")?(h=()=>x(),e[3]=h):h=e[3],te("ctrl+i",h,!0);let b;e[4]===Symbol.for("react.memo_cache_sentinel")?(b=()=>f(),e[4]=b):b=e[4],te("ctrl+`",b,!0);let p;e[5]!==o||e[6]!==r||e[7]!==a?(p={handleRowClick:m,handleInsert:x,isEditing:o,selectedRowObject:a,isInserting:r,setIsInserting:i,setSelectedRowObject:n,handleCloseEdit:f},e[5]=o,e[6]=r,e[7]=a,e[8]=p):p=e[8];const g=p;let j;return e[9]!==s||e[10]!==g?(j=l.jsx(bt.Provider,{value:g,children:s}),e[9]=s,e[10]=g,e[11]=j):j=e[11],j},he=()=>{const t=S.useContext(bt);if(t===void 0)throw new Error("usePanelManager must be used within a PanelProvider");return t},gt=S.createContext(void 0),Qs=t=>{const e=y.c(118),{children:s}=t,a=S.useRef(null),n=N(Hs),r=N(Vs),i=N(Gs),o=N(Ws),c=N(Ks),m=N(qs),d=N(Xs),x=N(Ys),u=N(Js),f=N(Zs),h=N(el),b=N(tl),p=N(sl),g=N(ll),j=N(al),_=N(nl),w=N(rl),v=N(il),C=N(ol),$=N(cl),E=N(dl),T=N(ml),z=N(ul),R=N(fl),{selectedRowObject:I,setSelectedRowObject:k,setIsInserting:D,handleCloseEdit:U}=he(),[H,F]=S.useState(!0);let W;e[0]!==U||e[1]!==m||e[2]!==i||e[3]!==c||e[4]!==T||e[5]!==o||e[6]!==f||e[7]!==v||e[8]!==r||e[9]!==u||e[10]!==x||e[11]!==D||e[12]!==d||e[13]!==w||e[14]!==k||e[15]!==C||e[16]!==n?(W=()=>(a.current=new Worker(new URL("/assets/sqliteWorker-BvS33FcY.js",import.meta.url),{type:"module"}),a.current.onmessage=L=>{var q,Z,ge;const M=L.data,{action:A}=M;if(A==="initComplete"){const{payload:P}=M;n(P.tableSchema),r(P.indexSchema),i(P.currentTable),m(P.tableSchema[P.currentTable].schema.map(xl)),v(null),C(null),k(null),D(!1),T(null),c(""),w(0),x(!1)}else if(A==="queryComplete"){const{payload:P}=M;d(P.maxSize);const X=P.results;if(!X)o(null);else{const ae=((q=X[0])==null?void 0:q.values)||[];ae.length!==0?o(ae):o(null)}u(!1)}else if(A==="customQueryComplete"){const{payload:P}=M,X=P.results;if(!X)o(null);else{const ae=((Z=X[0])==null?void 0:Z.values)||[];ae.length!==0?T({data:ae,columns:((ge=X[0])==null?void 0:ge.columns)||[]}):T(null)}u(!1),f(null)}else if(A==="updateInstance"){const{payload:P}=M;n(P.tableSchema),r(P.indexSchema),u(!1),f(null),je("Database schema updated successfully")}else if(A==="updateComplete"){const{payload:P}=M;f(null),U(),je(`Row ${P.type} successfully`)}else if(A==="insertComplete")f(null),U(),je("Row inserted successfully");else if(A==="downloadComplete"){const{payload:P}=M,X=new Blob([P.bytes],{type:"application/octet-stream"}),ae=URL.createObjectURL(X),de=document.createElement("a");de.href=ae,de.download="database.sqlite",de.click(),je("Database downloaded successfully")}else if(A==="exportComplete"){const{payload:P}=M,X=new Blob([P.results],{type:"text/csv"}),ae=URL.createObjectURL(X),de=document.createElement("a");de.href=ae,de.download="export.csv",de.click(),je("Database exported successfully")}else if(A==="queryError"){const{payload:P}=M;console.error("Worker error:",P.error),u(!1),P.error.isCustomQueryError&&f(P.error.message),Y(P.error.message)}else console.warn("Unknown action:",A)},x(!0),a.current.postMessage({action:"init"}),()=>{var L;(L=a.current)==null||L.terminate()}),e[0]=U,e[1]=m,e[2]=i,e[3]=c,e[4]=T,e[5]=o,e[6]=f,e[7]=v,e[8]=r,e[9]=u,e[10]=x,e[11]=D,e[12]=d,e[13]=w,e[14]=k,e[15]=C,e[16]=n,e[17]=W):W=e[17];let G;e[18]!==U||e[19]!==m||e[20]!==i||e[21]!==T||e[22]!==o||e[23]!==f||e[24]!==v||e[25]!==r||e[26]!==u||e[27]!==x||e[28]!==D||e[29]!==d||e[30]!==w||e[31]!==k||e[32]!==C||e[33]!==n?(G=[m,w,x,n,i,r,T,o,d,u,f,v,C,k,U,D],e[18]=U,e[19]=m,e[20]=i,e[21]=T,e[22]=o,e[23]=f,e[24]=v,e[25]=r,e[26]=u,e[27]=x,e[28]=D,e[29]=d,e[30]=w,e[31]=k,e[32]=C,e[33]=n,e[34]=G):G=e[34],S.useEffect(W,G);let V,Q;e[35]!==j||e[36]!==h||e[37]!==H||e[38]!==g||e[39]!==u||e[40]!==$||e[41]!==b?(V=()=>{if(!j)return;const L=setTimeout(()=>{var ge,P,X;if(!a.current){Y("Worker is not initialized");return}u(!0);let M=50;const A=(ge=document.getElementById("tableHeader"))==null?void 0:ge.getBoundingClientRect().height,q=(P=document.getElementById("dataSection"))==null?void 0:P.getBoundingClientRect().height,Z=(X=document.getElementById("paginationControls"))==null?void 0:X.getBoundingClientRect().height;H?(F(!1),q&&Z&&(M=Math.floor((q-Z-47.5)/33))):A&&q&&Z&&(M=Math.floor((q-A-Z)/33)),$(M),a.current.postMessage({action:"getTableData",payload:{currentTable:j,filters:h,sorters:b,limit:M,offset:g}})},100);return()=>clearTimeout(L)},Q=[j,h,b,H,g,$,u],e[35]=j,e[36]=h,e[37]=H,e[38]=g,e[39]=u,e[40]=$,e[41]=b,e[42]=V,e[43]=Q):(V=e[42],Q=e[43]),S.useEffect(V,Q);let ne;e[44]===Symbol.for("react.memo_cache_sentinel")?(ne=L=>{Ms("Opening database");const M=new FileReader;M.onload=A=>{var Z;const q=(Z=A.target)==null?void 0:Z.result;if(!a.current){Y("Worker is not initialized");return}a.current.postMessage({action:"openFile",payload:{file:q}})},M.readAsArrayBuffer(L)},e[44]=ne):ne=e[44];const pe=ne;let re;e[45]===Symbol.for("react.memo_cache_sentinel")?(re=L=>{var A;const M=(A=L.target.files)==null?void 0:A[0];if(!M){Y("No file selected");return}pe(M)},e[45]=re):re=e[45];const _e=re;let ie;e[46]===Symbol.for("react.memo_cache_sentinel")?(ie=()=>{if(!a.current){Y("Worker is not initialized");return}a.current.postMessage({action:"download"})},e[46]=ie):ie=e[46];const be=ie;let oe;e[47]!==E||e[48]!==m||e[49]!==i||e[50]!==v||e[51]!==D||e[52]!==d||e[53]!==k||e[54]!==C||e[55]!==R?(oe=L=>{v(null),C(null),E(),d(0),k(null),D(!1),i(L),m(R[L].schema.map(hl))},e[47]=E,e[48]=m,e[49]=i,e[50]=v,e[51]=D,e[52]=d,e[53]=k,e[54]=C,e[55]=R,e[56]=oe):oe=e[56];const ce=oe;let Ce;e[57]!==E||e[58]!==v?(Ce=(L,M)=>{const q={...N.getState().filters||{},[L]:M};v(q),E()},e[57]=E,e[58]=v,e[59]=Ce):Ce=e[59];const Ge=Ce;let Te;e[60]!==C?(Te=L=>{const q=((N.getState().sorters||{})[L]||"asc")==="asc"?"desc":"asc",Z={[L]:q};C(Z)},e[60]=C,e[61]=Te):Te=e[61];const We=Te;let Ee;e[62]!==p||e[63]!==_||e[64]!==w||e[65]!==k?(Ee=L=>{const M=N.getState().offset;if(typeof L=="number")w(L);else if(L==="next"){const A=M+p;A>=_?_-p<0&&w(0):w(A)}else if(L==="prev"){const A=M-p;A<0?w(0):w(A)}else L==="first"?w(0):L==="last"&&(_-p<0?w(0):w(_-p));k(null)},e[62]=p,e[63]=_,e[64]=w,e[65]=k,e[66]=Ee):Ee=e[66];const K=Ee;let Ie;e[67]!==j||e[68]!==z||e[69]!==h||e[70]!==p||e[71]!==g||e[72]!==b?(Ie=L=>{if(!a.current){Y("Worker is not initialized");return}a.current.postMessage({action:"export",payload:{table:j,offset:g,limit:p,filters:h,sorters:b,customQuery:z,exportType:L}})},e[67]=j,e[68]=z,e[69]=h,e[70]=p,e[71]=g,e[72]=b,e[73]=Ie):Ie=e[73];const Ke=Ie;let Le;e[74]!==j||e[75]!==z||e[76]!==h||e[77]!==p||e[78]!==g||e[79]!==u||e[80]!==b?(Le=()=>{if(!a.current){Y("Worker is not initialized");return}const L=z;if(!L)return;const A=L.replace(/--.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"").split(";").map(pl).filter(bl);for(const q of A)u(!0),a.current.postMessage({action:"exec",payload:{query:q,currentTable:j,filters:h,sorters:b,limit:p,offset:g}})},e[74]=j,e[75]=z,e[76]=h,e[77]=p,e[78]=g,e[79]=u,e[80]=b,e[81]=Le):Le=e[81];const ue=Le;let ze;e[82]!==j||e[83]!==h||e[84]!==p||e[85]!==g||e[86]!==(I==null?void 0:I.primaryValue)||e[87]!==u||e[88]!==b?(ze=L=>{if(!a.current){Y("Worker is not initialized");return}if(!(I!=null&&I.primaryValue)&&L!=="insert"){Y(L==="delete"?"No row selected to delete":`No values provided to ${L}`);return}u(!0),a.current.postMessage({action:L,payload:{table:j,columns:N.getState().columns,values:ee.getState().editValues,primaryValue:I==null?void 0:I.primaryValue}}),a.current.postMessage({action:"refresh",payload:{currentTable:j,offset:g,limit:p,filters:h,sorters:b}})},e[82]=j,e[83]=h,e[84]=p,e[85]=g,e[86]=I==null?void 0:I.primaryValue,e[87]=u,e[88]=b,e[89]=ze):ze=e[89];const J=ze;let ke;e[90]===Symbol.for("react.memo_cache_sentinel")?(ke=()=>be(),e[90]=ke):ke=e[90],te("ctrl+s",ke);let $e;e[91]!==J?($e=()=>J("insert"),e[91]=J,e[92]=$e):$e=e[92],te("ctrl+I",$e,!0);let Re;e[93]!==J?(Re=()=>J("update"),e[93]=J,e[94]=Re):Re=e[94],te("ctrl+u",Re);let De;e[95]!==J?(De=()=>J("delete"),e[95]=J,e[96]=De):De=e[96],te("ctrl+d",De);let Ae;e[97]!==ue?(Ae=()=>ue(),e[97]=ue,e[98]=Ae):Ae=e[98],te("ctrl+q",Ae);let Pe;e[99]!==K?(Pe=()=>K("next"),e[99]=K,e[100]=Pe):Pe=e[100],te("ctrl+ArrowRight",Pe);let Oe;e[101]!==K?(Oe=()=>K("first"),e[101]=K,e[102]=Oe):Oe=e[102],te("ctrl+ArrowUp",Oe);let Me;e[103]!==K?(Me=()=>K("last"),e[103]=K,e[104]=Me):Me=e[104],te("ctrl+ArrowDown",Me);let Fe;e[105]!==K?(Fe=()=>K("prev"),e[105]=K,e[106]=Fe):Fe=e[106],te("ctrl+ArrowLeft",Fe);let Be;e[107]!==J||e[108]!==Ke||e[109]!==K||e[110]!==ue||e[111]!==Ge||e[112]!==We||e[113]!==ce?(Be={workerRef:a,handleFileUpload:pe,handleFileChange:_e,handleDownload:be,handleTableChange:ce,handleQueryFilter:Ge,handleQuerySorter:We,handlePageChange:K,handleExport:Ke,handleQueryExecute:ue,handleEditSubmit:J},e[107]=J,e[108]=Ke,e[109]=K,e[110]=ue,e[111]=Ge,e[112]=We,e[113]=ce,e[114]=Be):Be=e[114];const qe=Be;let Ue;return e[115]!==s||e[116]!==qe?(Ue=l.jsx(gt.Provider,{value:qe,children:s}),e[115]=s,e[116]=qe,e[117]=Ue):Ue=e[117],Ue},le=()=>{const t=S.useContext(gt);if(t===void 0)throw new Error("useDatabaseWorker must be used within a DatabaseWorkerProvider");return t};function Hs(t){return t.setTablesSchema}function Vs(t){return t.setIndexesSchema}function Gs(t){return t.setCurrentTable}function Ws(t){return t.setData}function Ks(t){return t.setCustomQuery}function qs(t){return t.setColumns}function Xs(t){return t.setMaxSize}function Ys(t){return t.setIsDatabaseLoading}function Js(t){return t.setIsDataLoading}function Zs(t){return t.setErrorMessage}function el(t){return t.filters}function tl(t){return t.sorters}function sl(t){return t.limit}function ll(t){return t.offset}function al(t){return t.currentTable}function nl(t){return t.maxSize}function rl(t){return t.setOffset}function il(t){return t.setFilters}function ol(t){return t.setSorters}function cl(t){return t.setLimit}function dl(t){return t.resetPagination}function ml(t){return t.setCustomQueryObject}function ul(t){return t.customQuery}function fl(t){return t.tablesSchema}function xl(t){return t.name}function hl(t){return t.name}function pl(t){return t.trim()}function bl(t){return t!==""}function B(...t){return Es(Ts(t))}const gl=S.memo(function(e){const s=y.c(8);let a,n;s[0]!==e?({className:a,...n}=e,s[0]=e,s[1]=a,s[2]=n):(a=s[1],n=s[2]);let r;s[3]!==a?(r=B("flex flex-col",a),s[3]=a,s[4]=r):r=s[4];let i;return s[5]!==n||s[6]!==r?(i=l.jsx(ns,{"data-slot":"tabs",className:r,...n}),s[5]=n,s[6]=r,s[7]=i):i=s[7],i});function jl(t){const e=y.c(8);let s,a;e[0]!==t?({className:s,...a}=t,e[0]=t,e[1]=s,e[2]=a):(s=e[1],a=e[2]);let n;e[3]!==s?(n=B("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-1",s),e[3]=s,e[4]=n):n=e[4];let r;return e[5]!==a||e[6]!==n?(r=l.jsx(os,{"data-slot":"tabs-list",className:n,...a}),e[5]=a,e[6]=n,e[7]=r):r=e[7],r}const Xe=dt.memo(function(e){const s=y.c(8);let a,n;s[0]!==e?({className:a,...n}=e,s[0]=e,s[1]=a,s[2]=n):(a=s[1],n=s[2]);let r;s[3]!==a?(r=B("data-[state=active]:bg-background data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring inline-flex flex-1 items-center justify-center gap-1.5 rounded-md px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),s[3]=a,s[4]=r):r=s[4];let i;return s[5]!==n||s[6]!==r?(i=l.jsx(rs,{"data-slot":"tabs-trigger",className:r,...n}),s[5]=n,s[6]=r,s[7]=i):i=s[7],i}),Ye=dt.memo(function(e){const s=y.c(8);let a,n;s[0]!==e?({className:a,...n}=e,s[0]=e,s[1]=a,s[2]=n):(a=s[1],n=s[2]);let r;s[3]!==a?(r=B("flex-1 outline-none",a),s[3]=a,s[4]=r):r=s[4];let i;return s[5]!==n||s[6]!==r?(i=l.jsx(is,{"data-slot":"tabs-content",className:r,...n}),s[5]=n,s[6]=r,s[7]=i):i=s[7],i}),Nl=Is("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}}),yl=t=>{const e=y.c(18);let s,a,n,r,i,o;e[0]!==t?({className:s,variant:o,size:r,asChild:i,onClick:a,...n}=t,e[0]=t,e[1]=s,e[2]=a,e[3]=n,e[4]=r,e[5]=i,e[6]=o):(s=e[1],a=e[2],n=e[3],r=e[4],i=e[5],o=e[6]);const m=(i===void 0?!1:i)?cs:"button";let d;e[7]!==a?(d=p=>{a&&a(p)},e[7]=a,e[8]=d):d=e[8];const x=d;let u,f;e[9]!==s||e[10]!==r||e[11]!==o?(f=B(Nl({variant:o,size:r,className:s})),e[9]=s,e[10]=r,e[11]=o,e[12]=f):f=e[12],u=f;const h=u;let b;return e[13]!==m||e[14]!==h||e[15]!==x||e[16]!==n?(b=l.jsx(m,{"data-slot":"button",className:h,onClick:x,...n}),e[13]=m,e[14]=h,e[15]=x,e[16]=n,e[17]=b):b=e[17],b},O=yl,vl=t=>{const e=y.c(10);let s,a,n;e[0]!==t?({className:s,type:n,...a}=t,e[0]=t,e[1]=s,e[2]=a,e[3]=n):(s=e[1],a=e[2],n=e[3]);let r;e[4]!==s?(r=B("border-input file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground flex h-5 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),e[4]=s,e[5]=r):r=e[5];let i;return e[6]!==a||e[7]!==r||e[8]!==n?(i=l.jsx("input",{type:n,"data-slot":"input",className:r,...a}),e[6]=a,e[7]=r,e[8]=n,e[9]=i):i=e[9],i},Ve=vl;function wl(){const t=y.c(10),{theme:e,setTheme:s}=pt();let a;t[0]!==s||t[1]!==e?(a=()=>s(e==="dark"?"light":"dark"),t[0]=s,t[1]=e,t[2]=a):a=t[2];const n=e==="dark"?"Switch to light mode":"Switch to dark mode",r=e==="dark"?"Switch to light mode":"Switch to dark mode";let i;t[3]!==e?(i=e==="dark"?l.jsx(kt,{className:"h-[1.2rem] w-[1.2rem]"}):l.jsx($t,{className:"h-[1.2rem] w-[1.2rem]"}),t[3]=e,t[4]=i):i=t[4];let o;return t[5]!==a||t[6]!==n||t[7]!==r||t[8]!==i?(o=l.jsx(O,{variant:"outline",size:"sm",onClick:a,"aria-label":n,title:r,className:"relative flex items-center justify-center transition-transform duration-300",children:i}),t[5]=a,t[6]=n,t[7]=r,t[8]=i,t[9]=o):o=t[9],o}const Sl=()=>{const t=y.c(15),{handleFileChange:e,handleDownload:s}=le();let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsx("div",{className:"flex items-center",children:l.jsx("a",{href:"https://github.com/vwh/sqlite-online",target:"_blank",rel:"noopener noreferrer",children:l.jsx("img",{src:"/logo.webp",alt:"Logo",className:"h-6 w-6","aria-hidden":"true"})})}),t[0]=a):a=t[0];let n;t[1]!==e?(n=l.jsx(Ve,{id:"file-upload",type:"file",className:"absolute inset-0 cursor-pointer opacity-0",onChange:e}),t[1]=e,t[2]=n):n=t[2];let r;t[3]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsxs(O,{size:"sm",variant:"outline",className:"h-8 px-3 text-xs font-medium shadow-sm sm:w-[200px]",children:[l.jsx(xe,{className:"mr-1.5 h-3.5 w-3.5"}),"Open Database"]}),t[3]=r):r=t[3];let i;t[4]!==n?(i=l.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer",children:[n,r]}),t[4]=n,t[5]=i):i=t[5];let o;t[6]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(Rt,{className:"mr-1.5 h-3.5 w-3.5"}),t[6]=o):o=t[6];let c;t[7]!==s?(c=l.jsxs(O,{size:"sm",variant:"outline",className:"h-8 px-3 text-xs font-medium shadow-sm",onClick:s,title:"Save the database",children:[o,"Save Database"]}),t[7]=s,t[8]=c):c=t[8];let m;t[9]!==i||t[10]!==c?(m=l.jsxs("div",{className:"flex items-center gap-1",children:[i,c]}),t[9]=i,t[10]=c,t[11]=m):m=t[11];let d;t[12]===Symbol.for("react.memo_cache_sentinel")?(d=l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("a",{href:"https://github.com/vwh/sqlite-online",target:"_blank",rel:"noreferrer",className:"transition-opacity hover:opacity-80",children:l.jsx(O,{size:"icon",variant:"ghost",className:"hidden h-8 w-8 sm:flex",title:"View Source Code on GitHub",children:l.jsx(Dt,{className:"h-4 w-4"})})}),l.jsx(wl,{})]}),t[12]=d):d=t[12];let x;return t[13]!==m?(x=l.jsxs("header",{className:"flex items-center justify-between gap-2 border-b px-2 py-1.5 shadow-sm",children:[a,l.jsxs("div",{className:"flex w-full items-center justify-between",children:[m,d]})]}),t[13]=m,t[14]=x):x=t[14],x},nt=at(t=>({expandedTables:[],expandedTableSection:!0,expandedIndexSection:!0,toggleTable:e=>t(s=>({expandedTables:s.expandedTables.includes(e)?s.expandedTables.filter(a=>a!==e):[...s.expandedTables,e]})),toggleTableSection:()=>t(e=>({expandedTableSection:!e.expandedTableSection})),toggleIndexSection:()=>t(e=>({expandedIndexSection:!e.expandedIndexSection})),expandAllTables:e=>t({expandedTables:Object.keys(e)}),collapseAllTables:()=>t({expandedTables:[]})})),se=S.memo(function(e){const s=y.c(3),{children:a,className:n}=e,r=`block max-w-80 overflow-hidden text-ellipsis ${n??""}`;let i;return s[0]!==a||s[1]!==r?(i=l.jsx("span",{className:r,children:a}),s[0]=a,s[1]=r,s[2]=i):i=s[2],i}),_l={DATE:/DATE|TIMESTAMP/i,BLOB:/^BLOB$/i,TEXT:/CHAR|TEXT|CLOB|VARCHAR/i,INTEGER:/INT/i,REAL:/REAL|FLOAT|DOUBLE|DECIMAL/i,NUMERIC:/NUMERIC/i,BOOLEAN:/BOOL/i},me=(t,e)=>_l[e].test(t),jt=t=>me(t,"DATE"),Cl=t=>me(t,"BLOB"),Nt=t=>me(t,"TEXT"),Tl=t=>me(t,"NUMERIC"),El=t=>me(t,"BOOLEAN"),Il=t=>me(t,"INTEGER"),Ll=t=>me(t,"REAL"),yt=t=>Il(t)||Ll(t)||Tl(t),zl=S.memo(At),kl=S.memo(Pt),$l=S.memo(Ot),Rl=S.memo(Mt),Dl=S.memo(Ft),Al=S.memo(Bt),Pl=S.memo(Ut),Ol=S.memo(Qt),rt=t=>{const e=y.c(10),{columnSchema:s}=t;if(!s)return null;const{type:a,isPrimaryKey:n,isForeignKey:r}=s;let i=null;if(a){let d;e[0]!==a?(d=Cl(a)?l.jsx($l,{className:"h-4 w-4 text-green-500"}):jt(a)?l.jsx(Rl,{className:"h-4 w-4 text-blue-500"}):Nt(a)?l.jsx(Dl,{className:"h-4 w-4 text-indigo-500"}):yt(a)?l.jsx(Al,{className:"h-4 w-4 text-red-500"}):El(a)?l.jsx(Pl,{className:"h-4 w-4 text-pink-500"}):l.jsx(Ol,{className:"h-4 w-4 text-gray-500"}),e[0]=a,e[1]=d):d=e[1],i=d}let o;e[2]!==n?(o=n&&l.jsx(zl,{className:"h-4 w-4 text-yellow-500"}),e[2]=n,e[3]=o):o=e[3];let c;e[4]!==r?(c=r&&l.jsx(kl,{className:"h-4 w-4 text-purple-500"}),e[4]=r,e[5]=c):c=e[5];let m;return e[6]!==o||e[7]!==c||e[8]!==i?(m=l.jsxs("div",{className:"flex items-center gap-[2px]",children:[o,c,i]}),e[6]=o,e[7]=c,e[8]=i,e[9]=m):m=e[9],m},Ml=S.memo(t=>{const e=y.c(12),{columnSchema:s}=t;let a;e[0]!==s?(a=l.jsx(rt,{columnSchema:s}),e[0]=s,e[1]=a):a=e[1];let n;e[2]!==s.name?(n=l.jsx("span",{className:"text-primary/60 ml-1 text-xs",children:s.name}),e[2]=s.name,e[3]=n):n=e[3];let r;e[4]!==a||e[5]!==n?(r=l.jsxs("div",{className:"flex items-center",children:[a,n]}),e[4]=a,e[5]=n,e[6]=r):r=e[6];let i;e[7]!==s.type?(i=l.jsx(se,{className:"text-primary/60 text-xs whitespace-nowrap",children:l.jsx("span",{className:"text-primary/50 bg-primary/5 rounded-full px-2 py-0.5 text-xs",children:s.type})}),e[7]=s.type,e[8]=i):i=e[8];let o;return e[9]!==r||e[10]!==i?(o=l.jsxs("div",{className:"flex items-center justify-between gap-1",children:[r,i]}),e[9]=r,e[10]=i,e[11]=o):o=e[11],o}),Fl=S.memo(He),Bl=S.memo(mt),vt=S.memo(t=>{const e=y.c(3),{expanded:s,size:a}=t,n=a===void 0?4:a;let r;return e[0]!==s||e[1]!==n?(r=s?l.jsx(Fl,{className:`h-${n} w-${n}`}):l.jsx(Bl,{className:`h-${n} w-${n}`}),e[0]=s,e[1]=n,e[2]=r):r=e[2],r}),Ul=S.memo(t=>{const e=y.c(35),{name:s,table:a}=t,{expandedTables:n,toggleTable:r}=nt();let i,o,c,m;if(e[0]!==n||e[1]!==s||e[2]!==r){i=n.includes(s);let g;e[7]!==s||e[8]!==r?(g=()=>r(s),e[7]=s,e[8]=r,e[9]=g):g=e[9],c=g;let j;e[10]!==s||e[11]!==r?(j=_=>{(_.key==="Enter"||_.key===" ")&&(_.preventDefault(),r(s))},e[10]=s,e[11]=r,e[12]=j):j=e[12],o=j,m=B("flex cursor-pointer items-center rounded px-1.5 py-1 transition-all hover:ml-2",i&&"ml-1"),e[0]=n,e[1]=s,e[2]=r,e[3]=i,e[4]=o,e[5]=c,e[6]=m}else i=e[3],o=e[4],c=e[5],m=e[6];let d;e[13]!==i?(d=l.jsx("div",{className:"flex h-5 w-5 items-center justify-center",children:l.jsx(vt,{expanded:i})}),e[13]=i,e[14]=d):d=e[14];let x;e[15]!==s?(x=l.jsx("span",{className:"text-sm",children:s}),e[15]=s,e[16]=x):x=e[16];let u;e[17]!==a.schema.length?(u=l.jsxs("span",{className:"text-primary/50 text-xs",children:["(",a.schema.length,")"]}),e[17]=a.schema.length,e[18]=u):u=e[18];let f;e[19]!==x||e[20]!==u?(f=l.jsxs("span",{className:"flex items-center gap-1 capitalize",children:[x,u]}),e[19]=x,e[20]=u,e[21]=f):f=e[21];let h;e[22]!==i||e[23]!==o||e[24]!==c||e[25]!==m||e[26]!==d||e[27]!==f?(h=l.jsxs("div",{className:m,onClick:c,onKeyDown:o,"aria-expanded":i,children:[d,f]}),e[22]=i,e[23]=o,e[24]=c,e[25]=m,e[26]=d,e[27]=f,e[28]=h):h=e[28];let b;e[29]!==i||e[30]!==a.schema?(b=i&&l.jsx("div",{className:"border-primary/20 mt-1 mb-2 ml-4 flex flex-col gap-1 space-y-0.5 border-l-2 pl-2",children:a.schema.map(Kl)}),e[29]=i,e[30]=a.schema,e[31]=b):b=e[31];let p;return e[32]!==h||e[33]!==b?(p=l.jsxs("article",{children:[h,b]}),e[32]=h,e[33]=b,e[34]=p):p=e[34],p}),wt=S.memo(t=>{const e=y.c(17),{title:s,expanded:a,icon:n,onToggle:r,children:i}=t;let o;e[0]!==r?(o=h=>{(h.key==="Enter"||h.key===" ")&&(h.preventDefault(),r())},e[0]=r,e[1]=o):o=e[1];const c=o,m=!a&&"mb-0";let d;e[2]!==m?(d=B("hover:bg-primary/5 bg-primary/7 flex cursor-pointer items-center px-2 py-2 transition-colors",m),e[2]=m,e[3]=d):d=e[3];let x;e[4]!==a?(x=l.jsx("div",{className:"flex h-5 w-5 items-center justify-center",children:l.jsx(vt,{expanded:a,size:5})}),e[4]=a,e[5]=x):x=e[5];let u;e[6]!==s?(u=l.jsx("span",{children:s}),e[6]=s,e[7]=u):u=e[7];let f;return e[8]!==i||e[9]!==a||e[10]!==c||e[11]!==n||e[12]!==r||e[13]!==d||e[14]!==x||e[15]!==u?(f=l.jsxs("header",{className:d,onClick:r,onKeyDown:c,"aria-expanded":a,children:[x,n,u,i]}),e[8]=i,e[9]=a,e[10]=c,e[11]=n,e[12]=r,e[13]=d,e[14]=x,e[15]=u,e[16]=f):f=e[16],f}),Ql=S.memo(t=>{const e=y.c(21),{tablesSchema:s}=t,{expandedTableSection:a,toggleTableSection:n,expandAllTables:r,collapseAllTables:i}=nt(),[o,c]=S.useState(!1);let m;e[0]!==r||e[1]!==s?(m=_=>{_.stopPropagation(),r(s),c(!0)},e[0]=r,e[1]=s,e[2]=m):m=e[2];const d=m;let x;e[3]!==i?(x=_=>{_.stopPropagation(),i(),c(!1)},e[3]=i,e[4]=x):x=e[4];const u=x;let f;e[5]!==a||e[6]!==u||e[7]!==d||e[8]!==o?(f=a&&l.jsx("div",{className:"ml-auto flex",children:o?l.jsx(O,{className:"text-primary hover:bg-primary/5 h-7 rounded px-2 py-0.5 text-xs transition-colors",variant:"ghost",size:"icon",onClick:u,"aria-label":"Collapse all tables",children:l.jsx(Ht,{className:"h-4 w-4"})}):l.jsx(O,{className:"text-primary hover:bg-primary/5 h-7 rounded px-2 py-0.5 text-xs transition-colors",variant:"ghost",size:"icon",onClick:d,"aria-label":"Expand all tables",children:l.jsx(Vt,{className:"h-4 w-4"})})}),e[5]=a,e[6]=u,e[7]=d,e[8]=o,e[9]=f):f=e[9];const h=f;let b;e[10]===Symbol.for("react.memo_cache_sentinel")?(b=l.jsx(xe,{className:"mr-2 h-4 w-4"}),e[10]=b):b=e[10];let p;e[11]!==h||e[12]!==a||e[13]!==n?(p=l.jsx(wt,{title:"Tables",expanded:a,icon:b,onToggle:n,children:h}),e[11]=h,e[12]=a,e[13]=n,e[14]=p):p=e[14];let g;e[15]!==a||e[16]!==s?(g=a&&l.jsx("div",{className:"space-y-0.5 overflow-y-auto pr-1 pl-2",children:Object.entries(s).map(ql)}),e[15]=a,e[16]=s,e[17]=g):g=e[17];let j;return e[18]!==p||e[19]!==g?(j=l.jsxs("section",{children:[p,g]}),e[18]=p,e[19]=g,e[20]=j):j=e[20],j}),Hl=S.memo(t=>{const e=y.c(7),{index:s}=t;let a;e[0]!==s.name?(a=l.jsx("span",{className:"text-sm",children:s.name}),e[0]=s.name,e[1]=a):a=e[1];let n;e[2]!==s.tableName?(n=l.jsx(se,{className:"text-primary/60 text-xs font-medium whitespace-nowrap",children:l.jsx("span",{className:"text-primary/50 bg-primary/5 rounded-full px-2 py-0.5 text-xs",children:s.tableName})}),e[2]=s.tableName,e[3]=n):n=e[3];let r;return e[4]!==a||e[5]!==n?(r=l.jsx("article",{children:l.jsx("div",{className:"flex cursor-pointer items-center rounded px-1.5 py-1 transition-all hover:ml-2",children:l.jsxs("div",{className:"flex w-full items-center justify-between gap-1",children:[a,n]})})}),e[4]=a,e[5]=n,e[6]=r):r=e[6],r}),Vl=S.memo(t=>{const e=y.c(10),{indexes:s}=t,{expandedIndexSection:a,toggleIndexSection:n}=nt();let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx(ut,{className:"mr-2 h-4 w-4"}),e[0]=r):r=e[0];let i;e[1]!==a||e[2]!==n?(i=l.jsx(wt,{title:"Indexes",expanded:a,icon:r,onToggle:n}),e[1]=a,e[2]=n,e[3]=i):i=e[3];let o;e[4]!==a||e[5]!==s?(o=a&&l.jsx("div",{className:"space-y-0.5 overflow-y-auto pr-1 pl-2",children:s.map(Xl)}),e[4]=a,e[5]=s,e[6]=o):o=e[6];let c;return e[7]!==i||e[8]!==o?(c=l.jsxs("section",{children:[i,o]}),e[7]=i,e[8]=o,e[9]=c):c=e[9],c}),Gl=S.memo(t=>{const e=y.c(3),{onFilterChange:s}=t;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsx(Gt,{className:"text-primary/40 absolute top-1/2 left-2 h-4 w-4 -translate-y-1/2 transform"}),e[0]=a):a=e[0];let n;return e[1]!==s?(n=l.jsxs("div",{className:"relative",children:[a,l.jsx(Ve,{placeholder:"Search tables and indexes",className:"border-primary/20 h-8 w-full pl-8 text-sm text-[0.8rem]!",onChange:r=>s(r.target.value),"aria-label":"Search tables and indexes"})]}),e[1]=s,e[2]=n):n=e[2],n}),Wl=S.memo(t=>{const e=y.c(9),{tableCount:s,indexCount:a}=t;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=l.jsx(ye,{className:"mr-1 h-3 w-3 text-wrap"}),e[0]=n):n=e[0];let r;e[1]!==s?(r=l.jsxs("div",{className:"flex items-center",children:[n,l.jsxs("span",{className:"overflow-hidden text-ellipsis whitespace-nowrap",children:[s," Tables"]})]}),e[1]=s,e[2]=r):r=e[2];let i;e[3]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx(ut,{className:"mr-1 h-3 w-3"}),e[3]=i):i=e[3];let o;e[4]!==a?(o=l.jsxs("div",{className:"flex items-center",children:[i,l.jsxs("span",{className:"overflow-hidden text-ellipsis whitespace-nowrap",children:[a," Indexes"]})]}),e[4]=a,e[5]=o):o=e[5];let c;return e[6]!==r||e[7]!==o?(c=l.jsxs("footer",{className:"bg-primary/5 text-primary/60 flex items-center justify-between gap-2 border-t p-2 text-xs",children:[r,o]}),e[6]=r,e[7]=o,e[8]=c):c=e[8],c}),it=()=>{const t=y.c(25),[e,s]=S.useState(""),a=N(Yl),n=N(Jl);let r;e:{if(!e){r=a;break e}let p;if(t[0]!==e||t[1]!==a){p={};for(const[g,j]of Object.entries(a))g.toLowerCase().includes(e.toLowerCase())&&(p[g]=j);t[0]=e,t[1]=a,t[2]=p}else p=t[2];r=p}const i=r;let o;e:{if(!e){o=n;break e}let p;if(t[3]!==e||t[4]!==n){let g;t[6]!==e?(g=j=>j.name.toLowerCase().includes(e.toLowerCase())||j.tableName.toLowerCase().includes(e.toLowerCase()),t[6]=e,t[7]=g):g=t[7],p=n.filter(g),t[3]=e,t[4]=n,t[5]=p}else p=t[5];o=p}const c=o;let m;t[8]===Symbol.for("react.memo_cache_sentinel")?(m=l.jsx("div",{className:"bg-primary/5 border-b p-2",children:l.jsx(Gl,{onFilterChange:s})}),t[8]=m):m=t[8];let d;t[9]!==i?(d=l.jsx(Ql,{tablesSchema:i}),t[9]=i,t[10]=d):d=t[10];let x;t[11]!==c||t[12]!==n.length?(x=n.length>0&&l.jsx(Vl,{indexes:c}),t[11]=c,t[12]=n.length,t[13]=x):x=t[13];let u;t[14]!==d||t[15]!==x?(u=l.jsxs("nav",{className:"flex-1 overflow-auto",children:[d,x]}),t[14]=d,t[15]=x,t[16]=u):u=t[16];let f;t[17]!==a?(f=Object.keys(a),t[17]=a,t[18]=f):f=t[18];let h;t[19]!==n.length||t[20]!==f.length?(h=l.jsx(Wl,{tableCount:f.length,indexCount:n.length}),t[19]=n.length,t[20]=f.length,t[21]=h):h=t[21];let b;return t[22]!==u||t[23]!==h?(b=l.jsxs("main",{className:"flex h-full w-full flex-col overflow-hidden",children:[m,u,h]}),t[22]=u,t[23]=h,t[24]=b):b=t[24],b};function Kl(t){return l.jsx(Ml,{columnSchema:t},t.cid)}function ql(t){const[e,s]=t;return l.jsx(Ul,{name:e,table:s},e)}function Xl(t){return l.jsx(Hl,{index:t},t.name)}function Yl(t){return t.tablesSchema}function Jl(t){return t.indexesSchema}const Zl=()=>{const t=y.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=l.jsx("div",{className:"flex h-full flex-col",children:l.jsx("div",{className:"flex-1 overflow-hidden",children:l.jsx("div",{className:"h-full overflow-y-auto",children:l.jsx(it,{})})})}),t[0]=e):e=t[0],e};function Je(t){const e=y.c(8);let s,a;e[0]!==t?({className:s,...a}=t,e[0]=t,e[1]=s,e[2]=a):(s=e[1],a=e[2]);let n;e[3]!==s?(n=B("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",s),e[3]=s,e[4]=n):n=e[4];let r;return e[5]!==a||e[6]!==n?(r=l.jsx(ks,{"data-slot":"resizable-panel-group",className:n,...a}),e[5]=a,e[6]=n,e[7]=r):r=e[7],r}function fe(t){const e=y.c(2);let s;return e[0]!==t?(s=l.jsx(Ls,{"data-slot":"resizable-panel",...t}),e[0]=t,e[1]=s):s=e[1],s}function Ze(t){const e=y.c(12);let s,a,n;e[0]!==t?({withHandle:n,className:s,...a}=t,e[0]=t,e[1]=s,e[2]=a,e[3]=n):(s=e[1],a=e[2],n=e[3]);let r;e[4]!==s?(r=B("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",s),e[4]=s,e[5]=r):r=e[5];let i;e[6]!==n?(i=n&&l.jsx("div",{className:"bg-border border-primary/20 z-50 flex h-9 w-4 items-center justify-center rounded-xs border",children:l.jsx(Wt,{className:"size-2.5"})}),e[6]=n,e[7]=i):i=e[7];let o;return e[8]!==a||e[9]!==r||e[10]!==i?(o=l.jsx(zs,{"data-slot":"resizable-handle",className:r,...a,children:i}),e[8]=a,e[9]=r,e[10]=i,e[11]=o):o=e[11],o}function ea(t){const e=y.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let a;return e[2]!==s?(a=l.jsx(Ns,{"data-slot":"select",...s}),e[2]=s,e[3]=a):a=e[3],a}function ta(t){const e=y.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let a;return e[2]!==s?(a=l.jsx(js,{"data-slot":"select-value",...s}),e[2]=s,e[3]=a):a=e[3],a}function sa(t){const e=y.c(11);let s,a,n;e[0]!==t?({className:a,children:s,...n}=t,e[0]=t,e[1]=s,e[2]=a,e[3]=n):(s=e[1],a=e[2],n=e[3]);let r;e[4]!==a?(r=B("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive flex h-9 w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),e[4]=a,e[5]=r):r=e[5];let i;e[6]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx(ys,{asChild:!0,children:l.jsx(He,{className:"size-4 opacity-50"})}),e[6]=i):i=e[6];let o;return e[7]!==s||e[8]!==n||e[9]!==r?(o=l.jsxs(gs,{"data-slot":"select-trigger",className:r,...n,children:[s,i]}),e[7]=s,e[8]=n,e[9]=r,e[10]=o):o=e[10],o}function la(t){const e=y.c(20);let s,a,n,r;e[0]!==t?({className:a,children:s,position:r,...n}=t,e[0]=t,e[1]=s,e[2]=a,e[3]=n,e[4]=r):(s=e[1],a=e[2],n=e[3],r=e[4]);const i=r===void 0?"popper":r,o=i==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1";let c;e[5]!==a||e[6]!==o?(c=B("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border shadow-md",o,a),e[5]=a,e[6]=o,e[7]=c):c=e[7];let m;e[8]===Symbol.for("react.memo_cache_sentinel")?(m=l.jsx(na,{}),e[8]=m):m=e[8];const d=i==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1";let x;e[9]!==d?(x=B("p-1",d),e[9]=d,e[10]=x):x=e[10];let u;e[11]!==s||e[12]!==x?(u=l.jsx(fs,{className:x,children:s}),e[11]=s,e[12]=x,e[13]=u):u=e[13];let f;e[14]===Symbol.for("react.memo_cache_sentinel")?(f=l.jsx(ra,{}),e[14]=f):f=e[14];let h;return e[15]!==i||e[16]!==n||e[17]!==c||e[18]!==u?(h=l.jsx(ds,{children:l.jsxs(ms,{"data-slot":"select-content",className:c,position:i,...n,children:[m,u,f]})}),e[15]=i,e[16]=n,e[17]=c,e[18]=u,e[19]=h):h=e[19],h}function aa(t){const e=y.c(13);let s,a,n;e[0]!==t?({className:a,children:s,...n}=t,e[0]=t,e[1]=s,e[2]=a,e[3]=n):(s=e[1],a=e[2],n=e[3]);let r;e[4]!==a?(r=B("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",a),e[4]=a,e[5]=r):r=e[5];let i;e[6]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:l.jsx(xs,{children:l.jsx(Kt,{className:"size-4"})})}),e[6]=i):i=e[6];let o;e[7]!==s?(o=l.jsx(hs,{children:s}),e[7]=s,e[8]=o):o=e[8];let c;return e[9]!==n||e[10]!==r||e[11]!==o?(c=l.jsxs(us,{"data-slot":"select-item",className:r,...n,children:[i,o]}),e[9]=n,e[10]=r,e[11]=o,e[12]=c):c=e[12],c}const na=function(e){const s=y.c(9);let a,n;s[0]!==e?({className:a,...n}=e,s[0]=e,s[1]=a,s[2]=n):(a=s[1],n=s[2]);let r;s[3]!==a?(r=B("flex cursor-default items-center justify-center py-1",a),s[3]=a,s[4]=r):r=s[4];let i;s[5]===Symbol.for("react.memo_cache_sentinel")?(i=l.jsx(qt,{className:"size-4"}),s[5]=i):i=s[5];let o;return s[6]!==n||s[7]!==r?(o=l.jsx(ps,{"data-slot":"select-scroll-up-button",className:r,...n,children:i}),s[6]=n,s[7]=r,s[8]=o):o=s[8],o};function ra(t){const e=y.c(9);let s,a;e[0]!==t?({className:s,...a}=t,e[0]=t,e[1]=s,e[2]=a):(s=e[1],a=e[2]);let n;e[3]!==s?(n=B("flex cursor-default items-center justify-center py-1",s),e[3]=s,e[4]=n):n=e[4];let r;e[5]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx(He,{className:"size-4"}),e[5]=r):r=e[5];let i;return e[6]!==a||e[7]!==n?(i=l.jsx(bs,{"data-slot":"select-scroll-down-button",className:n,...a,children:r}),e[6]=a,e[7]=n,e[8]=i):i=e[8],i}const ia=()=>{const t=y.c(7),{handleTableChange:e}=le(),s=N(oa),n=N(ca)||void 0;let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx(sa,{className:"border-primary/20 h-8 w-30 border text-sm sm:w-48",children:l.jsx(ta,{placeholder:"Select Table"})}),t[0]=r):r=t[0];let i;t[1]!==s?(i=l.jsx(la,{children:Object.keys(s).map(da)}),t[1]=s,t[2]=i):i=t[2];let o;return t[3]!==e||t[4]!==n||t[5]!==i?(o=l.jsxs(ea,{onValueChange:e,value:n,children:[r,i]}),t[3]=e,t[4]=n,t[5]=i,t[6]=o):o=t[6],o};function oa(t){return t.tablesSchema}function ca(t){return t.currentTable}function da(t){return l.jsx(aa,{value:t,children:l.jsx(se,{className:"text-[0.8rem]! capitalize",children:t})},t)}function ma(t){const e=y.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let a;return e[2]!==s?(a=l.jsx(Ss,{"data-slot":"dropdown-menu",...s}),e[2]=s,e[3]=a):a=e[3],a}function ua(t){const e=y.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let a;return e[2]!==s?(a=l.jsx(vs,{"data-slot":"dropdown-menu-trigger",...s}),e[2]=s,e[3]=a):a=e[3],a}function fa(t){const e=y.c(10);let s,a,n;e[0]!==t?({className:s,sideOffset:n,...a}=t,e[0]=t,e[1]=s,e[2]=a,e[3]=n):(s=e[1],a=e[2],n=e[3]);const r=n===void 0?4:n;let i;e[4]!==s?(i=B("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",s),e[4]=s,e[5]=i):i=e[5];let o;return e[6]!==a||e[7]!==r||e[8]!==i?(o=l.jsx(_s,{children:l.jsx(Cs,{"data-slot":"dropdown-menu-content",sideOffset:r,className:i,...a})}),e[6]=a,e[7]=r,e[8]=i,e[9]=o):o=e[9],o}function Ne(t){const e=y.c(12);let s,a,n,r;e[0]!==t?({className:s,inset:a,variant:r,...n}=t,e[0]=t,e[1]=s,e[2]=a,e[3]=n,e[4]=r):(s=e[1],a=e[2],n=e[3],r=e[4]);const i=r===void 0?"default":r;let o;e[5]!==s?(o=B("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),e[5]=s,e[6]=o):o=e[6];let c;return e[7]!==a||e[8]!==n||e[9]!==o||e[10]!==i?(c=l.jsx(ws,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":i,className:o,...n}),e[7]=a,e[8]=n,e[9]=o,e[10]=i,e[11]=c):c=e[11],c}const xa=()=>{const t=y.c(33),{handleExport:e}=le(),{isInserting:s,handleInsert:a}=he(),n=N(ha),r=N(pa),i=N(ba),o=N(ga);let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx(ua,{asChild:!0,children:l.jsxs(O,{variant:"outline",size:"sm",className:"h-8 text-xs",children:["Actions ",l.jsx(He,{className:"ml-1 h-3 w-3"})]})}),t[0]=c):c=t[0];let m;t[1]!==r?(m=()=>r(null),t[1]=r,t[2]=m):m=t[2];const d=n==null;let x;t[3]===Symbol.for("react.memo_cache_sentinel")?(x=l.jsx(st,{className:"mr-1 h-3 w-3"}),t[3]=x):x=t[3];let u;t[4]!==m||t[5]!==d?(u=l.jsx(Ne,{asChild:!0,children:l.jsxs(O,{variant:"ghost",size:"sm",className:"h-8 w-full justify-start text-xs",onClick:m,disabled:d,title:"Clear applied filters",children:[x,"Clear filters"]})}),t[4]=m,t[5]=d,t[6]=u):u=t[6];let f;t[7]!==o?(f=()=>o(null),t[7]=o,t[8]=f):f=t[8];const h=i==null;let b;t[9]===Symbol.for("react.memo_cache_sentinel")?(b=l.jsx(ft,{className:"mr-1 h-3 w-3"}),t[9]=b):b=t[9];let p;t[10]!==f||t[11]!==h?(p=l.jsx(Ne,{asChild:!0,children:l.jsxs(O,{variant:"ghost",size:"sm",className:"h-8 w-full justify-start text-xs",onClick:f,disabled:h,title:"Reset sorting",children:[b,"Reset sorting"]})}),t[10]=f,t[11]=h,t[12]=p):p=t[12];let g;t[13]===Symbol.for("react.memo_cache_sentinel")?(g=l.jsx(Qe,{className:"mr-1 h-3 w-3"}),t[13]=g):g=t[13];let j;t[14]!==a||t[15]!==s?(j=l.jsx(Ne,{asChild:!0,children:l.jsxs(O,{variant:"ghost",size:"sm",className:"h-8 w-full justify-start text-xs",onClick:a,disabled:s,title:"Insert a new row",children:[g,"Insert row"]})}),t[14]=a,t[15]=s,t[16]=j):j=t[16];let _;t[17]!==e?(_=()=>e("table"),t[17]=e,t[18]=_):_=t[18];let w;t[19]===Symbol.for("react.memo_cache_sentinel")?(w=l.jsx(Se,{className:"mr-1 h-3 w-3"}),t[19]=w):w=t[19];let v;t[20]!==_?(v=l.jsx(Ne,{asChild:!0,children:l.jsxs(O,{variant:"ghost",size:"sm",className:"h-8 w-full justify-start text-xs",onClick:_,title:"Export the current table as CSV",children:[w,"Export table"]})}),t[20]=_,t[21]=v):v=t[21];let C;t[22]!==e?(C=()=>e("current"),t[22]=e,t[23]=C):C=t[23];let $;t[24]===Symbol.for("react.memo_cache_sentinel")?($=l.jsx(Se,{className:"mr-1 h-3 w-3"}),t[24]=$):$=t[24];let E;t[25]!==C?(E=l.jsx(Ne,{asChild:!0,children:l.jsxs(O,{variant:"ghost",size:"sm",className:"h-8 w-full justify-start text-xs",onClick:C,title:"Export the current data as CSV",children:[$,"Export data"]})}),t[25]=C,t[26]=E):E=t[26];let T;return t[27]!==j||t[28]!==v||t[29]!==E||t[30]!==u||t[31]!==p?(T=l.jsxs(ma,{children:[c,l.jsxs(fa,{className:"w-40",children:[u,p,j,v,E]})]}),t[27]=j,t[28]=v,t[29]=E,t[30]=u,t[31]=p,t[32]=T):T=t[32],T};function ha(t){return t.filters}function pa(t){return t.setFilters}function ba(t){return t.sorters}function ga(t){return t.setSorters}function ja(t){const e=y.c(8);let s,a;e[0]!==t?({className:s,...a}=t,e[0]=t,e[1]=s,e[2]=a):(s=e[1],a=e[2]);let n;e[3]!==s?(n=B("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),e[3]=s,e[4]=n):n=e[4];let r;return e[5]!==a||e[6]!==n?(r=l.jsx("textarea",{"data-slot":"textarea",className:n,...a}),e[5]=a,e[6]=n,e[7]=r):r=e[7],r}const Na=()=>{var H;const t=y.c(50),{handleEditSubmit:e}=le(),{selectedRowObject:s,isInserting:a,handleCloseEdit:n}=he(),r=ee(ya),i=ee(va),o=N(wa),c=N(Sa),m=N(_a);let d,x;t[0]!==m||t[1]!==a||t[2]!==s||t[3]!==i?(d=()=>{a?i((m==null?void 0:m.map(Ca))||[]):s&&i(s.data.map(Ta))},x=[a,s,m,i],t[0]=m,t[1]=a,t[2]=s,t[3]=i,t[4]=d,t[5]=x):(d=t[4],x=t[5]),S.useEffect(d,x);let u;t[6]!==i?(u=(F,W)=>{const G=ee.getState().editValues;i(G.map((V,Q)=>Q===F?W:V))},t[6]=i,t[7]=u):u=t[7];const f=u;let h;e:{if(!m||!c||!o[c]){h=null;break e}const F=(H=o[c])==null?void 0:H.schema;let W;if(t[8]!==m||t[9]!==c||t[10]!==r||t[11]!==f||t[12]!==F||t[13]!==o){let G;t[15]!==c||t[16]!==r||t[17]!==f||t[18]!==F||t[19]!==o?(G=(V,Q)=>{var ne,pe,re,_e,ie,be,oe;return l.jsxs("div",{className:"border-primary/10 border shadow-sm",children:[l.jsx("label",{htmlFor:V,className:"bg-primary/5 border-primary/10 flex items-center gap-1 border-b p-1.5",children:l.jsxs("div",{className:"flex w-full items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx(rt,{columnSchema:F[Q]}),l.jsx(se,{className:"text-xs font-medium capitalize",children:V})]}),F[Q].IsNullable&&l.jsx("span",{className:"text-primary/50 bg-primary/5 rounded-full px-2 py-0.5 text-xs",children:"Nullable"})]})}),l.jsx("div",{className:"p-1",children:Nt(((ne=F[Q])==null?void 0:ne.type)||"")?l.jsx(ja,{id:V,name:V,className:"border-primary/20 focus:ring-primary/30 focus:border-primary/40 rounded border text-sm text-[0.8rem]! focus:ring-1",value:r[Q]||"",onChange:ce=>f(Q,ce.target.value),placeholder:((re=(pe=o[c])==null?void 0:pe.schema[Q])==null?void 0:re.dflt_value)||"Null"}):l.jsx(Ve,{id:V,name:V,type:yt(((_e=F[Q])==null?void 0:_e.type)||"")?"number":jt(((ie=F[Q])==null?void 0:ie.type)||"")?"date":"text",className:"border-primary/20 focus:ring-primary/30 focus:border-primary/40 h-9 rounded border text-[0.8rem]! focus:ring-1",value:r[Q]||"",onChange:ce=>f(Q,ce.target.value),placeholder:((oe=(be=o[c])==null?void 0:be.schema[Q])==null?void 0:oe.dflt_value)||"Null"})})]},V)},t[15]=c,t[16]=r,t[17]=f,t[18]=F,t[19]=o,t[20]=G):G=t[20],W=m.map(G),t[8]=m,t[9]=c,t[10]=r,t[11]=f,t[12]=F,t[13]=o,t[14]=W}else W=t[14];h=W}const b=h;let p,g;t[21]!==e||t[22]!==a?(g=()=>e(a?"insert":"update"),t[21]=e,t[22]=a,t[23]=g):g=t[23];const j=a?"Insert row":"Apply changes";let _;t[24]!==a?(_=a?l.jsxs(l.Fragment,{children:[l.jsx(Qe,{className:"mr-2 h-3.5 w-3.5"}),"Insert row"]}):l.jsxs(l.Fragment,{children:[l.jsx(ot,{className:"mr-2 h-3.5 w-3.5"}),"Apply changes"]}),t[24]=a,t[25]=_):_=t[25];let w;t[26]!==g||t[27]!==j||t[28]!==_?(w=l.jsx(O,{size:"sm",variant:"outline",className:"w-full py-2 text-xs font-medium",onClick:g,"aria-label":j,children:_}),t[26]=g,t[27]=j,t[28]=_,t[29]=w):w=t[29];let v;t[30]!==e||t[31]!==a?(v=!a&&l.jsx(O,{size:"sm",variant:"destructive",className:"hover:bg-destructive/50 rounded text-xs",onClick:()=>e("delete"),"aria-label":"Delete row",children:l.jsx(Xt,{className:"h-3.5 w-3.5"})}),t[30]=e,t[31]=a,t[32]=v):v=t[32];let C;t[33]!==w||t[34]!==v?(C=l.jsxs("div",{className:"bg-primary/5 border-primary/10 flex w-full gap-1 border-t p-2 shadow-inner",children:[w,v]}),t[33]=w,t[34]=v,t[35]=C):C=t[35],p=C;const $=p;let E,T;t[36]!==a?(T=l.jsx("div",{className:"flex items-center gap-2",children:a?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"bg-primary/10 rounded p-1.5",children:l.jsx(Qe,{className:"h-4 w-4"})}),l.jsx(se,{className:"text-sm font-medium whitespace-nowrap",children:"Inserting new row"})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"bg-primary/10 rounded p-1.5",children:l.jsx(ot,{className:"h-4 w-4"})}),l.jsx(se,{className:"text-sm font-medium whitespace-nowrap",children:"Updating row"})]})}),t[36]=a,t[37]=T):T=t[37];let z;t[38]===Symbol.for("react.memo_cache_sentinel")?(z=l.jsx(xt,{className:"mr-1 h-3 w-3"}),t[38]=z):z=t[38];let R;t[39]!==n?(R=l.jsxs(O,{size:"sm",variant:"outline",className:"text-xs",onClick:n,title:"Go back to data","aria-label":"Go back to data",children:[z,"Back"]}),t[39]=n,t[40]=R):R=t[40];let I;t[41]!==T||t[42]!==R?(I=l.jsxs("div",{className:"bg-primary/5 sticky top-0 z-10 flex w-full items-center justify-between gap-1 border-b p-2 shadow-sm",children:[T,R]}),t[41]=T,t[42]=R,t[43]=I):I=t[43],E=I;const k=E;let D;t[44]!==b?(D=l.jsx("div",{className:"flex-1 overflow-auto",children:b}),t[44]=b,t[45]=D):D=t[45];let U;return t[46]!==$||t[47]!==k||t[48]!==D?(U=l.jsxs("section",{className:"flex h-full flex-col",children:[k,D,$]}),t[46]=$,t[47]=k,t[48]=D,t[49]=U):U=t[49],U};function ya(t){return t.editValues}function va(t){return t.setEditValues}function wa(t){return t.tablesSchema}function Sa(t){return t.currentTable}function _a(t){return t.columns}function Ca(){return""}function Ta(t){return(t==null?void 0:t.toString())??""}const St=function(e){const s=y.c(8);let a,n;s[0]!==e?({className:a,...n}=e,s[0]=e,s[1]=a,s[2]=n):(a=s[1],n=s[2]);let r;s[3]!==a?(r=B("w-full caption-bottom text-sm",a),s[3]=a,s[4]=r):r=s[4];let i;return s[5]!==n||s[6]!==r?(i=l.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:l.jsx("table",{"data-slot":"table",className:r,...n})}),s[5]=n,s[6]=r,s[7]=i):i=s[7],i},_t=function(e){const s=y.c(8);let a,n;s[0]!==e?({className:a,...n}=e,s[0]=e,s[1]=a,s[2]=n):(a=s[1],n=s[2]);let r;s[3]!==a?(r=B("[&_tr]:border-b",a),s[3]=a,s[4]=r):r=s[4];let i;return s[5]!==n||s[6]!==r?(i=l.jsx("thead",{"data-slot":"table-header",id:"tableHeader",className:r,...n}),s[5]=n,s[6]=r,s[7]=i):i=s[7],i},Ct=function(e){const s=y.c(8);let a,n;s[0]!==e?({className:a,...n}=e,s[0]=e,s[1]=a,s[2]=n):(a=s[1],n=s[2]);let r;s[3]!==a?(r=B("[&_tr:last-child]:border-0",a),s[3]=a,s[4]=r):r=s[4];let i;return s[5]!==n||s[6]!==r?(i=l.jsx("tbody",{"data-slot":"table-body",className:r,...n}),s[5]=n,s[6]=r,s[7]=i):i=s[7],i},ve=function(e){const s=y.c(8);let a,n;s[0]!==e?({className:a,...n}=e,s[0]=e,s[1]=a,s[2]=n):(a=s[1],n=s[2]);let r;s[3]!==a?(r=B("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),s[3]=a,s[4]=r):r=s[4];let i;return s[5]!==n||s[6]!==r?(i=l.jsx("tr",{"data-slot":"table-row",className:r,...n}),s[5]=n,s[6]=r,s[7]=i):i=s[7],i},et=function(e){const s=y.c(8);let a,n;s[0]!==e?({className:a,...n}=e,s[0]=e,s[1]=a,s[2]=n):(a=s[1],n=s[2]);let r;s[3]!==a?(r=B("text-muted-foreground min-h-6 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),s[3]=a,s[4]=r):r=s[4];let i;return s[5]!==n||s[6]!==r?(i=l.jsx("th",{"data-slot":"table-head",className:r,...n}),s[5]=n,s[6]=r,s[7]=i):i=s[7],i},tt=function(e){const s=y.c(8);let a,n;s[0]!==e?({className:a,...n}=e,s[0]=e,s[1]=a,s[2]=n):(a=s[1],n=s[2]);let r;s[3]!==a?(r=B("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),s[3]=a,s[4]=r):r=s[4];let i;return s[5]!==n||s[6]!==r?(i=l.jsx("td",{"data-slot":"table-cell",id:"tableCell",className:r,...n}),s[5]=n,s[6]=r,s[7]=i):i=s[7],i},Ea=t=>{const e=y.c(6),{column:s,value:a,onChange:n}=t;let r;e[0]!==s||e[1]!==n?(r=c=>n(s,c.target.value),e[0]=s,e[1]=n,e[2]=r):r=e[2];const i=r;let o;return e[3]!==i||e[4]!==a?(o=l.jsx(Ve,{type:"text",className:"border-primary/20 max-h-6 w-full rounded px-2 py-1 text-[0.8rem]!",value:a,onChange:i,placeholder:"Filter"}),e[3]=i,e[4]=a,e[5]=o):o=e[5],o},Ia=S.memo(Yt),La=S.memo(Jt),za=S.memo(Zt),ka=S.memo(t=>{const e=y.c(4),{column:s}=t,a=N($a),{handleQuerySorter:n}=le();let r;return e[0]!==s||e[1]!==n||e[2]!==a?(r=l.jsx(l.Fragment,{children:a!=null&&a[s]?a[s]==="asc"?l.jsx("button",{title:"Sort column in descending order",type:"button","aria-label":"Sort Descending",onClick:()=>n(s),children:l.jsx(za,{className:"h-3 w-3"})}):l.jsx("button",{title:"Sort column in ascending order",type:"button","aria-label":"Sort Ascending",onClick:()=>n(s),children:l.jsx(La,{className:"h-3 w-3"})}):l.jsx("button",{title:"Sort column in ascending order",type:"button","aria-label":"Sort Column",onClick:()=>n(s),children:l.jsx(Ia,{className:"h-3 w-3"})})}),e[0]=s,e[1]=n,e[2]=a,e[3]=r):r=e[3],r});function $a(t){return t.sorters}const Ra=()=>{const t=y.c(31),e=N(Da),s=N(Aa),a=N(Pa),n=N(Oa),r=N(Ma),i=N(Fa),{handleQueryFilter:o}=le(),{handleRowClick:c}=he();let m,d;t[0]!==r||t[1]!==i?(d=l.jsx("div",{className:"flex h-full flex-col items-center justify-center gap-1 px-4",children:r?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"mb-1 font-medium",children:"No Data To Show"}),l.jsx("p",{className:"text-muted-foreground max-w-md text-sm",children:"The current filters did not return any results"})]}),l.jsxs(O,{size:"sm",variant:"outline",className:"text-xs",onClick:()=>i(null),children:[l.jsx(st,{className:"mr-1 h-3 w-3"}),"Clear filters"]})]}):l.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-4 p-8",children:[l.jsx("div",{className:"bg-primary/10 rounded-full p-4",children:l.jsx(xe,{className:"text-primary/70 h-8 w-8"})}),l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"mb-1 font-medium",children:"No Data To Show"}),l.jsx("p",{className:"text-muted-foreground max-w-md text-sm",children:"This table does not have any data to display"})]})]})}),t[0]=r,t[1]=i,t[2]=d):d=t[2],m=d;const x=m;let u,f;t[3]!==s?(f=s||[],t[3]=s,t[4]=f):f=t[4];let h;if(t[5]!==r||t[6]!==o||t[7]!==f){let v;t[9]!==r||t[10]!==o?(v=C=>l.jsx(Ea,{column:C,value:(r==null?void 0:r[C])||"",onChange:o},C),t[9]=r,t[10]=o,t[11]=v):v=t[11],h=f.map(v),t[5]=r,t[6]=o,t[7]=f,t[8]=h}else h=t[8];u=h;const b=u;let p;t[12]!==s||t[13]!==a||t[14]!==b||t[15]!==n?(p=s&&a?s.map((v,C)=>l.jsxs(et,{className:"p-1 text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1 py-[1.5px]",children:[l.jsx(ka,{column:v}),l.jsx(se,{className:"text-foreground font-medium capitalize",children:v}),l.jsx(rt,{columnSchema:n[a].schema[C]})]}),b==null?void 0:b[C]]},v)):l.jsx(et,{children:l.jsx("p",{className:"text-xs",children:"No columns found"})}),t[12]=s,t[13]=a,t[14]=b,t[15]=n,t[16]=p):p=t[16];let g;t[17]!==p?(g=l.jsx(_t,{children:l.jsx(ve,{className:"bg-primary/5",children:p})}),t[17]=p,t[18]=g):g=t[18];let j;t[19]!==(s==null?void 0:s.length)||t[20]!==a||t[21]!==e||t[22]!==x||t[23]!==c||t[24]!==n?(j=e&&e.length>0?e.map((v,C)=>{const $=v.slice(1);return l.jsx(ve,{onClick:()=>c($,C,v[0]),className:"hover:bg-primary/5 focus:bg-primary/5 cursor-pointer text-xs",children:$.map((E,T)=>{var z;return l.jsx(tt,{className:"border-primary/5 border-t p-2",children:E?l.jsx(l.Fragment,{children:((z=n[a].schema[T])==null?void 0:z.type)==="BLOB"?l.jsx("span",{className:"text-muted-foreground bg-primary/5 rounded px-2 py-0.5 text-xs italic",children:"BLOB"}):l.jsx(se,{className:"text-xs",children:E})}):l.jsx("span",{className:"text-muted-foreground bg-primary/5 rounded px-2 py-0.5 text-xs italic",children:E===null?"NULL":JSON.stringify(E)})},T)})},C)}):l.jsx(ve,{children:l.jsx(tt,{colSpan:(s==null?void 0:s.length)||1,className:"h-32 text-center",children:x})}),t[19]=s==null?void 0:s.length,t[20]=a,t[21]=e,t[22]=x,t[23]=c,t[24]=n,t[25]=j):j=t[25];let _;t[26]!==j?(_=l.jsx(Ct,{children:j}),t[26]=j,t[27]=_):_=t[27];let w;return t[28]!==g||t[29]!==_?(w=l.jsxs(St,{children:[g,_]}),t[28]=g,t[29]=_,t[30]=w):w=t[30],w};function Da(t){return t.data}function Aa(t){return t.columns}function Pa(t){return t.currentTable}function Oa(t){return t.tablesSchema}function Ma(t){return t.filters}function Fa(t){return t.setFilters}const Ba=()=>{const t=y.c(51),{handlePageChange:e,handleExport:s}=le(),{isInserting:a,handleInsert:n}=he(),r=N(Ua),i=N(Qa),o=N(Ha),c=N(Va);let m;t[0]!==e?(m=()=>e("first"),t[0]=e,t[1]=m):m=t[1];const d=r===0||c;let x;t[2]===Symbol.for("react.memo_cache_sentinel")?(x=l.jsx(es,{className:"h-4 w-4"}),t[2]=x):x=t[2];let u;t[3]!==m||t[4]!==d?(u=l.jsx(O,{onClick:m,disabled:d,size:"icon",variant:"ghost",className:"h-8 w-8 rounded-l-md rounded-r-none border-r",title:"Go to first page",children:x}),t[3]=m,t[4]=d,t[5]=u):u=t[5];let f;t[6]!==e?(f=()=>e("prev"),t[6]=e,t[7]=f):f=t[7];const h=r===0||c;let b;t[8]===Symbol.for("react.memo_cache_sentinel")?(b=l.jsx(xt,{className:"h-4 w-4"}),t[8]=b):b=t[8];let p;t[9]!==f||t[10]!==h?(p=l.jsx(O,{onClick:f,disabled:h,size:"icon",variant:"ghost",className:"h-8 w-8 rounded-none border-r",title:"Go to previous page",children:b}),t[9]=f,t[10]=h,t[11]=p):p=t[11];const g=r+1;let j;t[12]===Symbol.for("react.memo_cache_sentinel")?(j=l.jsx("span",{className:"text-primary/50 mx-1",children:"-"}),t[12]=j):j=t[12];const _=r+i>o?o:r+i;let w;t[13]===Symbol.for("react.memo_cache_sentinel")?(w=l.jsx("span",{className:"text-primary/50 mx-1",children:"of"}),t[13]=w):w=t[13];let v;t[14]!==o||t[15]!==_||t[16]!==g?(v=l.jsx("div",{className:"flex items-center justify-center px-3 text-xs font-medium",children:l.jsxs("span",{children:[g,j,_,w,o]})}),t[14]=o,t[15]=_,t[16]=g,t[17]=v):v=t[17];let C;t[18]!==e?(C=()=>e("next"),t[18]=e,t[19]=C):C=t[19];const $=r+i>=o||c;let E;t[20]===Symbol.for("react.memo_cache_sentinel")?(E=l.jsx(mt,{className:"h-4 w-4"}),t[20]=E):E=t[20];let T;t[21]!==C||t[22]!==$?(T=l.jsx(O,{onClick:C,disabled:$,size:"icon",variant:"ghost",className:"h-8 w-8 rounded-none border-l",title:"Go to next page",children:E}),t[21]=C,t[22]=$,t[23]=T):T=t[23];let z;t[24]!==e?(z=()=>e("last"),t[24]=e,t[25]=z):z=t[25];const R=r+i>=o||c;let I;t[26]===Symbol.for("react.memo_cache_sentinel")?(I=l.jsx(ts,{className:"h-4 w-4"}),t[26]=I):I=t[26];let k;t[27]!==z||t[28]!==R?(k=l.jsx(O,{onClick:z,disabled:R,size:"icon",variant:"ghost",className:"h-8 w-8 rounded-l-none rounded-r-md border-l",title:"Go to last page",children:I}),t[27]=z,t[28]=R,t[29]=k):k=t[29];let D;t[30]!==v||t[31]!==T||t[32]!==k||t[33]!==u||t[34]!==p?(D=l.jsx("section",{className:"bg-primary/10 flex h-full grow items-center gap-2 p-1",children:l.jsxs("div",{className:"flex items-center rounded-md border shadow-sm",children:[u,p,v,T,k]})}),t[30]=v,t[31]=T,t[32]=k,t[33]=u,t[34]=p,t[35]=D):D=t[35];let U;t[36]===Symbol.for("react.memo_cache_sentinel")?(U=l.jsx(Qe,{className:"mr-2 h-3.5 w-3.5"}),t[36]=U):U=t[36];let H;t[37]!==n||t[38]!==a?(H=l.jsxs(O,{size:"sm",variant:"outline",className:"h-8 text-xs font-medium shadow-sm",onClick:n,disabled:a,children:[U,"Insert row"]}),t[37]=n,t[38]=a,t[39]=H):H=t[39];let F;t[40]!==s?(F=()=>s("current"),t[40]=s,t[41]=F):F=t[41];let W;t[42]===Symbol.for("react.memo_cache_sentinel")?(W=l.jsx(Se,{className:"mr-2 h-3.5 w-3.5"}),t[42]=W):W=t[42];let G;t[43]!==F?(G=l.jsxs(O,{onClick:F,size:"sm",variant:"outline",className:"h-8 text-xs font-medium shadow-sm",title:"Export current data as CSV",children:[W,"Export data"]}),t[43]=F,t[44]=G):G=t[44];let V;t[45]!==H||t[46]!==G?(V=l.jsxs("section",{className:"bg-primary/10 hidden h-full items-center gap-1 p-2 md:flex",children:[H,G]}),t[45]=H,t[46]=G,t[47]=V):V=t[47];let Q;return t[48]!==D||t[49]!==V?(Q=l.jsxs("footer",{className:"bg-background flex w-full items-center justify-between border-t shadow-sm",id:"paginationControls",children:[D,V]}),t[48]=D,t[49]=V,t[50]=Q):Q=t[50],Q};function Ua(t){return t.offset}function Qa(t){return t.limit}function Ha(t){return t.maxSize}function Va(t){return t.isDataLoading}const Ga=()=>{const t=y.c(35),e=N(Ka),s=N(qa),a=N(Xa),n=N(Ya),r=N(Ja),i=N(Za),o=ee(en),c=ee(tn),m=ee(sn),d=ee(ln),{handleExport:x}=le(),{isEditing:u}=he();let f;t[0]!==e||t[1]!==x||t[2]!==a||t[3]!==n||t[4]!==s?(f=()=>l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"hidden items-center gap-1 md:flex",children:[l.jsxs(O,{size:"sm",variant:"outline",className:"h-8 text-xs",onClick:()=>a(null),disabled:e==null,title:"Clear applied filters",children:[l.jsx(st,{className:"mr-1 h-3 w-3"}),"Clear filters"]}),l.jsxs(O,{size:"sm",variant:"outline",className:"h-8 text-xs",onClick:()=>n(null),disabled:s==null,title:"Reset sorting",children:[l.jsx(ft,{className:"mr-1 h-3 w-3"}),"Reset sorting"]}),l.jsxs(O,{size:"sm",variant:"outline",className:"h-8 text-xs",onClick:()=>x("table"),title:"Export the current table as CSV",children:[l.jsx(Se,{className:"mr-1 h-3 w-3"}),"Export table"]})]}),l.jsx("div",{className:"md:hidden",children:l.jsx(xa,{})})]}),t[0]=e,t[1]=x,t[2]=a,t[3]=n,t[4]=s,t[5]=f):f=t[5];const h=f;let b;t[6]===Symbol.for("react.memo_cache_sentinel")?(b=l.jsx(ia,{}),t[6]=b):b=t[6];let p;t[7]!==h?(p=l.jsx(h,{}),t[7]=h,t[8]=p):p=t[8];let g;t[9]!==r||t[10]!==i?(g=(r||i)&&l.jsx(Wa,{text:"Loading data"}),t[9]=r,t[10]=i,t[11]=g):g=t[11];let j;t[12]!==p||t[13]!==g?(j=l.jsxs("div",{className:"flex items-center gap-1 border-b px-1 py-2",children:[b,p,g]}),t[12]=p,t[13]=g,t[14]=j):j=t[14];let _;t[15]===Symbol.for("react.memo_cache_sentinel")?(_=l.jsxs("div",{className:"flex h-full flex-col justify-between border-l",id:"dataSection",children:[l.jsx(Ra,{}),l.jsx(Ba,{})]}),t[15]=_):_=t[15];let w;t[16]!==o||t[17]!==m?(w=l.jsx(fe,{id:"dataPanel",defaultSize:o,onResize:m,children:_}),t[16]=o,t[17]=m,t[18]=w):w=t[18];let v;t[19]===Symbol.for("react.memo_cache_sentinel")?(v=l.jsx(Ze,{className:"hidden md:flex",withHandle:!0}),t[19]=v):v=t[19];const C=`static md:relative md:block ${u?"block":"hidden"}`;let $;t[20]===Symbol.for("react.memo_cache_sentinel")?($=l.jsx("div",{className:"h-full overflow-hidden",children:l.jsx("div",{className:"h-full overflow-y-auto",children:l.jsx(it,{})})}),t[20]=$):$=t[20];const E=`bg-background absolute top-0 right-0 z-40 h-full w-full ${u?"block":"hidden"}`;let T;t[21]===Symbol.for("react.memo_cache_sentinel")?(T=l.jsx("section",{className:"bg-primary/5 h-full",children:l.jsx(Na,{})}),t[21]=T):T=t[21];let z;t[22]!==E?(z=l.jsx("div",{className:E,children:T}),t[22]=E,t[23]=z):z=t[23];let R;t[24]!==c||t[25]!==d||t[26]!==z||t[27]!==C?(R=l.jsxs(fe,{id:"schemaPanel",defaultSize:c,onResize:d,className:C,children:[$,z]}),t[24]=c,t[25]=d,t[26]=z,t[27]=C,t[28]=R):R=t[28];let I;t[29]!==R||t[30]!==w?(I=l.jsx("div",{className:"relative h-full overflow-hidden",children:l.jsxs(Je,{direction:"horizontal",className:"h-full",children:[w,v,R]})}),t[29]=R,t[30]=w,t[31]=I):I=t[31];let k;return t[32]!==I||t[33]!==j?(k=l.jsxs("div",{className:"flex h-full flex-col",children:[j,I]}),t[32]=I,t[33]=j,t[34]=k):k=t[34],k},Wa=t=>{const e=y.c(3),{text:s}=t;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsx(lt,{className:"mr-1 h-3 w-3 animate-spin"}),e[0]=a):a=e[0];let n;return e[1]!==s?(n=l.jsxs("span",{className:"ml-2 flex items-center text-xs text-gray-500",children:[a,s]}),e[1]=s,e[2]=n):n=e[2],n};function Ka(t){return t.filters}function qa(t){return t.sorters}function Xa(t){return t.setFilters}function Ya(t){return t.setSorters}function Ja(t){return t.isDataLoading}function Za(t){return t.isDatabaseLoading}function en(t){return t.dataPanelSize}function tn(t){return t.schemaPanelSize}function sn(t){return t.setDataPanelSize}function ln(t){return t.setSchemaPanelSize}const an=["ABORT","ACTION","ADD","AFTER","ALL","ALTER","ANALYZE","AND","AS","ASC","ATTACH","AUTOINCREMENT","BEFORE","BEGIN","BETWEEN","BY","CASCADE","CASE","CAST","CHECK","COLLATE","COLUMN","COMMIT","CONFLICT","CONSTRAINT","CREATE","CROSS","CURRENT_DATE","CURRENT_TIME","CURRENT_TIMESTAMP","DATABASE","DEFAULT","DEFERRABLE","DEFERRED","DELETE","DESC","DETACH","DISTINCT","DROP","EACH","ELSE","END","ESCAPE","EXCEPT","EXCLUSIVE","EXISTS","EXPLAIN","FAIL","FOR","FOREIGN","FROM","FULL","GLOB","GROUP","HAVING","IF","IGNORE","IMMEDIATE","IN","INDEX","INDEXED","INITIALLY","INNER","INSERT","INSTEAD","INTERSECT","INTO","IS","ISNULL","JOIN","KEY","LEFT","LIKE","LIMIT","MATCH","NATURAL","NO","NOT","NOTNULL","NULL","OF","OFFSET","ON","OR","ORDER","OUTER","PLAN","PRAGMA","PRIMARY","QUERY","RAISE","RECURSIVE","REFERENCES","REGEXP","REINDEX","RELEASE","RENAME","REPLACE","RESTRICT","RIGHT","ROLLBACK","ROW","SAVEPOINT","SELECT","SET","TABLE","TEMP","TEMPORARY","THEN","TO","TRANSACTION","TRIGGER","UNION","UNIQUE","UPDATE","USING","VACUUM","VALUES","VIEW","VIRTUAL","WHEN","WHERE","WITH","WITHOUT"],nn=["ABS","ACOS","ASIN","ATAN","CEIL","COS","EXP","FLOOR","HEX","LENGTH","LOG","LOWER","LTRIM","OCT","PI","POW","ROUND","SIGN","SIN","SQRT","TAN","TRIM","UPPER"];function rn(){const{theme:t}=pt(),e=N(d=>d.customQuery),s=N(d=>d.setCustomQuery),a=N(d=>d.tablesSchema),{tableNames:n,columnNames:r}=S.useMemo(()=>{const d=Object.keys(a),x=d.flatMap(u=>a[u].schema.map(f=>f.name));return{tableNames:d,columnNames:x}},[a]),i=S.useMemo(()=>[...an.map(d=>({label:d,type:"keyword"})),...nn.map(d=>({label:d,type:"function"})),...n.map(d=>({label:d,type:"table"})),...r.map(d=>({label:d,type:"column"}))],[n,r]),o=S.useCallback(d=>{const x=d.matchBefore(/\w*/);return!x||x.from===x.to&&!d.explicit?null:{from:x.from,to:x.to,options:i}},[i]),c=S.useCallback(d=>{d!==e&&s(d)},[e,s]),m=S.useMemo(()=>[Ds,As(),Ps({override:[o]})],[o]);return l.jsx($s,{value:e,height:"100%",extensions:m,onChange:c,className:"h-full w-full",theme:t==="dark"?Rs:"light"})}const on=()=>{const t=y.c(31),e=N(cn);if(!e){let u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u=l.jsx("div",{className:"bg-primary/10 rounded-full p-4",children:l.jsx(xe,{className:"text-primary/70 h-8 w-8"})}),t[0]=u):u=t[0];let f;return t[1]===Symbol.for("react.memo_cache_sentinel")?(f=l.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-4 p-8",children:[u,l.jsxs("div",{className:"text-center",children:[l.jsx("h3",{className:"mb-1 font-medium",children:"No Query Results"}),l.jsx("p",{className:"text-muted-foreground max-w-md text-sm",children:"Execute a SQL query to view the results here"})]})]}),t[1]=f):f=t[1],f}if(!e.data||e.data.length===0){let u,f;t[2]===Symbol.for("react.memo_cache_sentinel")?(u=l.jsx(ye,{className:"text-primary/70 h-4 w-4"}),f=l.jsx("h3",{className:"text-sm font-medium",children:"Query Results"}),t[2]=u,t[3]=f):(u=t[2],f=t[3]);let h;t[4]!==e.columns.length?(h=l.jsx("div",{className:"bg-primary/5 border-b p-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[u,f,l.jsxs("span",{className:"bg-primary/10 rounded-full px-2 py-0.5 text-xs",children:[e.columns.length," columns"]})]})}),t[4]=e.columns.length,t[5]=h):h=t[5];let b;t[6]===Symbol.for("react.memo_cache_sentinel")?(b=l.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-center",children:[l.jsx("div",{className:"bg-primary/5 mb-4 rounded-full p-4",children:l.jsx(ye,{className:"text-primary/50 h-6 w-6"})}),l.jsx("p",{className:"text-md mb-1 font-medium",children:"Query returned no results"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Your query executed successfully but returned no data"})]}),t[6]=b):b=t[6];let p;return t[7]!==h?(p=l.jsxs("div",{className:"shadow-sm",children:[h,b]}),t[7]=h,t[8]=p):p=t[8],p}let s;t[9]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ye,{className:"text-primary/70 h-4 w-4"}),l.jsx("h3",{className:"text-sm font-medium",children:"Query Results"})]}),t[9]=s):s=t[9];let a;t[10]!==e.data.length?(a=l.jsxs("span",{className:"bg-primary/10 rounded-full px-2 py-0.5 text-xs",children:[e.data.length," rows"]}),t[10]=e.data.length,t[11]=a):a=t[11];let n;t[12]!==e.columns.length?(n=l.jsxs("span",{className:"bg-primary/10 rounded-full px-2 py-0.5 text-xs",children:[e.columns.length," columns"]}),t[12]=e.columns.length,t[13]=n):n=t[13];let r;t[14]!==a||t[15]!==n?(r=l.jsx("div",{className:"bg-primary/5 border-b p-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[s,l.jsxs("div",{className:"flex items-center gap-2",children:[a,n]})]})}),t[14]=a,t[15]=n,t[16]=r):r=t[16];let i;t[17]!==e.columns?(i=e.columns.map(dn),t[17]=e.columns,t[18]=i):i=t[18];let o;t[19]!==i?(o=l.jsx(_t,{children:l.jsx(ve,{className:"bg-primary/5 border-b",children:i})}),t[19]=i,t[20]=o):o=t[20];let c;t[21]!==e.data?(c=e.data.map(un),t[21]=e.data,t[22]=c):c=t[22];let m;t[23]!==c?(m=l.jsx(Ct,{children:c}),t[23]=c,t[24]=m):m=t[24];let d;t[25]!==o||t[26]!==m?(d=l.jsx("div",{className:"overflow-auto",children:l.jsxs(St,{children:[o,m]})}),t[25]=o,t[26]=m,t[27]=d):d=t[27];let x;return t[28]!==r||t[29]!==d?(x=l.jsxs("div",{className:"shadow-sm",children:[r,d]}),t[28]=r,t[29]=d,t[30]=x):x=t[30],x};function cn(t){return t.customQueryObject}function dn(t){return l.jsx(et,{className:"bg-primary/5 sticky top-0 z-10 p-2 text-xs font-medium",children:l.jsx("div",{className:"flex items-center gap-1",children:l.jsx(se,{className:"text-foreground capitalize",children:t})})},t)}function mn(t,e){return l.jsx(tt,{className:"border-primary/5 border-t p-2",children:t!==null?l.jsx(se,{className:"text-xs",children:t}):l.jsx("span",{className:"text-muted-foreground bg-primary/5 rounded px-2 py-0.5 text-xs italic",children:"NULL"})},e)}function un(t,e){return l.jsx(ve,{className:"hover:bg-primary/5 border-primary/5 border-t text-xs transition-colors",children:t.map(mn)},e)}const fn=()=>{const t=y.c(43),e=N(xn),s=N(hn),a=N(pn),n=N(bn),r=ee(gn),i=ee(jn),o=ee(Nn),c=ee(yn),m=N(vn),{handleQueryExecute:d,handleExport:x}=le();let u;t[0]!==s?(u=()=>{s(null)},t[0]=s,t[1]=u):u=t[1];const f=u;let h;t[2]===Symbol.for("react.memo_cache_sentinel")?(h=l.jsx(ss,{className:"mr-1 h-3 w-3"}),t[2]=h):h=t[2];let b;t[3]!==d?(b=l.jsxs(O,{size:"sm",variant:"outline",className:"w-[150px] text-xs",onClick:d,title:"Execute SQL",children:[h,"Execute SQL"]}),t[3]=d,t[4]=b):b=t[4];let p;t[5]!==x?(p=()=>x("custom"),t[5]=x,t[6]=p):p=t[6];const g=!(m!=null&&m.data);let j;t[7]===Symbol.for("react.memo_cache_sentinel")?(j=l.jsx(Se,{className:"mr-1 h-3 w-3"}),t[7]=j):j=t[7];let _;t[8]!==p||t[9]!==g?(_=l.jsxs(O,{onClick:p,size:"sm",variant:"outline",className:"text-xs",disabled:g,children:[j,"Export data"]}),t[8]=p,t[9]=g,t[10]=_):_=t[10];let w;t[11]!==a||t[12]!==n?(w=(a||n)&&l.jsxs("span",{className:"ml-2 flex items-center text-xs text-gray-500",children:[l.jsx(lt,{className:"mr-1 h-3 w-3 animate-spin"}),"Loading data"]}),t[11]=a,t[12]=n,t[13]=w):w=t[13];let v;t[14]!==b||t[15]!==_||t[16]!==w?(v=l.jsxs("div",{className:"flex items-center gap-1 border-b px-1 py-2",children:[b,_,w]}),t[14]=b,t[15]=_,t[16]=w,t[17]=v):v=t[17];let C;t[18]!==e||t[19]!==f?(C=e&&l.jsxs("div",{className:"flex items-center justify-between p-2",children:[l.jsx("div",{className:"text-sm text-red-400",children:e}),l.jsx(O,{size:"sm",variant:"outline",className:"text-xs",onClick:f,children:l.jsx(ls,{className:"h-3 w-3"})})]}),t[18]=e,t[19]=f,t[20]=C):C=t[20];let $;t[21]===Symbol.for("react.memo_cache_sentinel")?($=l.jsx(rn,{}),t[21]=$):$=t[21];let E;t[22]!==C?(E=l.jsxs(fe,{defaultSize:25,children:[C,$]}),t[22]=C,t[23]=E):E=t[23];let T;t[24]===Symbol.for("react.memo_cache_sentinel")?(T=l.jsx(Ze,{withHandle:!0}),t[24]=T):T=t[24];let z;t[25]===Symbol.for("react.memo_cache_sentinel")?(z=l.jsx(fe,{defaultSize:75,children:l.jsx("div",{className:"flex h-full flex-col justify-between border",children:l.jsx(on,{})})}),t[25]=z):z=t[25];let R;t[26]!==E?(R=l.jsxs(Je,{direction:"vertical",children:[E,T,z]}),t[26]=E,t[27]=R):R=t[27];let I;t[28]!==r||t[29]!==o||t[30]!==R?(I=l.jsx(fe,{defaultSize:r,onResize:o,children:R}),t[28]=r,t[29]=o,t[30]=R,t[31]=I):I=t[31];let k;t[32]===Symbol.for("react.memo_cache_sentinel")?(k=l.jsx(Ze,{className:"hidden md:flex",withHandle:!0}),t[32]=k):k=t[32];let D;t[33]===Symbol.for("react.memo_cache_sentinel")?(D=l.jsx("div",{className:"h-full overflow-hidden",children:l.jsx("div",{className:"h-full overflow-y-auto",children:l.jsx(it,{})})}),t[33]=D):D=t[33];let U;t[34]!==i||t[35]!==c?(U=l.jsx(fe,{defaultSize:i,onResize:c,className:"hidden md:block",children:D}),t[34]=i,t[35]=c,t[36]=U):U=t[36];let H;t[37]!==I||t[38]!==U?(H=l.jsx("div",{className:"h-full overflow-hidden",children:l.jsxs(Je,{direction:"horizontal",className:"h-full",children:[I,k,U]})}),t[37]=I,t[38]=U,t[39]=H):H=t[39];let F;return t[40]!==H||t[41]!==v?(F=l.jsxs("div",{className:"flex h-full flex-col",children:[v,H]}),t[40]=H,t[41]=v,t[42]=F):F=t[42],F};function xn(t){return t.errorMessage}function hn(t){return t.setErrorMessage}function pn(t){return t.isDataLoading}function bn(t){return t.isDatabaseLoading}function gn(t){return t.dataPanelSize}function jn(t){return t.schemaPanelSize}function Nn(t){return t.setDataPanelSize}function yn(t){return t.setSchemaPanelSize}function vn(t){return t.customQueryObject}function wn({children:t}){const{handleFileUpload:e}=le(),[s,a]=S.useState(!1),n=S.useCallback(o=>{o.preventDefault(),o.stopPropagation(),a(!0)},[]),r=S.useCallback(o=>{o.preventDefault(),o.stopPropagation(),a(!1)},[]),i=S.useCallback(o=>{var c;o.preventDefault(),o.stopPropagation(),a(!1);try{const m=(c=o.dataTransfer)==null?void 0:c.files;if(!m||m.length===0){Y("No file detected");return}const d=m[0];e(d)}catch(m){const d=m instanceof Error?m.message:"Failed to process file";Y(`Failed to process file: ${d}`)}},[e]);return S.useEffect(()=>(window.addEventListener("dragover",n),window.addEventListener("dragleave",r),window.addEventListener("drop",i),()=>{window.removeEventListener("dragover",n),window.removeEventListener("dragleave",r),window.removeEventListener("drop",i)}),[n,r,i]),l.jsxs(l.Fragment,{children:[t,s&&l.jsx("section",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm transition-all",children:l.jsxs("div",{className:"border-primary/60 bg-background/95 animate-in fade-in zoom-in-95 flex flex-col items-center justify-center rounded-lg border-2 border-dashed p-8 shadow-lg transition-transform duration-200",children:[l.jsx("div",{className:"bg-primary/10 mb-6 flex items-center justify-center rounded-full p-5",children:l.jsx(xe,{className:"text-primary h-12 w-12"})}),l.jsx("h3",{className:"mb-2 text-xl font-medium",children:"Drop SQLite Database"}),l.jsx("p",{className:"text-muted-foreground mb-4 text-center text-sm",children:"Release to load your database file"})]})})]})}function Sn(){const t=y.c(24),e=N(_n);let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx(Sl,{}),t[0]=s):s=t[0];let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsx(xe,{className:"hidden h-4 w-4 md:block"}),t[1]=a):a=t[1];let n;t[2]!==e?(n=l.jsxs(Xe,{id:"structure",disabled:e,value:"structure",className:"data-[state=active]: data-[state=active]:border-primary h-8 rounded-none text-xs",children:[a,"Database Structure"]},"structure"),t[2]=e,t[3]=n):n=t[3];let r,i;t[4]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx(ye,{className:"hidden h-4 w-4 md:block"}),i=l.jsx("span",{children:"Browse Data"}),t[4]=r,t[5]=i):(r=t[4],i=t[5]);let o;t[6]!==e?(o=l.jsxs(Xe,{id:"data",disabled:e,value:"data",className:"data-[state=active]: data-[state=active]:border-primary h-8 rounded-none text-xs",children:[r,i]},"data"),t[6]=e,t[7]=o):o=t[7];let c;t[8]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsx(as,{className:"hidden h-4 w-4 md:block"}),t[8]=c):c=t[8];let m;t[9]!==e?(m=l.jsxs(Xe,{disabled:e,id:"execute",value:"execute",className:"data-[state=active]: data-[state=active]:border-primary h-8 rounded-none text-xs",children:[c,"Execute SQL"]},"execute"),t[9]=e,t[10]=m):m=t[10];let d;t[11]!==n||t[12]!==o||t[13]!==m?(d=l.jsxs(jl,{className:"bg-primary/5 mt-2 h-9 w-full justify-start rounded-none border-b",children:[n,o,m]}),t[11]=n,t[12]=o,t[13]=m,t[14]=d):d=t[14];let x;t[15]!==e?(x=l.jsx(Ye,{value:"data",className:"m-0 h-full border-none p-0",children:e?l.jsx(Cn,{message:"Loading Database"}):l.jsx(Ga,{})}),t[15]=e,t[16]=x):x=t[16];let u;t[17]===Symbol.for("react.memo_cache_sentinel")?(u=l.jsx(Ye,{value:"structure",className:"m-0 h-full border-none p-0",children:l.jsx(Zl,{})}),t[17]=u):u=t[17];let f;t[18]===Symbol.for("react.memo_cache_sentinel")?(f=l.jsx(Ye,{value:"execute",className:"m-0 h-full border border-none p-0",children:l.jsx(fn,{})}),t[18]=f):f=t[18];let h;t[19]!==x?(h=l.jsxs("div",{className:"max-h-custom-dvh flex-1 overflow-hidden",children:[x,u,f]}),t[19]=x,t[20]=h):h=t[20];let b;return t[21]!==h||t[22]!==d?(b=l.jsx(wn,{children:l.jsxs("main",{className:"bg-primary/5 flex h-screen flex-col overflow-hidden",children:[s,l.jsxs(gl,{defaultValue:"data",className:"flex flex-1 flex-col",children:[d,h]})]})}),t[21]=h,t[22]=d,t[23]=b):b=t[23],b}function _n(t){return t.isDatabaseLoading}const Cn=t=>{const e=y.c(6),{message:s}=t;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsx("div",{className:"bg-primary/10 rounded-full p-4",children:l.jsx(lt,{className:"text-primary h-8 w-8 animate-spin"})}),e[0]=a):a=e[0];let n;e[1]!==s?(n=l.jsx("span",{className:"text-xl font-medium",children:s}),e[1]=s,e[2]=n):n=e[2];let r;e[3]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx("span",{className:"text-muted-foreground text-sm",children:"Please wait while the database is initializing"}),e[3]=r):r=e[3];let i;return e[4]!==n?(i=l.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-4",children:[a,l.jsxs("div",{className:"flex flex-col items-center",children:[n,r]})]}),e[4]=n,e[5]=i):i=e[5],i};Tt.createRoot(document.getElementById("root")).render(l.jsx(S.StrictMode,{children:l.jsxs(Bs,{defaultTheme:"dark",storageKey:"ui-theme",children:[l.jsx(Us,{children:l.jsx(Qs,{children:l.jsx(Sn,{})})}),l.jsx(Os,{})]})}));
