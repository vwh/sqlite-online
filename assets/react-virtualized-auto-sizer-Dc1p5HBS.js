import{r as F}from"./react-B2RL9x2s.js";let d;typeof window<"u"?d=window:typeof self<"u"?d=self:d=global;let R=null,b=null;const N=20,y=d.clearTimeout,C=d.setTimeout,E=d.cancelAnimationFrame||d.mozCancelAnimationFrame||d.webkitCancelAnimationFrame,x=d.requestAnimationFrame||d.mozRequestAnimationFrame||d.webkitRequestAnimationFrame;E==null||x==null?(R=y,b=function(a){return C(a,N)}):(R=function([a,t]){E(a),y(t)},b=function(a){const t=x(function(){y(l),a()}),l=C(function(){E(t),a()},N);return[t,l]});function A(m){let a,t,l,c,g,f,p;const z=typeof document<"u"&&document.attachEvent;if(!z){f=function(n){const r=n.__resizeTriggers__,h=r.firstElementChild,w=r.lastElementChild,T=h.firstElementChild;w.scrollLeft=w.scrollWidth,w.scrollTop=w.scrollHeight,T.style.width=h.offsetWidth+1+"px",T.style.height=h.offsetHeight+1+"px",h.scrollLeft=h.scrollWidth,h.scrollTop=h.scrollHeight},g=function(n){return n.offsetWidth!==n.__resizeLast__.width||n.offsetHeight!==n.__resizeLast__.height},p=function(n){if(n.target.className&&typeof n.target.className.indexOf=="function"&&n.target.className.indexOf("contract-trigger")<0&&n.target.className.indexOf("expand-trigger")<0)return;const r=this;f(this),this.__resizeRAF__&&R(this.__resizeRAF__),this.__resizeRAF__=b(function(){g(r)&&(r.__resizeLast__.width=r.offsetWidth,r.__resizeLast__.height=r.offsetHeight,r.__resizeListeners__.forEach(function(T){T.call(r,n)}))})};let e=!1,i="";l="animationstart";const o="Webkit Moz O ms".split(" ");let s="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),_="";{const n=document.createElement("fakeelement");if(n.style.animationName!==void 0&&(e=!0),e===!1){for(let r=0;r<o.length;r++)if(n.style[o[r]+"AnimationName"]!==void 0){_=o[r],i="-"+_.toLowerCase()+"-",l=s[r],e=!0;break}}}t="resizeanim",a="@"+i+"keyframes "+t+" { from { opacity: 0; } to { opacity: 0; } } ",c=i+"animation: 1ms "+t+"; "}const L=function(e){if(!e.getElementById("detectElementResize")){const i=(a||"")+".resize-triggers { "+(c||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',o=e.head||e.getElementsByTagName("head")[0],s=e.createElement("style");s.id="detectElementResize",s.type="text/css",m!=null&&s.setAttribute("nonce",m),s.styleSheet?s.styleSheet.cssText=i:s.appendChild(e.createTextNode(i)),o.appendChild(s)}};return{addResizeListener:function(e,i){if(z)e.attachEvent("onresize",i);else{if(!e.__resizeTriggers__){const o=e.ownerDocument,s=d.getComputedStyle(e);s&&s.position==="static"&&(e.style.position="relative"),L(o),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=o.createElement("div")).className="resize-triggers";const _=o.createElement("div");_.className="expand-trigger",_.appendChild(o.createElement("div"));const n=o.createElement("div");n.className="contract-trigger",e.__resizeTriggers__.appendChild(_),e.__resizeTriggers__.appendChild(n),e.appendChild(e.__resizeTriggers__),f(e),e.addEventListener("scroll",p,!0),l&&(e.__resizeTriggers__.__animationListener__=function(h){h.animationName===t&&f(e)},e.__resizeTriggers__.addEventListener(l,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(i)}},removeResizeListener:function(e,i){if(z)e.detachEvent("onresize",i);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(i),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",p,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(l,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch{}}}}}class W extends F.Component{constructor(...a){super(...a),this.state={height:this.props.defaultHeight||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._didLogDeprecationWarning=!1,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:t,disableWidth:l,onResize:c}=this.props;if(this._parentNode){const g=window.getComputedStyle(this._parentNode)||{},f=parseFloat(g.paddingLeft||"0"),p=parseFloat(g.paddingRight||"0"),z=parseFloat(g.paddingTop||"0"),L=parseFloat(g.paddingBottom||"0"),v=this._parentNode.getBoundingClientRect(),u=v.height-z-L,e=v.width-f-p;if(!t&&this.state.height!==u||!l&&this.state.width!==e){this.setState({height:u,width:e});const i=()=>{this._didLogDeprecationWarning||(this._didLogDeprecationWarning=!0,console.warn("scaledWidth and scaledHeight parameters have been deprecated; use width and height instead"))};typeof c=="function"&&c({height:u,width:e,get scaledHeight(){return i(),u},get scaledWidth(){return i(),e}})}}},this._setRef=t=>{this._autoSizer=t}}componentDidMount(){const{nonce:a}=this.props,t=this._autoSizer?this._autoSizer.parentNode:null;if(t!=null&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){this._parentNode=t;const l=t.ownerDocument.defaultView.ResizeObserver;l!=null?(this._resizeObserver=new l(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(t)):(this._detectElementResize=A(a),this._detectElementResize.addResizeListener(t,this._onResize)),this._onResize()}}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&this._resizeObserver.disconnect())}render(){const{children:a,defaultHeight:t,defaultWidth:l,disableHeight:c=!1,disableWidth:g=!1,doNotBailOutOnEmptyChildren:f=!1,nonce:p,onResize:z,style:L={},tagName:v="div",...u}=this.props,{height:e,width:i}=this.state,o={overflow:"visible"},s={};let _=!1;return c||(e===0&&(_=!0),o.height=0,s.height=e,s.scaledHeight=e),g||(i===0&&(_=!0),o.width=0,s.width=i,s.scaledWidth=i),f&&(_=!1),F.createElement(v,{ref:this._setRef,style:{...o,...L},...u},!_&&a(s))}}export{W as A};
